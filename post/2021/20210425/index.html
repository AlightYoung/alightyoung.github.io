<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="../../../favicon.png" />
  <meta name="viewport" content="width=device-width" />
  <!-- <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> -->
  
		<link href="../../../_app/immutable/assets/0.BswQXBpI.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/MetaInfo.BulS0zHg.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../_app/immutable/entry/start.B0uU1i8C.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CX51xZ2F.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/DjZWMejr.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/1-tVDTRO.js">
		<link rel="modulepreload" href="../../../_app/immutable/entry/app.C_EpeSa8.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/C1FmrZbK.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/BllYp7Ke.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CRecLwPA.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/twKMz7VN.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/bwnGCEpo.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/YTfhHMJd.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/0.fbH6_Ft0.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CVz5lsGT.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Cv6weRxt.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CZGaQ8pL.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/XaWqD6y0.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/D_nkYteb.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/5.DxasfRi1.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/eEeOeusZ.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/BwD4FRPR.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/vF5qEgqU.js">
  <script>
    const localTheme = window.localStorage.getItem("theme") || "light"
    document.documentElement.classList = [localTheme]
    document.documentElement.setAttribute("data-theme", localTheme)
  </script>
  <script>
    MathJax = {
      loader: { load: ["ui/safe"] },
      tex: {
        inlineMath: [
          ["$", "$"],
          ["\\(", "\\)"]
        ]
      },
      startup: {
        pageReady: () => {
          // avoid initial typesetting
          // MathJax.startup.defaultPageReady()
        }
      }
    }
  </script>
  <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>
</head>

<body data-sveltekit-preload-data="hover">
  <div style="display: contents"><!--[--><!--[--><!----><div class="w-full max-w-full sticky h-16 left-0 top-0 z-50"><!--[!--><!--]--></div><!----> <!----><!----><div class="relative w-screen max-w-full min-h-screen"><div class="fixed top-0 left-0 w-[20vw] max-h-screen opacity-80 hidden xl:block"><div class="w-full h-[calc(100vh-15rem)] p-16 text-sm overflow-x-hidden overflow-y-scroll"><div class="font-bold my-8">Table of Content</div> <!--[--><div class="my-4 pl-2  hover:underline hover:text-accent"><a href="#åºè¨€"><div class="overflow-hidden whitespace-nowrap text-ellipsis">åºè¨€</div></a></div><div class="my-4 pl-2  hover:underline hover:text-accent"><a href="#å¯ä»¥åšäº›ä»€ä¹ˆ"><div class="overflow-hidden whitespace-nowrap text-ellipsis">å¯ä»¥åšäº›ä»€ä¹ˆ</div></a></div><div class="my-4 pl-2  hover:underline hover:text-accent"><a href="#ä¸€äº›æ¦‚å¿µ"><div class="overflow-hidden whitespace-nowrap text-ellipsis">ä¸€äº›æ¦‚å¿µ</div></a></div><div class="my-4 pl-2  hover:underline hover:text-accent"><a href="#ä¸€ä¸ªæ —å­"><div class="overflow-hidden whitespace-nowrap text-ellipsis">ä¸€ä¸ªæ —å­</div></a></div><div class="my-4 pl-2  hover:underline hover:text-accent"><a href="#æœ€å"><div class="overflow-hidden whitespace-nowrap text-ellipsis">æœ€å</div></a></div><!--]--></div><!----></div> <!--[!--><!--]--> <div data-pagefind-body="" class="w-full flex justify-center"><div class="prose"><h2>Github Actionå¿«é€Ÿæ‰«ç›²</h2> <div class="my-4"><div class="flex items-center gap-4"><!--[--><!--[--><a href="/categories?category=Guide" class="hover:no-underline">Guide</a><!--]--><!--]--> <!--[--><a href="/tags?tag=Github" class="border rounded-full px-2 py-1 text-xs select-none cursor-pointer hover:no-underline">Github</a><!--]--></div></div><!----> <div class="mt-4">April 26, 2021</div> <hr class="my-8"><!----> <!--[--><!--[--><!----><h2 id="åºè¨€" class="-z-10 border-t-[4rem] border-t-transparent relative -mt-16 pt-[.5em]"><!--[--><!--[-->åºè¨€<!--]--><!--]--><!----></h2><!----><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->Github Actionæ˜¯Githubè‡ª2018å¹´10æœˆæ¨å‡ºçš„ä¸€æ¬¾æœåŠ¡ï¼Œä¸»è¦ç”¨äºCI/CD<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><!--[!--><!--[--><div class="border-success bg-success border-l-4 p-4 mt-4 bg-opacity-10 rounded"><div class="font-bold text-md">TIP</div> <!--[--><!--[--><!--[!--><div><!--[--><!--[-->CI / CD (<!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><strong><!--[--><!--[-->C<!--]--><!--]--></strong><!--]--><!--]--><!--]--><!--]--><!--]--><!--[-->ontinuous <!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><strong><!--[--><!--[-->I<!--]--><!--]--></strong><!--]--><!--]--><!--]--><!--]--><!--]--><!--[-->ntegration / <!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><strong><!--[--><!--[-->C<!--]--><!--]--></strong><!--]--><!--]--><!--]--><!--]--><!--]--><!--[-->ontinuous <!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><strong><!--[--><!--[-->D<!--]--><!--]--></strong><!--]--><!--]--><!--]--><!--]--><!--]--><!--[-->elivery or <!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><strong><!--[--><!--[-->D<!--]--><!--]--></strong><!--]--><!--]--><!--]--><!--]--><!--]--><!--[-->eployment)<!--]--><!--]--></div><!--]--><!--]--><!--[--><!--[!--><div><!--[--><!--[-->æŒç»­é›†æˆ &amp; æŒç»­äº¤ä»˜/æŒç»­éƒ¨ç½²<!--]--><!--]--></div><!--]--><!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--[--><!----><h2 id="å¯ä»¥åšäº›ä»€ä¹ˆ" class="-z-10 border-t-[4rem] border-t-transparent relative -mt-16 pt-[.5em]"><!--[--><!--[-->å¯ä»¥åšäº›ä»€ä¹ˆ<!--]--><!--]--><!----></h2><!----><!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><ol><!--[--><!--[--><li><span class="items-center"><!--[!--><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><!--[--><!--[-->è‡ªåŠ¨éƒ¨ç½²ä½ çš„é¡¹ç›®åˆ°Github Pages<!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--></span></li><!--]--><!--[--><li><span class="items-center"><!--[!--><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><!--[--><!--[-->ç¼–è¯‘OpenWRTå›ºä»¶<!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--></span></li><!--]--><!--[--><li><span class="items-center"><!--[!--><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><!--[--><!--[-->ä»£ç è´¨é‡æ£€æŸ¥<!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--></span></li><!--]--><!--[--><li><span class="items-center"><!--[!--><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><!--[--><!--[-->...<!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--></span></li><!--]--><!--]--></ol><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->Github Actionçš„ç©æ³•éå¸¸å¤šï¼Œåœ¨å®˜æ–¹çš„<!--]--><!--[!--><!--[!--><!--[!--><!--[--><a href="https://github.com/marketplace?type=actions"><!--[--><!--[-->Marketplace<!--]--><!--]--></a><!--]--><!--]--><!--]--><!--]--><!--[-->ä¸­ï¼Œä½ å¯ä»¥æœç´¢åˆ°å¤§é‡åˆ«äººå·²ç»å†™å¥½çš„Actionï¼Œå‚è€ƒå¯¹åº”æ–‡æ¡£å³å¯è½»æ¾å®ç°ä¸€äº›å¼ºå¤§çš„åŠŸèƒ½ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æƒ³è‡ªå®šä¹‰ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå‰ææ˜¯ä½ è¶³å¤Ÿäº†è§£å®ƒã€‚<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[--><!----><h2 id="ä¸€äº›æ¦‚å¿µ" class="-z-10 border-t-[4rem] border-t-transparent relative -mt-16 pt-[.5em]"><!--[--><!--[-->ä¸€äº›æ¦‚å¿µ<!--]--><!--]--><!----></h2><!----><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->åœ¨Github Actionä¸­ï¼Œé€šå¸¸ç”±ä¸€ä¸ªyamlé…ç½®æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå·¥ä½œæµã€‚è¿™ä¸ªyamlæ–‡ä»¶çš„å‘½åå¯ä»¥éšæ„ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨<!--]--><!--[!--><!--[--><code class="break-words">/.github/workflows/</code><!--]--><!--]--><!--[-->ç›®å½•ä¸‹ã€‚<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->åœ¨è¿™ä¸ªyamlæ–‡ä»¶ä¸‹ï¼Œä½ éœ€è¦è¿›è¡Œå¤§é‡çš„é…ç½®ã€‚<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯¦ç»†ä»‹ç»ä¸€ä¸‹<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><em><!--[--><!--[-->github-actions-demo.yml<!--]--><!--]--></em><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><pre class="relative w-screen max-w-full overflow-x-auto bg-onelight dark:bg-onedark" id="code"><code class="hljs hljs-yaml svelte-1tu170p"><!----><span class="hljs-comment"># å±•ç¤ºçš„åç§° é»˜è®¤ä¸ºæ–‡ä»¶å</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Actions</span> <span class="hljs-string">Demo</span>
<span class="hljs-comment"># è§¦å‘çš„æ¡ä»¶ï¼Œè¯¦ç»†å‚è€ƒï¼šhttps://docs.github.com/en/actions/reference/events-that-trigger-workflows</span>
<span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>]
<span class="hljs-comment"># å·¥ä½œ</span>
<span class="hljs-attr">jobs:</span>
   <span class="hljs-comment"># è‡ªå®šä¹‰çš„å·¥ä½œ</span>
  <span class="hljs-attr">Explore-GitHub-Actions:</span>
    <span class="hljs-comment"># è¿è¡Œç¯å¢ƒï¼Œè¯¦ç»†å‚è€ƒï¼šhttps://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-comment">#æ­¥éª¤</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">echo</span> <span class="hljs-string">&quot;ğŸ‰ The job was automatically triggered by a $<span class="hljs-template-variable">{{ github.event_name }}</span> event.&quot;</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">echo</span> <span class="hljs-string">&quot;ğŸ§ This job is now running on a $<span class="hljs-template-variable">{{ runner.os }}</span> server hosted by GitHub!&quot;</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">echo</span> <span class="hljs-string">&quot;ğŸ” The name of your branch is $<span class="hljs-template-variable">{{ github.ref }}</span> and your repository is $<span class="hljs-template-variable">{{ github.repository }}</span>.&quot;</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Check</span> <span class="hljs-string">out</span> <span class="hljs-string">repository</span> <span class="hljs-string">code</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">echo</span> <span class="hljs-string">&quot;ğŸ’¡ The $<span class="hljs-template-variable">{{ github.repository }}</span> repository has been cloned to the runner.&quot;</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">echo</span> <span class="hljs-string">&quot;ğŸ–¥ï¸ The workflow is now ready to test your code on the runner.&quot;</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">List</span> <span class="hljs-string">files</span> <span class="hljs-string">in</span> <span class="hljs-string">the</span> <span class="hljs-string">repository</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          ls ${{ github.workspace }}
</span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">echo</span> <span class="hljs-string">&quot;ğŸ This job&#x27;s status is $<span class="hljs-template-variable">{{ job.status }}</span>.&quot;</span><!----></code><!--[!--><span class="absolute top-1 right-2 select-none text-xs text-dark-content">yaml</span><!--]--><!--[!--><!--]--></pre><!--]--><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->ä»¥ä¸Šæ˜¯ä¸€ä¸ªè¾ƒä¸ºç®€å•çš„æ¨¡æ¿ã€‚å…·ä½“ä¼šå› éœ€æ±‚çš„å¢åŠ å¯¼è‡´å‚æ•°ä¹Ÿä¼šå¢åŠ ï¼Œä¾‹å¦‚envï¼Œé€šå¸¸æ˜¯ä¸€äº›ä¸ªäººçš„é…ç½®å‚æ•°ã€‚æˆ–è€…secretsï¼Œä¸€èˆ¬æ˜¯ç”¨æ¥è·å–Githubçš„Access Tokenä¹‹ç±»çš„åŠ å¯†å‚æ•°ã€‚æ€»ä¹‹ï¼Œå¤§éƒ¨åˆ†é…ç½®éƒ½æ˜¯ç±»ä¼¼ç»“æ„ã€‚<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[--><!----><h2 id="ä¸€ä¸ªæ —å­" class="-z-10 border-t-[4rem] border-t-transparent relative -mt-16 pt-[.5em]"><!--[--><!--[-->ä¸€ä¸ªæ —å­<!--]--><!--]--><!----></h2><!----><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->å› ä¸ºæœ¬åšå®¢å°±æ˜¯åˆ©ç”¨äº†Github Actionå®Œæˆçš„æŒç»­éƒ¨ç½²ã€‚æ‰€ä»¥è¿™é‡Œç®€å•è¯´æ˜ä¸€ä¸‹è¯¥Actionçš„ä½¿ç”¨æ–¹å¼ã€‚<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->é¦–å…ˆåœ¨å¸‚åœºæœç´¢VuePressï¼Œå‘ç°äº†ä¸€ä¸ªstaræ•°æœ€é«˜çš„<!--]--><!--[!--><!--[!--><!--[!--><!--[--><a href="https://github.com/marketplace/actions/vuepress-deploy"><!--[--><!--[-->VuePress Deploy<!--]--><!--]--></a><!--]--><!--]--><!--]--><!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->ä½¿ç”¨æ–¹æ³•åœ¨å‘å¸ƒé¡µæè¿°çš„ååˆ†æ¸…æ¥šï¼Œå¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥é„¹<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><ol><!--[--><!--[--><li><span class="items-center"><!--[!--><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><!--[--><!--[-->åœ¨ä½ çš„VuePressé¡¹ç›®çš„æ ¹ç›®å½•æ–°å»º<!--]--><!--[!--><!--[--><code class="break-words">.github/workflows</code><!--]--><!--]--><!--[-->ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­æ–°å»ºä¸€ä¸ª<!--]--><!--[!--><!--[--><code class="break-words">vuepress-deploy.yml</code><!--]--><!--]--><!--[-->æ–‡ä»¶ï¼Œå¤åˆ¶ä»¥ä¸‹å†…å®¹ã€‚<!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--></span></li><!--]--><!--]--></ol><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><pre class="relative w-screen max-w-full overflow-x-auto bg-onelight dark:bg-onedark" id="code"><code class="hljs hljs-yaml svelte-1tu170p"><!----><span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Deploy</span>
<span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>]
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build-and-deploy:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@master</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">vuepress-deploy</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">jenkey2011/vuepress-deploy@master</span>
      <span class="hljs-attr">env:</span>
        <span class="hljs-attr">ACCESS_TOKEN:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.ACCESS_TOKEN</span> <span class="hljs-string">}}</span>
        <span class="hljs-attr">TARGET_REPO:</span> <span class="hljs-string">username/repo</span>
        <span class="hljs-attr">TARGET_BRANCH:</span> <span class="hljs-string">master</span>
        <span class="hljs-attr">BUILD_SCRIPT:</span> <span class="hljs-string">yarn</span> <span class="hljs-string">&amp;&amp;</span> <span class="hljs-string">yarn</span> <span class="hljs-string">build</span>
        <span class="hljs-attr">BUILD_DIR:</span> <span class="hljs-string">blog/.vuepress/dist/</span><!----></code><!--[!--><span class="absolute top-1 right-2 select-none text-xs text-dark-content">yaml</span><!--]--><!--[!--><!--]--></pre><!--]--><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->å…¶ä¸­<!--]--><!--[!--><!--[--><code class="break-words">TARGET_REPO</code><!--]--><!--]--><!--[-->æ˜¯Githubçš„ç”¨æˆ·ååŠä½ æƒ³å­˜æ”¾VuePressçš„ä»“åº“ï¼Œ<!--]--><!--[!--><!--[--><code class="break-words">TARGET_BRANCH</code><!--]--><!--]--><!--[-->æ˜¯ä½ æƒ³è¦æ¨é€ä»“åº“çš„åˆ†æ”¯ï¼Œ<!--]--><!--[!--><!--[--><code class="break-words">BUILD_SCRIPT</code><!--]--><!--]--><!--[-->æ˜¯ä½ çš„æ„å»ºè„šæœ¬ï¼Œ<!--]--><!--[!--><!--[--><code class="break-words">BUILD_DIR</code><!--]--><!--]--><!--[-->æ˜¯ä½ æ„å»ºä¹‹åç”Ÿæˆçš„æ–‡ä»¶ç›®å½•ã€‚æ ¹æ®è‡ªå·±æœ¬åœ°çš„æƒ…å†µç›¸åº”é…ç½®å³å¯ã€‚<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><ol><!--[--><!--[--><li><span class="items-center"><!--[!--><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><!--[--><!--[-->Github tokençš„ç”Ÿæˆå’Œä»“åº“secretsçš„æ·»åŠ <!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><!--[--><!--[-->Tokençš„ç”Ÿæˆï¼šç‚¹å‡»ä½ çš„å¤´åƒ > Settings > Developer settings > Personal access tokens > Generate new token. æƒé™è‡³å°‘è¦å‹¾é€‰repo
secretsçš„æ·»åŠ ï¼šGithubçš„ä»“åº“ä¸‹ > Settings > Secretsï¼Œ åˆ›å»ºACCESS_TOKENï¼Œ å€¼å°±å¡«å†™ä½ åˆšæ‰åˆ›å»ºçš„tokenï¼Œç¡®å®šã€‚<!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--></span></li><!--]--><!--[--><li><span class="items-center"><!--[!--><!--]--> <!--[--><!--[!--><!--[!--><!--[!--><!--[--><!--[--><!--[--><!--[-->æ¨é€ä½ çš„æœ¬åœ°ä»“åº“åˆ°Githubï¼Œè§¦å‘Pushäº‹ä»¶ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¼€å§‹ã€‚åœ¨ä»“åº“çš„Actioné¡µé¢ä¸‹å³å¯æŸ¥çœ‹å…·ä½“è¿‡ç¨‹çš„æƒ…å†µã€‚<!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--></span></li><!--]--><!--]--></ol><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--]--><!--[--><!----><h2 id="æœ€å" class="-z-10 border-t-[4rem] border-t-transparent relative -mt-16 pt-[.5em]"><!--[--><!--[-->æœ€å<!--]--><!--]--><!----></h2><!----><!--]--><!--[!--><!--[!--><!--[--><!--[!--><div><!--[--><!--[-->è‡ªæ­¤ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹Github Actionæœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚ç°åœ¨ï¼Œä½ å·²ç»å¯ä»¥å¼€å§‹å°è¯•é€šè¿‡<!--]--><!--[!--><!--[!--><!--[!--><!--[--><a href="https://github.com/marketplace?type=actions"><!--[--><!--[-->Marketplace<!--]--><!--]--></a><!--]--><!--]--><!--]--><!--]--><!--[-->æœç´¢ä½ æ„Ÿå…´è¶£çš„Actionå¹¶ä½¿ç”¨ï¼Œæˆ–è€…å‚è€ƒ<!--]--><!--[!--><!--[!--><!--[!--><!--[--><a href="https://docs.github.com/en/actions"><!--[--><!--[-->å®˜æ–¹æ–‡æ¡£<!--]--><!--]--></a><!--]--><!--]--><!--]--><!--]--><!--[-->è‡ªè¡Œç¼–å†™ä¸€ä¸ªActionäº†ã€‚<!--]--><!--]--></div><!--]--><!--]--><!--]--><!--]--><!--]--></div></div> <div class="w-full my-16 text-center font-extrabold text-3xl">The End</div></div><!----><!----> <footer class="w-full h-60 max-w-full p-4 bg-dark border-t border-neutral"><div class="w-[80ch] max-w-full mx-auto"><div><div class="text-center uppercase mb-4 text-dark-content text-opacity-80 font-semibold"><span>related projects</span></div> <div class="flex justify-center my-4"><div class="flex flex-row flex-wrap items-center justify-evenly gap-4 text-sm text-dark-content text-opacity-70"><!--[--><a href="https://svelte.dev/" target="_blank" class="hover:underline">Svelte</a><a href="https://kit.svelte.dev/" target="_blank" class="hover:underline">Svelte Kit</a><a href="https://tailwindcss.com/" target="_blank" class="hover:underline">TailwindCSS</a><a href="https://daisyui.com/" target="_blank" class="hover:underline">DaisyUI</a><a href="https://github.com/remarkjs/" target="_blank" class="hover:underline">Remark.js</a><a href="https://github.com/jonschlinkert/gray-matter" target="_blank" class="hover:underline">gray-matter</a><a href="https://highlightjs.org/" target="_blank" class="hover:underline">highlight.js</a><a href="https://www.mathjax.org/" target="_blank" class="hover:underline">MathJax</a><a href="https://pagefind.app/" target="_blank" class="hover:underline">Pagefind</a><a href="https://fontawesome.com/" target="_blank" class="hover:underline">Font Awesome</a><a href="https://www.svgrepo.com/" target="_blank" class="hover:underline">SVG Repo</a><!--]--></div></div></div> <div class="mb-8"><div class="uppercase font-semibold text-center mb-4 text-dark-content text-opacity-80">Friend Links</div> <div class="flex flex-row flex-wrap justify-around text-sm text-dark-content text-opacity-70"><!--[--><a href="https://www.mzy0.com/" target="_blank" class="hover:underline">Tokeii</a><a href="https://ctf.mzy0.com/" target="_blank" class="hover:underline">çŒ«æŠ“é±¼é“ƒ</a><a href="https://www.nikm.cn/" target="_blank" class="hover:underline">å‚æ™šå‡èµ·çš„å¤ªé˜³</a><a href="https://hluck.gitee.io/" target="_blank" class="hover:underline">Hluck</a><a href="https://gardeniasblue.gitee.io/" target="_blank" class="hover:underline">Gardenia</a><!--]--></div></div> <div class="flex flex-wrap gap-4 items-center justify-around text-xs text-dark-content text-opacity-60"><span>Copyright Â© 2023 - All right reserved by AlightYoung</span></div></div></footer><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1uo1nbp = {
						base: new URL("../../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../../_app/immutable/entry/start.B0uU1i8C.js"),
						import("../../../_app/immutable/entry/app.C_EpeSa8.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data: [{"type":"data","data":{link2PostContent:{"post/2019/20190922/":"\n### å¼€å§‹\n\næ–°å»ºçš„ç¬¬ä¸€ç¯‡æ–‡ç« ,å°±å†™å†™hexoçš„ä¸€äº›ä¸œè¥¿å§\n\nhexoçš„æœ¬åœ°å®‰è£…åˆ°éƒ¨ç½²åˆ°github pages\n\nè¿˜æœ‰ä¸»é¢˜,~~ä»¥åŠgitalkçš„é…ç½®~~\n\n### å‡†å¤‡\n\nhexoçš„å®‰è£…ååˆ†æ–¹ä¾¿,å®˜ç½‘ä¹Ÿè®²çš„éå¸¸æ¸…æ¥š,éœ€è¦ NodeJs å’Œ git ç¯å¢ƒ,è¿™é‡Œä¸å†èµ˜è¿°,ä¸æ¸…æ¥šçš„å¯ä»¥æŸ¥çœ‹ [å®˜æ–¹æ–‡æ¡£](https://hexo.io/docs/)\n\nå½“å‡†å¤‡å·¥ä½œå®Œæˆä¹‹å,å°±å¯ä»¥ç›´æ¥ä½¿ç”¨npmæ¥å®‰è£…hexo\n\n```bash\n# npmçš„ä»“åº“åˆ‡æ¢\n# ç”±äºnpmçš„ä»“åº“é»˜è®¤æ˜¯å›½å¤–çš„ æ‰€ä»¥å¾ˆå¤šäººè€ƒè™‘ä½¿ç”¨cnpm\n# ä½†æ˜¯cnpmå®‰è£…å¯èƒ½ä¼šå‡ºç°é—®é¢˜ æ‰€ä»¥è¿™é‡Œæ¨èä¸€ä¸‹nrm\n\n# å®‰è£…nrm\nnpm install -g nrm\n# æŸ¥çœ‹å¯ç”¨ä»“åº“\nnrm ls\n# ä½¿ç”¨cnpmä»“åº“\nnrm use cnpm\n# æŸ¥çœ‹å½“å‰ä»“åº“\nnpm get registry\n# å®‰è£…hexo\nnpm install -g hexo-cli\n```\n\nä¹‹åå°±æ˜¯åˆå§‹åŒ–çš„è¿‡ç¨‹\n\n```bash\nhexo init \u003Cfolder>\ncd \u003Cfolder>\nnpm install\n```\n\n### é…ç½®\n\næ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š\n\n```\n.\nâ”œâ”€â”€ _config.yml\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ scaffolds\nâ”œâ”€â”€ source\n|   â”œâ”€â”€ _drafts\n|   â””â”€â”€ _posts\nâ””â”€â”€ themes\n```\n\nå¼€å§‹çš„è¯,æˆ‘ä»¬éœ€è¦å…³æ³¨çš„å°±æ˜¯ `config.yml`, è¿™ä¸ªæ˜¯å…¨å±€çš„ä¸€äº›é…ç½®æ–‡ä»¶.ä¸»é¢˜æ–‡ä»¶åœ¨themesæ–‡ä»¶å¤¹,é»˜è®¤çš„ä¸»é¢˜æ˜¯landspace,å¦‚æœæƒ³åˆ‡æ¢ä¸»é¢˜å¯ä»¥å»githubæœç´¢,æˆ–è€…ç›´æ¥æŸ¥çœ‹[hexoå®˜æ–¹ä¸»é¢˜](https://hexo.io/themes),ä¸€èˆ¬çš„è¯æ›´æ¢ä¸»é¢˜éƒ½æ˜¯å°†ä¸»é¢˜æ–‡ä»¶å®‰è£…åˆ°themesæ–‡ä»¶å¤¹ä¸‹,ç„¶ååœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ä¸»é¢˜ã€‚\n\nè‡³äºè¯„è®ºç³»ç»Ÿçš„,è¿™é‡Œä½¿ç”¨çš„æ˜¯gitalk(Gitalk æ˜¯ä¸€ä¸ªåŸºäº GitHub Issue å’Œ Preact å¼€å‘çš„è¯„è®ºæ’ä»¶ã€‚),ä¸ºä»€ä¹ˆæ˜¯gitalkå‘¢?å› ä¸ºè¿™ä¸ªä¸»é¢˜çš„é…ç½®æ–‡ä»¶å°±æ˜¯é…ç½®çš„gitalk.å…¶ä»–ä¸»é¢˜é…ç½®çš„è¯„è®ºç³»ç»Ÿä¹Ÿè®¸æ˜¯åˆ«çš„,ä¸»é¢˜æ–‡æ¡£åº”è¯¥ä¼šæœ‰è¯´æ˜,å¯ä»¥æ ¹æ®æ–‡æ¡£è‡ªè¡Œé…ç½®.å› ä¸ºè¯„è®ºæ’ä»¶å¤ªå¤šäº†,è¿™ä¸ªå°±è‡ªè¡Œç™¾åº¦å§ã€‚\n\n### æ–°å»ºåšå®¢\n\næ–°å»ºåšå®¢çš„è¯,ä½¿ç”¨ `hexo new` å‘½ä»¤å³å¯,ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ *source/_posts* æ–‡ä»¶å¤¹ä¸‹æ–°å»º markdown æ–‡ä»¶ç›´æ¥ç¼–å†™.\n\n```bash\nhexo new (title)\n```\n\nå¦‚æœæƒ³åœ¨éƒ¨ç½²å‰é¢„è§ˆçš„è¯,ä½¿ç”¨ `hexo s` å‘½ä»¤å³å¯é€šè¿‡ [http://localhost:4000](http://localhost:4000) æŸ¥çœ‹æ•ˆæœã€‚\n\n```bash\nhexo s\n```\n\n### éƒ¨ç½²\n\néƒ¨ç½²åˆ°github pagesçš„è¯,ç›´æ¥åœ¨å…¨å±€é…ç½®æ–‡ä»¶config.ymlä¿®æ”¹deployé…ç½®\n\n```yml\ndeploy:\n type: git\n repo: https://github.com/githubåç§°/githubåç§°.github.io.git\n branch: master\n```\n\nç„¶åçš„è¯è¿˜éœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶æ‰èƒ½éƒ¨ç½²\n\n```\nnpm install hexo-deployer-git --save\n```\n\nä¹‹åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯éƒ¨ç½²åˆ°github pages\n\n```\nhexo g && hexo d\n```\n\n### æœ€å\n\næ¥ä¸‹æ¥å°±æ˜¯æ„‰å¿«çš„æ°´åšå®¢ç¯èŠ‚~\n\n\n> ä¸ªäººé…ç½®\n> ä¸»é¢˜: [hexo-theme-next](https://github.com/next-theme/hexo-theme-next)\n>\n> å¤‡ä»½: [hexo-git-backup](https://github.com/coneycode/hexo-git-backup)\n>\n> è¯„è®º: [valine](https://valine.js.org/)\n>\n> æ¨¡å‹: [hexo-helper-live2d](https://github.com/EYHN/hexo-helper-live2d)\n>\n> é‚®ä»¶é€šçŸ¥: [Valine-Admin](https://github.com/DesertsP/Valine-Admin)\n>\n> å¾®ä¿¡qqé€šçŸ¥: [Valine-Admin-Server](https://github.com/Dreamy-TZK/Valine-Admin-Server)\n>\n> leancloudæµæ§è§£å†³æ–¹æ¡ˆ: [WakeLeanCloud](https://github.com/blogimg/WakeLeanCloud)\n","post/2019/20190923/":"\n### å¼€å§‹\n\nå…¶å®ä¸€ç›´æœ‰ä½“éªŒLinuxçš„æƒ³æ³•ï¼Œåªæ˜¯ä»¥å‰biosè®¾äº†å¯†ç ï¼Œåæ¥ç»™å¿˜äº†ï¼Œæœ€è¿‘çªç„¶å°è¯•çŒœäº†ä¸€ä¸‹ï¼Œå±…ç„¶å¯¹äº†ï¼å¤©æ„ï¼åŒç³»ç»Ÿå¯åŠ¨ï¼\n\nå¥½ï¼Œè¯´æ•´å°±æ•´ï¼\n\n### Ubuntuçš„å®‰è£…\n\nUbuntuä½œä¸ºå½“çº¢Linuxå‘è¡Œç‰ˆï¼Œå¥½å°±å®ƒäº†ï¼\n\næœ¬åœ°æ˜¯win10ç¯å¢ƒï¼Œä¸Šç½‘æ‰¾äº†å¾ˆå¤šwin10+Ubuntuçš„åŒç³»ç»Ÿå®‰è£…æ•™ç¨‹ï¼Œå¥½åƒè¿˜å’Œæ˜¯ä¸æ˜¯å•ç¡¬ç›˜ã€æ”¯ä¸æ”¯æŒuefiæœ‰å…³ï¼Œä¸ªäººè®¤ä¸ºè¿™ä¸ªæ•™ç¨‹è®²çš„ååˆ†è¯¦ç»† -> [ä¼ é€é—¨](https://www.cnblogs.com/masbay/p/10745170.html)\n\næˆ‘è¿™è¾¹æ˜¯uefi+å•ç¡¬ç›˜ï¼Œæ‰€ä»¥å¤§æ¦‚è¯´ä¸€ä¸‹ï¼Œå…¶ä»–æƒ…å†µå¯ä»¥å‚è€ƒä¸Šé¢é‚£ç¯‡åšå®¢ã€‚\n\n1. åœ¨win10ä¸­åˆ†å‡ºä¸€ä¸ªç©ºç™½åˆ†åŒºç•™ç»™Linux\n\n    win10ä¸“ä¸šç‰ˆçš„è¯å°±æ˜¯ æ­¤ç”µè„‘å³é”®-ç®¡ç†-ç£ç›˜ç®¡ç† åº”è¯¥å°±èƒ½çœ‹åˆ°ç£ç›˜çš„å„ä¸ªåˆ†åŒºï¼Œå¦‚æœåªæœ‰Cç›˜çš„è¯ç›´æ¥å‹ç¼©å·å³å¯ï¼Œå¦‚æœè‡ªå·±åˆ†äº†cdeçš„è¯å°±æŠŠæœ€åé‚£ä¸ªåˆ†åŒºåˆ é™¤å·ä¹Ÿè¡Œï¼Œè®°å¾—å¤‡ä»½ï¼è®°å¾—å¤‡ä»½ï¼è®°å¾—å¤‡ä»½ï¼Œæˆ‘è¿™è¾¹åˆ†äº†100gå·¦å³ã€‚\n2. å°†Ubuntué•œåƒå†™å…¥Uç›˜\n\n    å‡†å¤‡ä¸€ä¸ªUç›˜ï¼Œä¸‹è½½å¹¶å®‰è£…è½¯ç¢Ÿé€šï¼ŒUbuntué•œåƒç›´æ¥åœ¨å®˜ç½‘ä¸‹è½½çš„æ¡Œé¢ç‰ˆ18.04LTSã€‚ç„¶åå°±æ˜¯ç”¨è½¯ç¢Ÿé€šæŠŠé•œåƒåˆ·å…¥Uç›˜ï¼Œç­‰å°±å®Œäº‹äº†ã€‚\n3. å®‰è£…Ubuntu\n\n    æ¥ä¸‹æ¥ï¼Œå°±æ˜¯æ­£å¸¸çš„BIOSè®¾ç½®Uç›˜å…ˆåŠ è½½ï¼Œå“¦å¯¹äº†ï¼Œè¿˜è¦å…³äº†sucure bootï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ï¼Œå…³å°±å®Œäº‹äº†ã€‚ç„¶åä¼šè¿›å…¥Ubuntuçš„å®‰è£…ç•Œé¢ï¼Œç›´æ¥é€‰æ‹©å®‰è£…ï¼Œè®°å¾—æ–­ç½‘å®‰è£…ï¼Œä¸ç„¶çš„ä¸‹è½½ä¸€ä¸ªä¸–çºªçš„æ–‡ä»¶ï¼ˆæ³ªï¼‰ã€‚å®‰è£…çš„è¯æœ‰å¤§æ¦‚è¿™ä¹ˆä¸€äº›é€‰é¡¹\n    1. è¯­è¨€é€‰æ‹©ï¼ˆè‡ªå·±çœ‹ç€é€‰ï¼‰\n    2. å®‰è£… ï¼ˆæœ‰ä¸ªåœ¨å®‰è£…ä¸­ä¸‹è½½æ›´æ–°çš„ï¼Œè®°å¾—æ–­ç½‘ï¼Œæœ€å°å®‰è£…å°±è¡Œäº†ï¼‰\n    3. å®‰è£…ç±»å‹ï¼ˆå¥½åƒä¼šæç¤ºå’Œwin10ä½œä¸ºåŒç³»ç»Ÿå®‰è£…ï¼Œåº”è¯¥ä¹Ÿæ²¡äº‹ï¼Œåæ­£æˆ‘ç‚¹çš„è‡ªå®šä¹‰ã€‚ï¼‰\n    4. åˆ†åŒºï¼ˆå¤§ä½¬è¯´çš„ /boot åˆ†200mb  /home 35g  å…¶ä»–å…¨ç»™/ ,æœ‰äº›æ•™ç¨‹åˆ†åŒºåˆ†äº†å¾ˆå¤šï¼Œåæ­£æˆ‘å°±è¿™æ ·åˆ†çš„ï¼Œæˆ‘8gå†…å­˜ï¼Œæ„Ÿè§‰åº”è¯¥å¤Ÿã€‚å°±æ²¡åˆ†swapï¼Œåé¢å‘ç°è‡ªåŠ¨åˆ†äº†2gï¼Œé—®é¢˜ä¸å¤§ï¼Œèµ¶ç´§è¿›å…¥ç³»ç»Ÿæ‰æ˜¯ç‹é“ï¼‰\n\nä¹‹åå°±æ˜¯ç³»ç»Ÿçš„ä¸€äº›ç®€å•é»˜è®¤é…ç½®äº†ï¼Œéƒ½èƒ½çœ‹æ‡‚ï¼Œä¸å¤šè¯´äº†\n\n### åˆä½“éªŒ\n\nå®‰è£…å®Œæˆä¹‹åå°±æ˜¯æ‹”Uç›˜ï¼Œé‡å¯ï¼é»˜è®¤æ˜¯grubå¼•å¯¼åŒç³»ç»Ÿç•Œé¢ï¼Œåº”è¯¥èƒ½çœ‹åˆ°Ubuntuå’Œwindowsï¼Œé€‰æ‹©Ubuntuï¼Œå¼€å§‹ï¼\n\nå¯¹äº† æœ‰äº›å› ä¸ºæ˜¾å¡åŸå› ï¼Œåœ¨Ubuntué‡å¯ä¼šæ­»æœºï¼Œåœ¨è½¯ä»¶æ›´æ–°å™¨ç‚¹è®¾ç½®ï¼Œæœ‰ä¸ªé™„åŠ é©±åŠ¨ï¼Œä¼šè‡ªåŠ¨æœç´¢å¯ç”¨é©±åŠ¨ï¼Œè£…ä¸Šé©±åŠ¨å°±å¥½äº†ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘æ­»æœºäº†ï¼šï¼‰\n\n### ç®€å•é…ç½®\n\nåœ¨çç‚¹äº†å‡ ä¸‹ä¹‹åï¼Œå·®ä¸å¤šå¯ä»¥å¼€å§‹ä¸€äº›ç®€å•çš„é…ç½®äº†ï¼Œæ¯”å¦‚æ¢æºï¼Œç”¨é˜¿é‡Œäº‘å°±å®Œäº‹äº†ï¼Œä¸­æ–‡è¾“å…¥æ³•ï¼Œç›´æ¥firefoxæœæœç‹—Linuxï¼Œæœ‰å®‰è£…æ•™ç¨‹ã€‚\n\nä¸‹è½½çš„è¯å¥½åƒæŒºå¤šäººç”¨ugeté…åˆaria2ä¸‹è½½ï¼Œç™¾åº¦å°±å®Œäº‹äº†ã€‚\n\nå¯¹äº†å¦‚æœä¸‹è½½jetbrainså…¨å®¶æ¡¶çš„è¯å»ºè®®ç”¨toolboxï¼Œç¨³å®šï¼Œä¸‹è½½é€Ÿåº¦ä¹Ÿå¯ä»¥ã€‚\n\nåŠå…¬çš„è¯wpsï¼Œå¬æ­Œçš„è¯ç”¨ç½‘æ˜“äº‘ã€‚qqç”¨çš„deepin wineç‰ˆæœ¬çš„ï¼Œæ¯”åŸç‰ˆwineå¥½ç”¨é‚£ä¹ˆä¸€ç‚¹---[deepin wineä¼ é€é—¨](https://github.com/wszqkzqk/deepin-wine-ubuntu)ï¼Œç¾åŒ–çš„è¯ï¼Œæ…¢æ…¢ç™¾åº¦å§ï¼Œæ€ä¹ˆèˆ’æœæ€ä¹ˆæ¥ã€‚\n\n### æœ€å\n\nå·®ä¸å¤šäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ…¢æ…¢æŠ˜è…¾äº†ï¼Œå…»è€çš„è¯ä¹Ÿæ˜¯å¾ˆèˆ’é€‚çš„ã€‚\n\n### 2019/9/27æ›´æ–°\n\nubuntuå·²è¢«ç©åï¼ˆgnomeä¾èµ–å¯èƒ½å‡ºé—®é¢˜äº†...ï¼‰ï¼Œè½¬èº«æŠ•å…¥deepinï¼ˆ15.11ï¼‰çš„æ€€æŠ±ã€‚\n\nè‡ªå¸¦ chrome æœç‹—è¾“å…¥æ³• wps æ·±åº¦æˆªå›¾ ç½‘æ˜“äº‘ qqç­‰\n\nå¼€ç®±å³ç”¨çš„ä½“éªŒ ç•Œé¢çš„è¯ æœ‰å¥½æœ‰å\n\n- å¥½å¤„ï¼šç•Œé¢è¿˜ç®—æ¼‚äº® dockæ”¯æŒwinå’Œé»˜è®¤æ–¹æ¡ˆ grubä¸ç®—éš¾çœ‹ çœå»äº†æ¢refindçš„æ—¶é—´\n- åå¤„ï¼šå­—ä½“æ¸²æŸ“å¯èƒ½æ¯”Ubuntuå·®ç‚¹ï¼ˆmaybeï¼‰é»˜è®¤ç»ˆç«¯å¤ªä¸‘äº† ç¾åŒ–çš„è¯ æ…¢æ…¢æŠ˜è…¾å§\n\né¡ºå¸¦è¯´ä¸€ä¸‹ å¼€å…³æœºè¿˜æœ‰éŸ³æ•ˆ å¤ªè ¢äº†ï¼\n\n### END\n\nåŒç³»ç»Ÿå¼•å¯¼å…³äº†,è½¬èº«æŠ•å…¥winæ€€æŠ±,æœ€åä¸€æ¬¡æ›´æ–°,Linuxæœç„¶è¿˜æ˜¯å¤ªæŠ˜è…¾äº†,windowsçœŸé¦™ :)\n\n\n","post/2019/20191001/":"\n### å¼€å§‹\n\nå‰ç«¯æ—¶é—´Java13å¥½åƒå‘å¸ƒäº†,æ­£å¥½çœ‹åˆ°æœ‰ç¯‡æ–‡ç« è®°å½•äº†Java13ä¸­çš„5ä¸ªç‰¹æ€§,å°±æ‹¿è¿‡æ¥æ°´ä¸€ä¸‹äº†. :)[ä¼ é€é—¨](https://zhuanlan.zhihu.com/p/82637772).\n\n### Dynamic CDS Archives\nè¿™ä¸€ç‰¹æ€§æ˜¯åœ¨JEP310ï¼šApplication Class-Data SharingåŸºç¡€ä¸Šæ‰©å±•è€Œæ¥çš„ï¼ŒDynamic CDS Archivesä¸­çš„CDSæŒ‡çš„å°±æ˜¯Class-Data Sharingã€‚\n\né‚£ä¹ˆï¼Œè¿™ä¸ªJEP310æ˜¯ä¸ªå•¥ä¸œè¥¿å‘¢ï¼Ÿ\n\næˆ‘ä»¬çŸ¥é“åœ¨åŒä¸€ä¸ªç‰©ç†æœºï¼è™šæ‹Ÿæœºä¸Šå¯åŠ¨å¤šä¸ªJVMæ—¶ï¼Œå¦‚æœæ¯ä¸ªè™šæ‹Ÿæœºéƒ½å•ç‹¬è£…è½½è‡ªå·±éœ€è¦çš„æ‰€æœ‰ç±»ï¼Œå¯åŠ¨æˆæœ¬å’Œå†…å­˜å ç”¨æ˜¯æ¯”è¾ƒé«˜çš„ã€‚æ‰€ä»¥Javaå›¢é˜Ÿå¼•å…¥äº†CDSçš„æ¦‚å¿µï¼Œé€šè¿‡æŠŠä¸€äº›æ ¸å¿ƒç±»åœ¨æ¯ä¸ªJVMé—´å…±äº«ï¼Œæ¯ä¸ªJVMåªéœ€è¦è£…è½½è‡ªå·±çš„åº”ç”¨ç±»ï¼Œå¯åŠ¨æ—¶é—´å‡å°‘äº†ï¼Œå¦å¤–æ ¸å¿ƒç±»æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥JVMçš„å†…å­˜å ç”¨ä¹Ÿå‡å°‘äº†ã€‚\n\nCDS åªèƒ½ä½œç”¨äº Boot Class Loader åŠ è½½çš„ç±»ï¼Œä¸èƒ½ä½œç”¨äº App Class Loader æˆ–è€…è‡ªå®šä¹‰çš„ Class Loader åŠ è½½çš„ç±»ã€‚\n\nåœ¨ Java 10 ä¸­ï¼Œåˆ™å°† CDS æ‰©å±•ä¸º AppCDSï¼Œé¡¾åæ€ä¹‰ï¼ŒAppCDS ä¸æ­¢èƒ½å¤Ÿä½œç”¨äº Boot Class Loaderäº†ï¼ŒApp Class Loader å’Œè‡ªå®šä¹‰çš„ Class Loader ä¹Ÿéƒ½èƒ½å¤Ÿèµ·ä½œç”¨ï¼Œå¤§å¤§åŠ å¤§äº† CDS çš„é€‚ç”¨èŒƒå›´ã€‚ä¹Ÿå°±è¯´å¼€å‘è‡ªå®šä¹‰çš„ç±»ä¹Ÿå¯ä»¥è£…è½½ç»™å¤šä¸ªJVMå…±äº«äº†ã€‚\n\nJava 10ä¸­åŒ…å«çš„JEP310çš„é€šè¿‡è·¨ä¸åŒJavaè¿›ç¨‹å…±äº«å…¬å…±ç±»å…ƒæ•°æ®æ¥å‡å°‘äº†å†…å­˜å ç”¨å’Œæ”¹è¿›äº†å¯åŠ¨æ—¶é—´ã€‚\n\nä½†æ˜¯ï¼ŒJEP310ä¸­ï¼Œä½¿ç”¨AppCDSçš„è¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œéœ€è¦æœ‰ä¸‰ä¸ªæ­¥éª¤ï¼š\n> 1ã€å†³å®šè¦ Dump å“ªäº› Class\n>\n> 2ã€å°†ç±»çš„å†…å­˜ Dump åˆ°å½’æ¡£æ–‡ä»¶ä¸­\n>\n> 3ã€ä½¿ç”¨ Dump å‡ºæ¥çš„å½’æ¡£æ–‡ä»¶åŠ å¿«åº”ç”¨å¯åŠ¨é€Ÿåº¦\n\nè¿™ä¸€æ¬¡çš„JDK 13ä¸­çš„JEP 350 ï¼Œåœ¨JEP310çš„åŸºç¡€ä¸Šï¼Œåˆåšäº†ä¸€äº›æ‰©å±•ã€‚å…è®¸åœ¨Javaåº”ç”¨ç¨‹åºæ‰§è¡Œç»“æŸæ—¶åŠ¨æ€å½’æ¡£ç±»ï¼Œå½’æ¡£ç±»å°†åŒ…æ‹¬é»˜è®¤çš„åŸºç¡€å±‚ CDSï¼ˆclass data-sharingï¼‰å­˜æ¡£ä¸­ä¸å­˜åœ¨çš„æ‰€æœ‰å·²åŠ è½½çš„åº”ç”¨ç¨‹åºç±»å’Œåº“ç±»ã€‚\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨Java 13ä¸­å†ä½¿ç”¨AppCDSçš„æ—¶å€™ï¼Œå°±ä¸åœ¨éœ€è¦è¿™ä¹ˆå¤æ‚äº†ã€‚\n### ZGC: Uncommit Unused Memory\nåœ¨è®¨è®ºè¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæƒ³å…ˆé—®ä¸€ä¸ªé—®é¢˜ï¼ŒJVMçš„GCé‡Šæ”¾çš„å†…å­˜ä¼šè¿˜ç»™æ“ä½œç³»ç»Ÿå—ï¼Ÿ\n\nGCåçš„å†…å­˜å¦‚ä½•å¤„ç½®ï¼Œå…¶å®æ˜¯å–å†³äºä¸åŒçš„åƒåœ¾å›æ”¶å™¨çš„ã€‚å› ä¸ºæŠŠå†…å­˜è¿˜ç»™OSï¼Œæ„å‘³ç€è¦è°ƒæ•´JVMçš„å †å¤§å°ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯æ¯”è¾ƒè€—è´¹èµ„æºçš„ã€‚\n\nåœ¨JDK 11ä¸­ï¼ŒJavaå¼•å…¥äº†ZGCï¼Œè¿™æ˜¯ä¸€æ¬¾å¯ä¼¸ç¼©çš„ä½å»¶è¿Ÿåƒåœ¾æ”¶é›†å™¨ï¼Œä½†æ˜¯å½“æ—¶åªæ˜¯å®éªŒæ€§çš„ã€‚å¹¶ä¸”ï¼ŒZGCé‡Šæ”¾çš„å†…å­˜æ˜¯ä¸ä¼šè¿˜ç»™æ“ä½œç³»ç»Ÿçš„ã€‚\n![image](https://alightyoung.gitee.io/static/img/6.jpg)\n\nè€Œåœ¨Java 13ä¸­ï¼ŒJEP 351å†æ¬¡å¯¹ZGCåšäº†å¢å¼ºï¼Œæœ¬æ¬¡ ZGC å¯ä»¥å°†æœªä½¿ç”¨çš„å †å†…å­˜è¿”å›ç»™æ“ä½œç³»ç»Ÿã€‚ä¹‹æ‰€ä»¥å¼•å…¥è¿™ä¸ªç‰¹æ€§ï¼Œæ˜¯å› ä¸ºå¦‚ä»Šæœ‰å¾ˆå¤šåœºæ™¯ä¸­å†…å­˜æ˜¯æ¯”è¾ƒæ˜‚è´µçš„èµ„æºï¼Œåœ¨ä»¥ä¸‹æƒ…å†µä¸­ï¼Œå°†å†…å­˜è¿˜ç»™æ“ä½œç³»ç»Ÿè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼š\n\n1. é‚£äº›éœ€è¦æ ¹æ®ä½¿ç”¨é‡ä»˜è´¹çš„å®¹å™¨\n2. åº”ç”¨ç¨‹åºå¯èƒ½é•¿æ—¶é—´å¤„äºç©ºé—²çŠ¶æ€å¹¶ä¸è®¸å¤šå…¶ä»–åº”ç”¨ç¨‹åºå…±äº«æˆ–ç«äº‰èµ„æºçš„ç¯å¢ƒã€‚\n3. åº”ç”¨ç¨‹åºåœ¨æ‰§è¡ŒæœŸé—´å¯èƒ½æœ‰éå¸¸ä¸åŒçš„å †ç©ºé—´éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œå¯åŠ¨æœŸé—´æ‰€éœ€çš„å †å¯èƒ½å¤§äºç¨ååœ¨ç¨³å®šçŠ¶æ€æ‰§è¡ŒæœŸé—´æ‰€éœ€çš„å †ã€‚\n\n### Reimplement the Legacy Socket API\n\nä½¿ç”¨æ˜“äºç»´æŠ¤å’Œè°ƒè¯•çš„æ›´ç®€å•ã€æ›´ç°ä»£çš„å®ç°æ›¿æ¢ java.net.Socket å’Œ java.net.ServerSocket APIã€‚\n\njava.net.Socketå’Œjava.net.ServerSocketçš„å®ç°éå¸¸å¤è€ï¼Œè¿™ä¸ªJEPä¸ºå®ƒä»¬å¼•å…¥äº†ä¸€ä¸ªç°ä»£çš„å®ç°ã€‚ç°ä»£å®ç°æ˜¯Java 13ä¸­çš„é»˜è®¤å®ç°ï¼Œä½†æ˜¯æ—§çš„å®ç°è¿˜æ²¡æœ‰åˆ é™¤ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ç³»ç»Ÿå±æ€§jdk.net.usePlainSocketImplæ¥ä½¿ç”¨å®ƒä»¬ã€‚\n\nè¿è¡Œä¸€ä¸ªå®ä¾‹åŒ–Socketå’ŒServerSocketçš„ç±»å°†æ˜¾ç¤ºè¿™ä¸ªè°ƒè¯•è¾“å‡ºã€‚è¿™æ˜¯é»˜è®¤çš„(æ–°çš„):\n\n```bash\njava -XX:+TraceClassLoading JEP353  | grep Socket\n[0.033s][info   ][class,load] java.net.Socket source: jrt:/java.base\n[0.035s][info   ][class,load] java.net.SocketOptions source: jrt:/java.base\n[0.035s][info   ][class,load] java.net.SocketImpl source: jrt:/java.base\n[0.039s][info   ][class,load] java.net.SocketImpl$$Lambda$1/0x0000000800b50840 source: java.net.SocketImpl\n[0.042s][info   ][class,load] sun.net.PlatformSocketImpl source: jrt:/java.base\n[0.042s][info   ][class,load] sun.nio.ch.NioSocketImpl source: jrt:/java.base\n[0.043s][info   ][class,load] sun.nio.ch.SocketDispatcher source: jrt:/java.base\n[0.044s][info   ][class,load] java.net.DelegatingSocketImpl source: jrt:/java.base\n[0.044s][info   ][class,load] java.net.SocksSocketImpl source: jrt:/java.base\n[0.044s][info   ][class,load] java.net.ServerSocket source: jrt:/java.base\n[0.045s][info   ][class,load] jdk.internal.access.JavaNetSocketAccess source: jrt:/java.base\n[0.045s][info   ][class,load] java.net.ServerSocket$1 source: jrt:/java.base\n```\n\nä¸Šé¢è¾“å‡ºçš„sun.nio.ch.NioSocketImplå°±æ˜¯æ–°æä¾›çš„å®ç°ã€‚\n\nå¦‚æœä½¿ç”¨æ—§çš„å®ç°ä¹Ÿæ˜¯å¯ä»¥çš„ï¼ˆæŒ‡å®šå‚æ•°jdk.net.usePlainSocketImplï¼‰ï¼š\n\n```bash\n$ java -Djdk.net.usePlainSocketImpl -XX:+TraceClassLoading JEP353  | grep Socket\n[0.037s][info   ][class,load] java.net.Socket source: jrt:/java.base\n[0.039s][info   ][class,load] java.net.SocketOptions source: jrt:/java.base\n[0.039s][info   ][class,load] java.net.SocketImpl source: jrt:/java.base\n[0.043s][info   ][class,load] java.net.SocketImpl$$Lambda$1/0x0000000800b50840 source: java.net.SocketImpl\n[0.046s][info   ][class,load] sun.net.PlatformSocketImpl source: jrt:/java.base\n[0.047s][info   ][class,load] java.net.AbstractPlainSocketImpl source: jrt:/java.base\n[0.047s][info   ][class,load] java.net.PlainSocketImpl source: jrt:/java.base\n[0.047s][info   ][class,load] java.net.AbstractPlainSocketImpl$1 source: jrt:/java.base\n[0.047s][info   ][class,load] sun.net.ext.ExtendedSocketOptions source: jrt:/java.base\n[0.047s][info   ][class,load] jdk.net.ExtendedSocketOptions source: jrt:/jdk.net\n[0.047s][info   ][class,load] java.net.SocketOption source: jrt:/java.base\n[0.047s][info   ][class,load] jdk.net.ExtendedSocketOptions$ExtSocketOption source: jrt:/jdk.net\n[0.047s][info   ][class,load] jdk.net.SocketFlow source: jrt:/jdk.net\n[0.047s][info   ][class,load] jdk.net.ExtendedSocketOptions$PlatformSocketOptions source: jrt:/jdk.net\n[0.047s][info   ][class,load] jdk.net.ExtendedSocketOptions$PlatformSocketOptions$1 source: jrt:/jdk.net\n[0.048s][info   ][class,load] jdk.net.LinuxSocketOptions source: jrt:/jdk.net\n[0.048s][info   ][class,load] jdk.net.LinuxSocketOptions$$Lambda$2/0x0000000800b51040 source: jdk.net.LinuxSocketOptions\n[0.049s][info   ][class,load] jdk.net.ExtendedSocketOptions$1 source: jrt:/jdk.net\n[0.049s][info   ][class,load] java.net.StandardSocketOptions source: jrt:/java.base\n[0.049s][info   ][class,load] java.net.StandardSocketOptions$StdSocketOption source: jrt:/java.base\n[0.051s][info   ][class,load] sun.net.ext.ExtendedSocketOptions$$Lambda$3/0x0000000800b51440 source: sun.net.ext.ExtendedSocketOptions\n[0.057s][info   ][class,load] java.net.DelegatingSocketImpl source: jrt:/java.base\n[0.057s][info   ][class,load] java.net.SocksSocketImpl source: jrt:/java.base\n[0.058s][info   ][class,load] java.net.ServerSocket source: jrt:/java.base\n[0.058s][info   ][class,load] jdk.internal.access.JavaNetSocketAccess source: jrt:/java.base\n[0.058s][info   ][class,load] java.net.ServerSocket$1 source: jrt:/java.base\n```\n\nä¸Šé¢çš„ç»“æœä¸­ï¼Œæ—§çš„å®ç°java.net.PlainSocketImplè¢«ç”¨åˆ°äº†ã€‚\n\n### Switch Expressions (Preview)\n\nåœ¨JDK 12ä¸­å¼•å…¥äº†Switchè¡¨è¾¾å¼ä½œä¸ºé¢„è§ˆç‰¹æ€§ã€‚JEP 354ä¿®æ”¹äº†è¿™ä¸ªç‰¹æ€§ï¼Œå®ƒå¼•å…¥äº†yieldè¯­å¥ï¼Œç”¨äºè¿”å›å€¼ã€‚è¿™æ„å‘³ç€ï¼Œswitchè¡¨è¾¾å¼(è¿”å›å€¼)åº”è¯¥ä½¿ç”¨yield, switchè¯­å¥(ä¸è¿”å›å€¼)åº”è¯¥ä½¿ç”¨breakã€‚\n\nåœ¨ä»¥å‰ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨switchä¸­è¿”å›å†…å®¹ï¼Œè¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œä¸€èˆ¬è¯­æ³•å¦‚ä¸‹ï¼š\n\n```java\nint i;\nswitch (x) {\n    case \"1\":\n        i=1;\n        break;\n    case \"2\":\n        i=2;\n        break;\n    default:\n        i = x.length();\n        break;\n}\n```\n\nåœ¨JDK13ä¸­ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š\n\n```java\nint i = switch (x) {\n    case \"1\" -> 1;\n    case \"2\" -> 2;\n    default -> {\n        int len = args[1].length();\n        yield len;\n    }\n};\n```\n\næˆ–è€…\n\n```java\nint i = switch (x) {\n    case \"1\": yield 1;\n    case \"2\": yield 2;\n    default: {\n        int len = args[1].length();\n        yield len;\n    }\n};\n```\n\nåœ¨è¿™ä¹‹åï¼Œswitchä¸­å°±å¤šäº†ä¸€ä¸ªå…³é”®å­—ç”¨äºè·³å‡ºswitchå—äº†ï¼Œé‚£å°±æ˜¯yieldï¼Œä»–ç”¨äºè¿”å›ä¸€ä¸ªå€¼ã€‚å’Œreturnçš„åŒºåˆ«åœ¨äºï¼šreturnä¼šç›´æ¥è·³å‡ºå½“å‰å¾ªç¯æˆ–è€…æ–¹æ³•ï¼Œè€Œyieldåªä¼šè·³å‡ºå½“å‰switchå—ã€‚\n\n### Text Blocks (Preview)\n\nåœ¨JDK 12ä¸­å¼•å…¥äº†Raw String Literalsç‰¹æ€§ï¼Œä½†åœ¨å‘å¸ƒä¹‹å‰å°±æ”¾å¼ƒäº†ã€‚è¿™ä¸ªJEPåœ¨å¼•å…¥å¤šè¡Œå­—ç¬¦ä¸²æ–‡å­—ï¼ˆtext blockï¼‰åœ¨æ„ä¹‰ä¸Šæ˜¯ç±»ä¼¼çš„ã€‚\n\ntext blockï¼Œæ–‡æœ¬å—ï¼Œæ˜¯ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²æ–‡å­—ï¼Œå®ƒé¿å…äº†å¯¹å¤§å¤šæ•°è½¬ä¹‰åºåˆ—çš„éœ€è¦ï¼Œä»¥å¯é¢„æµ‹çš„æ–¹å¼è‡ªåŠ¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå¹¶åœ¨éœ€è¦æ—¶è®©å¼€å‘äººå‘˜æ§åˆ¶æ ¼å¼ã€‚\n\næˆ‘ä»¬ä»¥å‰ä»å¤–éƒ¨copyä¸€æ®µæ–‡æœ¬ä¸²åˆ°Javaä¸­ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¹‰ï¼Œå¦‚æœ‰ä¸€æ®µä»¥ä¸‹å­—ç¬¦ä¸²ï¼š\n\n```html\n\u003Chtml>\n  \u003Cbody>\n      \u003Cp>Hello, world\u003C/p>\n  \u003C/body>\n\u003C/html>\n```\n\nå°†å…¶å¤åˆ¶åˆ°Javaçš„å­—ç¬¦ä¸²ä¸­ï¼Œä¼šå±•ç¤ºæˆä»¥ä¸‹å†…å®¹ï¼š\n\n```java\n\"\u003Chtml>\\n\" +\n\"    \u003Cbody>\\n\" +\n\"        \u003Cp>Hello, world\u003C/p>\\n\" +\n\"    \u003C/body>\\n\" +\n\"\u003C/html>\\n\";\n```\n\nå³è¢«è‡ªåŠ¨è¿›è¡Œäº†è½¬ä¹‰ï¼Œè¿™æ ·çš„å­—ç¬¦ä¸²çœ‹èµ·æ¥ä¸æ˜¯å¾ˆç›´è§‚ï¼Œåœ¨JDK 13ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•äº†ï¼š\n\n```java\n\"\"\"\n\u003Chtml>\n  \u003Cbody>\n      \u003Cp>Hello, world\u003C/p>\n  \u003C/body>\n\u003C/html>\n\"\"\";\n```\n\nä½¿ç”¨\"\"\"ä½œä¸ºæ–‡æœ¬å—çš„å¼€å§‹ç¬¦åˆç»“æŸç¬¦ï¼Œåœ¨å…¶ä¸­å°±å¯ä»¥æ”¾ç½®å¤šè¡Œçš„å­—ç¬¦ä¸²ï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•è½¬ä¹‰ã€‚çœ‹èµ·æ¥å°±ååˆ†æ¸…çˆ½äº†ã€‚\n\nå¦‚å¸¸è§çš„SQLè¯­å¥ï¼š\n\n```java\nString query = \"\"\"\n    SELECT `EMP_ID`, `LAST_NAME` FROM `EMPLOYEE_TB`\n    WHERE `CITY` = 'INDIANAPOLIS'\n    ORDER BY `EMP_ID`, `LAST_NAME`;\n\"\"\";\n```\n\nçœ‹èµ·æ¥å°±æ¯”è¾ƒç›´è§‚ï¼Œæ¸…çˆ½äº†ã€‚\n\n### æœ€å\næ°´å®Œäº† over!\n","post/2019/20191011/":"\n### What is Apache Shiro\n\nApacheShiroâ„¢ æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„ Java å®‰å…¨æ¡†æ¶ï¼Œå®ƒæ‰§è¡Œèº«ä»½éªŒè¯ã€æˆæƒã€åŠ å¯†å’Œä¼šè¯ç®¡ç†ã€‚ä½¿ç”¨ Shiro æ˜“äºç†è§£çš„ APIï¼Œæ‚¨å¯ä»¥å¿«é€Ÿè½»æ¾åœ°è·å¾—ä»»ä½•åº”ç”¨ç¨‹åºâ€”â€”ä»æœ€å°çš„ç§»åŠ¨åº”ç”¨ç¨‹åºåˆ°æœ€å¤§çš„ Web å’Œä¼ä¸šåº”ç”¨ç¨‹åºã€‚\n\n### Apache Shiro Features\n\nApache Shiro æ˜¯å…·æœ‰è®¸å¤šåŠŸèƒ½çš„å…¨é¢çš„åº”ç”¨ç¨‹åºå®‰å…¨æ¡†æ¶ã€‚ä¸‹å›¾æ˜¾ç¤ºäº† Shiro é›†ä¸­ç²¾åŠ›çš„åœ°æ–¹\n![shiro](https://alightyoung.gitee.io/static/img/29.png)\nShiro ä»¥ Shiro å¼€å‘å›¢é˜Ÿæ‰€è°“çš„â€œåº”ç”¨ç¨‹åºå®‰å…¨æ€§çš„å››ä¸ªåŸºçŸ³â€ä¸ºç›®æ ‡-èº«ä»½éªŒè¯ï¼Œæˆæƒï¼Œä¼šè¯ç®¡ç†å’Œå¯†ç å­¦ï¼š\n\n-   Authentication: æœ‰æ—¶ç§°ä¸º\"ç™»å½•\",è¿™æ˜¯è¯æ˜ç”¨æˆ·æ˜¯ä»–ä»¬æ‰€è¯´çš„èº«ä»½çš„è¡Œä¸º.\n-   Authorization: è®¿é—®æ§åˆ¶çš„è¿‡ç¨‹,å³ç¡®å®šâ€œè°â€æœ‰æƒè®¿é—®\"ä»€ä¹ˆ\".\n-   Session Management:å³ä½¿åœ¨é Web æˆ– EJB åº”ç”¨ç¨‹åºä¸­,ä¹Ÿå¯ä»¥ç®¡ç†ç”¨æˆ·ç‰¹å®šçš„ä¼šè¯.\n-   Cryptography: ä½¿ç”¨å¯†ç ç®—æ³•ä¿æŒæ•°æ®å®‰å…¨ï¼ŒåŒæ—¶ä»ç„¶æ˜“äºä½¿ç”¨ã€‚\n\n### shiro.ini\n\nshiro.ini æ˜¯ shiro ä¸­çš„é…ç½®æ–‡ä»¶ï¼Œä»¥ä¸‹æ˜¯å¸¸è§é…ç½®çš„è§£æ\n\n**[main]** ç”¨äºé…ç½®åº”ç”¨ç¨‹åºçš„ SecurityManager å®ä¾‹åŠä»»ä½•å®ƒçš„ä¾èµ–ç»„ä»¶(å¦‚ realm)çš„åœ°æ–¹.\n\n```ini\n[main]\nmyRealm=*.*.*.*realm\n#ä¾èµ–æ³¨å…¥\nsecurityManager.realm=$MyRealm\n```\n\n**[users]** ç”¨äºé…ç½®é™æ€ç”¨æˆ·\n\n```ini\n[users]\nzhangsan=1111\nlisi=1111,role1,role2\n```\n\n**[roles]** ç”¨äºå®šä¹‰è§’è‰²\n\n```ini\n[users]\nzhangsan=1111,role1\n[roles]\nrole1=user:add\n```\n\n### Authentication\n\nç™»å½•éªŒè¯åŠå¼‚å¸¸æ•è·:\n\n```java\n    // 1 åˆ›å»ºSecurityManagerå·¥å‚\n    Factory\u003CSecurityManager> factory  = new IniSecurityManagerFactory(\"classpath:shiro.ini\");\n    // 2 é€šè¿‡securityManagerå·¥å‚è·å–securityManagerå®ä¾‹\n    SecurityManager securityManager = factory.getInstance();\n    // 3 å°†securityManagerå¯¹è±¡è®¾ç½®åˆ°è¿è¡Œç¯å¢ƒä¸­\n    SecurityUtils.setSecurityManager(securityManager);\n    // 4 é€šè¿‡securityUtilsè·å–subject\n    Subject subject = SecurityUtils.getSubject();\n    // 5 ç”¨æˆ·å zhangsan å¯†ç  1111 (è¡¨ç¤ºç”¨æˆ·ç™»é™†æ—¶è¾“å…¥çš„ç™»å½•ä¿¡æ¯)\n    // shiro.iniçš„ä¿¡æ¯ä¸ºæ•°æ®åº“çš„ä¿¡æ¯\n    UsernamePasswordToken token = new UsernamePasswordToken(\"zhangsan\",\"1111\");\n    try {\n        // è¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯\n        subject.login(token);\n        // é€šè¿‡subjectåˆ¤æ–­ç”¨æˆ·æ˜¯å¦é€šè¿‡éªŒè¯\n        if(subject.isAuthenticated()){\n            System.out.println(\"ç™»å½•æˆåŠŸ\");\n        }\n    } catch (AuthenticationException e) { //å¯ä»¥è¿›è¡Œè¯¦ç»†æ•è·\n        e.printStackTrace();\n        System.out.println(\"ç™»å½•å¤±è´¥\");\n    }\n```\n\nå…³äºå¼‚å¸¸çš„è¯¦ç»†æ•è· ä»¥ä¸‹æ˜¯ AuthenticationException çš„å­ç±»å…³ç³»,å¯æ ¹æ®ä¸åŒçš„å¼‚å¸¸è¿›è¡Œä¸åŒçš„å¤„ç†.\n\n-   **AuthenticationException**\n    -   AccountException\n        -   DisabledAccountException\n            -   LockedAccountException\n        -   ConcurrentAccessException\n        -   ExcessiveAttemptsException\n        -   UnknownAccountException\n    -   CredentialsException\n        -   IncorrectCredentialsException\n        -   ExpiredCredentialsException\n    -   UnsupportedTokenException\n\n### JDBC Realm\n\n1. shiro å®Œæˆè®¤è¯çš„è¯é»˜è®¤ä½¿ç”¨çš„æ˜¯ ini realm,å¦‚éœ€ä½¿ç”¨å…¶ä»– realm,åˆ™éœ€è¦è¿›è¡Œç›¸å…³é…ç½®\n2. ä½¿ç”¨ jdbc realm æ¥å®Œæˆèº«ä»½è®¤è¯\n\nä½¿ç”¨ jdbc realm ä¸»è¦æ˜¯åœ¨ shiro.ini é…ç½® realm\n\n```ini\n[main]\ndataSource=com.mchange.v2.c3p0.ComboPooledDataSource\ndataSource.driverClass=com.mysql.cj.jdbc.Driver\ndataSource.jdbcUrl=jdbc:mysql://localhost:3306/[æ•°æ®åº“å]?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=UTC\ndataSource.user=[æ•°æ®åº“è´¦æˆ·å]\ndataSource.password=[æ•°æ®åº“å¯†ç ]\njdbcRealm=org.apache.shiro.realm.jdbc.JdbcRealm\njdbcRealm.dataSource=$dataSource\nsecurityManager.realm=$jdbcRealm\n```\n\nå€¼å¾—ä¸€æçš„æ˜¯ mysql é©±åŠ¨ä¸º 8.0 ä»¥ä¸Šçš„è¯,driverClass æ‰ä¸º com.mysql.cj.jdbc.Driverï¼Œä»¥å‰çš„ç‰ˆæœ¬çš„è¯åˆ™æ˜¯ com.mysql.jdbc.Driverï¼Œè€Œä¸” 8.0+çš„ url ä¹Ÿå¿…é¡»åŠ ä¸Šä¸€äº›è®¾ç½®,å¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸,æ— æ³•è¿æ¥åˆ°æ•°æ®åº“.\n\n### Authentication Stratery\n\nAuthenticationStratery æ˜¯ shiro ä¸­å®šä¹‰çš„éªŒè¯å¤š realm æƒ…å†µçš„éªŒè¯ç­–ç•¥çš„æ¥å£\nå®ƒå…·æœ‰ä¸‰ç§å®ç°éªŒè¯ç­–ç•¥,åŸºæœ¬ä¸Šèƒ½è§£å†³å¤§éƒ¨åˆ†é—®é¢˜\n\n> **FirstSuccessfulStrategy**:åªè¦æœ‰ä¸€ä¸ª Realm éªŒè¯æˆåŠŸå³å¯ï¼Œåªè¿”å›ç¬¬ä¸€ä¸ª Realm èº«ä»½éªŒè¯æˆåŠŸçš„è®¤è¯ä¿¡æ¯ï¼Œå…¶ä»–çš„å¿½ç•¥ã€‚\n>\n> **AtLeastOneSuccessfulStrategy**:åªè¦æœ‰ä¸€ä¸ª Realm éªŒè¯æˆåŠŸå³å¯ï¼Œå’Œ FirstSuccessfulStrategy ä¸åŒï¼Œå°†è¿”å›æ‰€æœ‰ Realm èº«ä»½æ ¡éªŒæˆåŠŸçš„è®¤è¯ä¿¡æ¯ã€‚\n>\n> **AllSuccessfulStrategy**:æ‰€æœ‰ Realm éªŒè¯æˆåŠŸæ‰ç®—æˆåŠŸï¼Œä¸”è¿”å›æ‰€æœ‰ Realm èº«ä»½è®¤è¯æˆåŠŸçš„è®¤è¯ä¿¡æ¯ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¤±è´¥å°±å¤±è´¥äº†ã€‚\n\nå…³äºå¤š realm é…ç½®\n\n```\nsecurityManager.realms=$jdbcRealm,$jdbcRealm1\n```\n\néªŒè¯ç­–ç•¥é…ç½®\n\n```ini\n# é…ç½®éªŒè¯ç­–ç•¥\n## eg\n### authenticationStrategy=org.apache.shiro.authc.pam.AtLeastOneSuccessfulStrategy\n### authenticationStrategy=org.apache.shiro.authc.pam.AllSuccessfulStrategy\n### authenticationStrategy=org.apache.shiro.authc.pam.FirstSuccessfulStrategy\nauthenticationStrategy= org.apache.shiro.authc.pam.FirstSuccessfulStrategy\n# è®¾ç½®éªŒè¯ç­–ç•¥\nsecurityManager.authenticator.authenticationStrategy=$authenticationStrategy\n```\n\n### Custom Realm\n\næœ‰æ—¶ jdbcRealm çš„å±€é™æ€§æœ‰äº›æ—¶å€™å¹¶ä¸èƒ½æ”¯æŒæˆ‘ä»¬å®Œæˆéœ€æ±‚,è¿™ä¸ªæ—¶å€™ä¾¿éœ€è¦è‡ªå®šä¹‰ realm\n\nè‡ªå®šä¹‰ realm éœ€è¦å®ç° realm æ¥å£,shiro è‡ªèº«å·²ç»æä¾›äº†ä¸€äº›å®ç°ç±» eg. AuthenticatingRealm(å®ç°äº†è·å–èº«ä»½ä¿¡æ¯çš„åŠŸèƒ½)&AuthorizingRealm(å®ç°äº†è·å–æƒé™ä¿¡æ¯çš„åŠŸèƒ½).ä¸€èˆ¬è‡ªå®šä¹‰ realm ä¼šé€‰æ‹©ç»§æ‰¿ AuthorizingRealm,å› ä¸ºè¯¥ç±»æ—¢æä¾›äº†èº«ä»½è®¤è¯çš„è‡ªå®šä¹‰æ–¹æ³•,ä¹Ÿèƒ½å®ç°æˆæƒçš„è‡ªå®šä¹‰æ–¹æ³•.\n\n**example:**\n\n```java\npublic class MyRealm extends AuthorizingRealm {\n\n    @Override\n    public String getName() {\n        return \"myRealm\";\n    }\n    //å®Œæˆèº«ä»½è®¤è¯å¹¶è¿”å›è®¤è¯ä¿¡æ¯,è®¤è¯å¤±è´¥è¿”å›null\n    @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException {\n        //è·å–ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·å\n        String username = (String)token.getPrincipal();\n        System.out.println(\"username---->\"+username);\n        //æ ¹æ®ç”¨æˆ·ååˆ°æ•°æ®åº“æŸ¥è¯¢å¯†ç ä¿¡æ¯\n        //todo... (jdbc)\n        // if return pwd=1111\n        String pwd = \"1111\";\n        //å°†æŸ¥è¯¢çš„ä¿¡æ¯å°è£…åˆ°SimpleAuthenticationInfoä¸­\n        SimpleAuthenticationInfo info = new SimpleAuthenticationInfo(username,pwd,getName());\n        return info;\n    }\n    //æˆæƒä¿¡æ¯\n    @Override\n    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n        return null;\n    }\n}\n```\n\nshiro æœ¬èº«å¹¶ä¸ä¼šç»´æŠ¤æ•°æ®,å®ƒåªè´Ÿè´£ä»ç›¸å…³æ¥å£æ¥æ”¶ä¼ é€’æ¥çš„æ•°æ®è¿›è¡ŒéªŒè¯æˆæƒæµç¨‹.\n\n### Hash Algorithm\n\nHash algorithm ä¹Ÿè¢«ç§°ä¸ºæ•£åˆ—ç®—æ³•,ä¸€èˆ¬ç”¨äºç”Ÿæˆä¸€æ®µæ–‡æœ¬çš„æ‘˜è¦ä¿¡æ¯,æ•£åˆ—ç®—æ³•ä¸å¯é€†,å°†å†…å®¹å¯ä»¥ç”Ÿæˆæ‘˜è¦,æ— æ³•å°†æ‘˜è¦è½¬æˆåŸå§‹å†…å®¹.æ•£åˆ—ç®—æ³•å¸¸ç”¨äºå¯¹å¯†ç è¿›è¡Œæ•£åˆ—.åœ¨ shiro ä¸­,ä¹Ÿå®šä¹‰äº†ä¸€äº›å¸¸ç”¨çš„æ•£åˆ—ç®—æ³•,egï¼šmd2,md5,sha1,sha2(sha256,sha384,sha512).å¹¶ä¸”å¯ä»¥åŠ å…¥ salt (ä¸€èˆ¬æ•£åˆ—ç®—æ³•éœ€è¦æä¾›ä¸€ä¸ª saltï¼ˆç›ï¼‰ä¸åŸå§‹å†…å®¹ç”Ÿæˆæ‘˜è¦ä¿¡æ¯ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†å®‰å…¨æ€§ ) ,ä»¥ä¸‹æ˜¯ md5 çš„å¸¸è§ç”¨æ³•.\n\n```java\n    //ä½¿ç”¨md5åŠ å¯†ç®—æ³•(salt)\n    Md5Hash md5Hash =  new Md5Hash(\"1111\");\n    System.out.println(md5Hash);\n    //åŠ å…¥salt(source,salt)\n    md5Hash = new Md5Hash(\"1111\",\"xxx\");\n    System.out.println(md5Hash);\n    //åŠ å…¥è¿­ä»£æ¬¡æ•°(source,salt,hashIterations)\n    md5Hash = new Md5Hash(\"1111\",\"xxx\",2);\n    System.out.println(md5Hash);\n```\n\nè‡ªå®šä¹‰ realm ä¸­ä½¿ç”¨ hash algorithm\n\né¦–å…ˆåœ¨è‡ªå®šä¹‰ realm è¿›è¡Œé…ç½®\n\n```java\n    //å®Œæˆèº«ä»½è®¤è¯å¹¶è¿”å›è®¤è¯ä¿¡æ¯,è®¤è¯å¤±è´¥è¿”å›null\n    @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException {\n        //è·å–ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·å\n        String username = (String)token.getPrincipal();\n        System.out.println(\"username---->\"+username);\n\n        //æ ¹æ®ç”¨æˆ·ååˆ°æ•°æ®åº“æŸ¥è¯¢å¯†ç ä¿¡æ¯\n        //todo... (jdbc)\n\n        // if return pwd=1111(æ•°æ®åº“è¿”å›pwd) & pwd salt=xxx & Iterations=2(shiro.iniä¸­é…ç½®)\n        //è¿›è¡Œmd5åŠ å¯†èµ‹å€¼ç»™pwd æ­¤å¤„çœç•¥new md5Hash(\"1111\",\"xxx\",2).toString();\n        String md5Hash = \"2588ac6dd96981c619b6b6a94fb9ab59\";\n        String salt = \"xxx\";\n\n        //å°†æŸ¥è¯¢çš„ä¿¡æ¯å°è£…åˆ°SimpleAuthenticationInfoä¸­\n        SimpleAuthenticationInfo info = new SimpleAuthenticationInfo(username,md5Hash, ByteSource.Util.bytes(salt),getName());\n\n        return info;\n    }\n```\n\nshiro.ini é…ç½®\n\n```ini\n[main]\n# é…ç½® credentialsMatcher\ncredentialsMatcher= org.apache.shiro.authc.credential.HashedCredentialsMatcher\ncredentialsMatcher.hashAlgorithmName=md5\ncredentialsMatcher.hashIterations=2\n# é…ç½®è‡ªå®šä¹‰realm\n## eg: myRealm=com.xxx.realm.MyRealm\nmyRealm=MyRealm\nmyRealm.credentialsMatcher=$credentialsMatcher\n# è®¾ç½®realm\nsecurityManager.realm=$myRealm\n```\n\n### Authorization\n\n1. æˆæƒï¼Œä¹Ÿç§°ä¸ºè®¿é—®æ§åˆ¶ï¼Œæ˜¯ç®¡ç†å¯¹èµ„æºçš„è®¿é—®çš„è¿‡ç¨‹ã€‚æ¢å¥è¯è¯´ï¼Œæ§åˆ¶è°å¯ä»¥è®¿é—®åº”ç”¨ç¨‹åºã€‚\n2. æƒé™ç²’åº¦:åˆ†ä¸ºç²—ç»†ä¸¤ç§ç²’åº¦,shiro ç®¡ç†çš„æ˜¯ç²—ç²’åº¦çš„æƒé™,ç»†ç²’åº¦çš„è¯ä¸€èˆ¬éœ€è¦ç»“åˆä¸šåŠ¡è¿›è¡Œè®¾è®¡,æ‰€ä»¥æƒé™æ¡†æ¶ä¸€èˆ¬ä¸ä¼šè®¾è®¡ç»†ç²’åº¦çš„æƒé™ç®¡ç†.\n3. è§’è‰²:å«æœ‰ç›¸åŒæƒé™çš„é›†åˆ,æ–¹ä¾¿ç®¡ç†.\n4. æƒé™è¡¨ç¤ºè§„åˆ™: èµ„æº:æ“ä½œ:å®ä¾‹.å¯ä»¥ç”¨é€šé…ç¬¦è¡¨ç¤º:\n    1. user:add è¡¨ç¤ºå¯¹ user æœ‰æ·»åŠ æƒé™.\n    2. user:\\* è¡¨ç¤ºå…·æœ‰æ‰€æœ‰æ“ä½œçš„æƒé™.\n    3. user:delete:100 è¡¨ç¤ºå¯¹ user æ ‡è¯†ä¸º 100 çš„è®°å½•å…·æœ‰åˆ é™¤çš„æƒé™.\n5. shiro ä¸­çš„æˆæƒé¡ºåº\n\n![shiroä¸­çš„æƒé™æµç¨‹](https://alightyoung.gitee.io/static/img/30.png)\n\n> æ­¥éª¤ 1ï¼šåº”ç”¨ç¨‹åºæˆ–æ¡†æ¶ä»£ç è°ƒç”¨ä»»ä½•çš„ Subject hasRole*ï¼ŒcheckRole*ï¼ŒisPermitted*ï¼Œæˆ– checkPermission*æ–¹æ³•çš„å˜ä½“ï¼Œä¼ é€’æ˜¯å¿…éœ€çš„ä»»ä½•è®¸å¯æˆ–è§’è‰²è¡¨ç¤ºã€‚\n>\n> æ­¥éª¤ 2ï¼šè¯¥ Subject æƒ…å†µä¸‹ï¼Œå…¸å‹åœ°æ˜¯ DelegatingSubjectï¼ˆæˆ–å­ç±»ï¼‰å§”æ‰˜ç»™åº”ç”¨ç¨‹åºçš„ SecurityManager è°ƒç”¨ securityManager çš„å‡ ä¹ç›¸åŒçš„å„è‡ª hasRole*ï¼ŒcheckRole*ï¼ŒisPermitted*ï¼Œæˆ– checkPermission*æ–¹æ³•å˜ä½“ï¼ˆæ‰€è¿° securityManager å®ç°äº† org.apache.shiro.authz.Authorizer æ¥å£ï¼Œå®ƒå®šä¹‰äº†æ‰€æœ‰ç‰¹å®šä¸»é¢˜æˆæƒæ–¹æ³•ï¼‰ã€‚\n>\n> æ­¥éª¤ 3ï¼šæœ¬ SecurityManagerï¼Œä½œä¸ºä¸€ä¸ªåŸºæœ¬çš„â€œä¼â€åˆ†é‡ï¼Œç»§ç”µå™¨/å§”æ‰˜ç»™å…¶å†…éƒ¨ org.apache.shiro.authz.Authorizer é€šè¿‡è°ƒç”¨å®ä¾‹ authorizer çš„å„è‡ª hasRole*ï¼ŒcheckRole*ï¼ŒisPermitted*ï¼Œæˆ– checkPermission*æ–¹æ³•ã€‚è¯¥ authorizer å®ä¾‹é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸€ä¸ª ModularRealmAuthorizer å®ä¾‹ï¼Œå®ƒæ”¯æŒ Realm åœ¨ä»»ä½•æˆæƒæ“ä½œæœŸé—´åè°ƒä¸€ä¸ªæˆ–å¤šä¸ªå®ä¾‹ã€‚\n>\n> æ­¥éª¤ 4ï¼šRealm æ£€æŸ¥æ¯ä¸ªå·²é…ç½®çš„é…ç½®æ˜¯å¦å®ç°ç›¸åŒçš„ Authorizer æ¥å£ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œè¯¥é¢†åŸŸçš„å„è‡ªçš„ hasRole*ï¼ŒcheckRole*ï¼ŒisPermitted*ï¼Œæˆ– checkPermission*æ–¹æ³•è¢«è°ƒç”¨ã€‚\n\n6. æˆæƒå®ç°\n\n**ç¼–ç å®ç°**\n\nshiro.ini é…ç½®\n\n```ini\n[users]\nzhangsan=1111,role1\nlisi=1111,role2\n```\n\næµ‹è¯•ç±»\n\n```java\npublic class AuthorizationDemo {\n    public static void main(String[] args) {\n        Factory\u003CSecurityManager> factory = new IniSecurityManagerFactory(\"classpath:shiro.ini\");\n        SecurityManager securityManager = factory.getInstance();\n        SecurityUtils.setSecurityManager(securityManager);\n        Subject subject = SecurityUtils.getSubject();\n        UsernamePasswordToken token = new UsernamePasswordToken(\"zhangsan\",\"1111\");\n        try {\n            subject.login(token);\n            if(subject.isAuthenticated()){\n                System.out.println(\"è®¤è¯æˆåŠŸ\");\n                //åŸºäºè§’è‰²çš„æˆæƒåˆ¤æ–­\n                if(subject.hasRole(\"role1\")){\n                    System.out.println(\"æˆæƒæˆåŠŸ\");\n                }else{\n                    System.out.println(\"æˆæƒå¤±è´¥\");\n                }\n                //hasRoles(list)çš„æˆæƒåˆ¤æ–­\n                //subject.hasRoles(Arrays.asList(\"role1\",\"role2\"));\n                //checkRoleçš„æˆæƒåˆ¤æ–­,æˆæƒå¤±è´¥åˆ™æŠ›å‡ºUnauthorizedExceptionå¼‚å¸¸,åŒæ ·å¯ä½¿ç”¨checkRoles()åˆ¤æ–­å¤šä¸ªè§’è‰²\n                //subject.checkRole(\"role2\");\n                //subject.checkRoles(\"role1\",\"role2\");\n                //åŸºäºèµ„æºçš„åˆ¤æ–­\n                //System.out.println(subject.isPermitted(\"user:select\"));\n                //System.out.println(subject.isPermittedAll(\"user:*\"));\n                //checkPermissionåˆ¤æ–­ ç±»ä¼¼checkRole,æˆæƒå¤±è´¥ä¹Ÿä¼šæŠ›å‡ºUnauthorizedExceptionå¼‚å¸¸\n                //subject.checkPermission(\"user:add\");\n                //subject.checkPermissions(\"user:*\");\n            }\n        } catch (AuthenticationException e) {\n            e.printStackTrace();\n            System.out.println(\"è®¤è¯å¤±è´¥\");\n        }\n    }\n}\n```\n\n**æ³¨è§£å®ç°**\n\n![æ³¨è§£ç»“æ„](https://alightyoung.gitee.io/static/img/31.png)\n\n| æ³¨è§£                    | æ„ä¹‰                                                    | æ¡ˆä¾‹                        |\n| ------                  | ---------                                               | -----------                |\n| @RequiresAuthentication | éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½•                                         |       æ—                     |\n| @RequiresUser           | å½“å‰ç”¨æˆ·å·²ç»éªŒè¯è¿‡äº†æˆ–åˆ™è®°ä½æˆ‘äº†                           |       æ—                    |\n| @RequiresGuest          | æ˜¯å¦æ˜¯æ¸¸å®¢èº«ä»½                                           |       æ—                    |\n| @RequiresRoles          | åˆ¤æ–­ subject ä¸­æœ‰ aRoleName è§’è‰²æ‰å¯ä»¥è®¿é—®æ–¹æ³• someMethod | `@RequiresRoles({\"admin\"})`  |\n| @RequiresPermissions    | éœ€è¦æ‹¥æœ‰æƒé™   | `@RequiresPermissions({\"file:read\", \"write:aFile.txt\"} )`             |\n\n__jspæ ‡ç­¾å®ç°__\n\n```\n\u003C%--shiro æ ‡ç­¾ --%>\n\u003C%@taglib prefix=\"shiro\" uri=\"http://shiro.apache.org/tags\" %>\n```\n\n|æ ‡ç­¾|æ„ä¹‰|\n|----|----|\n|`\u003Cshiro:authenticated>`|ç™»å½•ä¹‹å|\n|`\u003Cshiro:notAuthenticated>`|ä¸åœ¨ç™»å½•çŠ¶æ€æ—¶|\n|`\u003Cshiro:guest>`|ç”¨æˆ·åœ¨æ²¡æœ‰RememberMeæ—¶|\n|`\u003Cshiro:user>`|ç”¨æˆ·åœ¨RememberMeæ—¶|\n|`\u003Cshiro:hasAnyRoles name=\"abc,123\" >`|åœ¨æœ‰abcæˆ–è€…123è§’è‰²æ—¶|\n|`\u003Cshiro:hasRole name=\"abc\">`|æ‹¥æœ‰è§’è‰²abc|\n|`\u003Cshiro:lacksRole name=\"abc\">`|æ²¡æœ‰è§’è‰²abc|\n|`\u003Cshiro:hasPermission name=\"abc\">`|æ‹¥æœ‰æƒé™èµ„æºabc|\n|`\u003Cshiro:lacksPermission name=\"abc\">`|æ²¡æœ‰abcæƒé™èµ„æº|\n|`\u003Cshiro:principal>`|é»˜è®¤æ˜¾ç¤ºç”¨æˆ·åç§°|\n\n_å…³äºè‡ªå®šä¹‰realmä¸­çš„è®¾ç½®æƒé™_\nå¯é€šè¿‡`SimpleAuthorizationInfo`ç±»çš„æ–¹æ³•è¿›è¡Œæƒé™æˆ–è€…è§’è‰²çš„æ·»åŠ \næœ€åè¿”å›infoä¿¡æ¯å³å¯\n\n```java\n//æˆæƒä¿¡æ¯\n@Override\nprotected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n    String username = principalCollection.getPrimaryPrincipal().toString();\n    System.out.println(username);\n    List\u003CString> permission = new ArrayList\u003CString>();\n    permission.add(\"user:add\");\n    permission.add(\"user:update\");\n    permission.add(\"user:delete\");\n    permission.add(\"user:find\");\n    SimpleAuthorizationInfo info = new SimpleAuthorizationInfo();\n    info.addRole(\"role1\");\n    for (String perms:permission){\n        info.addStringPermission(perms);\n    }\n    return info;\n}\n```\n\n### Integrations\n\n___shiroä¸ssmçš„æ•´åˆ___\n\nweb.xmlæ·»åŠ shiroé…ç½®\n\n```xml\n\u003C!--shiro web.xmlé…ç½®-->\n\n\u003C!--shiroFilteré…ç½® é€šè¿‡ä»£ç†é…ç½® å¯¹è±¡æ˜¯springå®¹å™¨åˆ›å»ºçš„ äº¤ä¸servletå®¹å™¨ç®¡ç†-->\n\u003Cfilter>\n    \u003Cfilter-name>shiroFilter\u003C/filter-name>\n    \u003Cfilter-class>org.springframework.web.filter.DelegatingFilterProxy\u003C/filter-class>\n    \u003Cinit-param>\n        \u003C!--å°†beanç”Ÿå‘½å‘¨æœŸäº¤ä¸servletç®¡ç†-->\n        \u003Cparam-name>targetFilterLifecycle\u003C/param-name>\n        \u003Cparam-value>true\u003C/param-value>\n    \u003C/init-param>\n    \u003Cinit-param>\n        \u003C!--è¡¨ç¤ºåœ¨springå®¹å™¨ä¸­beançš„idäº¤ä¸servletç®¡ç†-->\n        \u003C!--ä¸é…ç½®é»˜è®¤å€¼ä¸filterçš„Nameä¸€è‡´,æ­¤å¤„é…ç½®åªåšç¤ºä¾‹-->\n        \u003Cparam-name>targetBeanName\u003C/param-name>\n        \u003Cparam-value>shiroFilter\u003C/param-value>\n    \u003C/init-param>\n\u003C/filter>\n\n\u003Cfilter-mapping>\n    \u003Cfilter-name>shiroFilter\u003C/filter-name>\n    \u003Curl-pattern>/*\u003C/url-pattern>\n\u003C/filter-mapping>\n```\n\napplicationContext.xmlä¸­æ·»åŠ shiroé…ç½®\n\n```xml\n\u003C?xml version='1.0' encoding='UTF-8'  ?>\n\u003Cbeans>\n    \u003C!--shiro applicationContexté…ç½®-->\n    \u003Cbean id=\"shiroFilter\" class=\"org.apache.shiro.spring.web.ShiroFilterFactoryBean\">\n        \u003C!--å¼•ç”¨securityManager-->\n        \u003Cproperty name=\"securityManager\" ref=\"securityManager\">\u003C/property>\n        \u003C!--ç™»å½•url åœ¨è®¿é—®éœ€è¦è®¤è¯èµ„æºæ—¶æœªè®¤è¯è·³è½¬åˆ°æ­¤url-->\n        \u003C!--ä¸é…ç½®æ—¶é»˜è®¤è·¯å¾„ä¸º/login.jsp-->\n        \u003Cproperty name=\"LoginUrl\" value=\"/login\">\u003C/property>\n        \u003C!--è®¤è¯æˆåŠŸurl-->\n        \u003C!--successUrlé…ç½®åªæ˜¯åšä¸ºä¸€ç§é™„åŠ é…ç½®ï¼Œåªæœ‰sessionä¸­æ²¡æœ‰ç”¨æˆ·è¯·æ±‚åœ°å€æ—¶æ‰ä¼šä½¿ç”¨successUrl æ‰€ä»¥ä¸€èˆ¬ä¸è®¾ç½® é»˜è®¤æ˜¯æˆåŠŸåè·³è½¬åˆ°ä¸Šä¸€ä¸ªè¯·æ±‚çš„url-->\n        \u003C!--\u003Cproperty name=\"successUrl\" >\u003C/property>-->\n        \u003C!--é…ç½®ç”¨æˆ·æ²¡æœ‰æƒé™è®¿é—®èµ„æºæ—¶è·³è½¬çš„url-->\n        \u003Cproperty name=\"unauthorizedUrl\" value=\"/refuse\">\u003C/property>\n        \u003C!--é…ç½®shiroè¿‡æ»¤å™¨é“¾-->\n        \u003Cproperty name=\"filterChainDefinitions\">\n            \u003Cvalue>\n                /toLogin=anon\n                /login=authc\n                /logout=logout\n                /**=anon\n                \u003C!--é™æ€èµ„æº-->\n                /css/**=anon\n                /js/**=anon\n                /images/**=anon\n            \u003C/value>\n        \u003C/property>\n    \u003C/bean>\n    \u003C!--é…ç½®authcè¿‡æ»¤å™¨-->\n    \u003Cbean id=\"authc\" class=\"org.apache.shiro.web.filter.authc.FormAuthenticationFilter\">\n        \u003C!--è¡¨å•ä¸­çš„name é»˜è®¤ä¸ºusername password-->\n        \u003Cproperty name=\"usernameParam\" value=\"name\">\u003C/property>\n        \u003Cproperty name=\"passwordParam\" value=\"pwd\">\u003C/property>\n    \u003C/bean>\n    \u003C!--é…ç½®logoutè¿‡æ»¤å™¨-->\n    \u003Cbean id=\"logout\" class=\"org.apache.shiro.web.filter.authc.LogoutFilter\">\n        \u003C!--é»˜è®¤ä¸º\"/\"-->\n        \u003Cproperty name=\"redirectUrl\" value=\"/\" />\n    \u003C/bean>\n    \u003C!--é…ç½®securityManager-->\n    \u003Cbean id=\"securityManager\" class=\"org.apache.shiro.web.mgt.DefaultWebSecurityManager\">\n        \u003C!--å¼•ç”¨realm-->\n        \u003Cproperty name=\"realm\" ref=\"userRealm\">\u003C/property>\n    \u003C/bean>\n    \u003C!--é…ç½®userRealm-->\n    \u003Cbean id=\"userRealm\" class=\"com.xxx.realm.userRealm\">\n        \u003C!--å¼•ç”¨å‡­è¯åŒ¹é…å™¨-->\n        \u003C!--æ³¨æ„!å¼•ç”¨å‡­è¯åŒ¹é…å™¨éœ€è¦åºåˆ—åŒ–userBean,åŒæ—¶realméœ€ä¼ å…¥salt-->\n        \u003Cproperty name=\"credentialsMatcher\" ref=\"credentialsMatcher\"/>\n    \u003C/bean>\n    \u003C!--é…ç½®å‡­è¯åŒ¹é…å™¨-->\n    \u003Cbean id=\"credentialsMatcher\" class=\"org.apache.shiro.authc.credential.HashedCredentialsMatcher\">\n        \u003Cproperty name=\"hashAlgorithmName\" value=\"md5\"/>\n        \u003Cproperty name=\"hashIterations\" value=\"2\"/>\n    \u003C/bean>\n\u003C/beans>\n```\n\nloginControllerçš„/loginæ–¹æ³•é…ç½®\n\n```java\n//ç™»å½•\n@requestMapping(\"/login\")\npublic static ModelAndView login(HttpServletRequest request){\n    ModelAndView mav = new ModelAndView(\"login\");\n    String className=(String)request.getAttribute(\"shiroLoginFailure\");\n    if(UnknownAccountException.class.getName().equals(className)){\n        //æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸\n        mav.addObject(\"msg\",\"ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯\");\n    }else if(IncorrectCredentialsException.class.getName().equals(className)){\n        //æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸\n        mav.addObject(\"msg\",\"ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯\");\n    }else{\n        mav.addObject(\"msg\",\"æœªçŸ¥é”™è¯¯\");\n    }\n    return mav;\n}\n```\n\ncustom realmé…ç½®\n\n```java\npublic class UserRealm extends AuthorizingRealm {\n\n    @Override\n    public String getName() {\n        return \"userRealm\";\n    }\n    //è®¤è¯\n    @Override\n    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException {\n        String username = (String)token.getPrincipal();\n        //é€šè¿‡services(è°ƒç”¨mapper)æ–¹æ³•æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢å¹¶è¿”å›userä¿¡æ¯\n        //æ­¤å¤„pwdä¸ºç¤ºä¾‹ç®€å†™ æ­£å¸¸åˆ™ä¸ºè¿”å›çš„user.getPwd()æ–¹æ³•å¾—å‡º\n        String pwd = \"1111\";\n\n        SimpleAuthenticationInfo info = new SimpleAuthenticationInfo(username,pwd,getName());\n        return info;\n    }\n    //æˆæƒ\n    @Override\n    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) {\n        //è·å–ç”¨æˆ·å¯¹è±¡\n        User user = principalCollection.getPrimaryPrincipal();\n        //æ ¹æ®å¯¹è±¡æŸ¥è¯¢è§’è‰² å†æŸ¥è¯¢å‡ºæƒé™ æ­¤å¤„ç•¥è¿‡\n        SimpleAuthorizationInfo info = new SimpleAuthorizationInfo();\n        // info.addStringPermissions();\n        return info;\n    }\n}\n```\n\nspring mvcé…ç½®aopä»£ç†å®ç°shiroæˆæƒ\n\n```xml\n\u003C!--spring-mvc.xml-->\n\u003C!--å¼€å¯aop å¯¹ç±»ä»£ç†-->\n\u003Caop:config proxy-target-class=\"true\">\u003C/aop:config>\n\u003C!--æ·»åŠ shiroæˆæƒæ³¨è§£æ”¯æŒ-->\n\u003Cbean class=\"org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor\">\n    \u003Cproperty name=\"securityManager\" ref=\"securityManager\">\n\u003C/bean>\n```\næ­¤æ—¶,å¦‚æœæˆæƒä¸é€šè¿‡çš„è¯shiroå¹¶ä¸ä¼šå¤„ç†å¼‚å¸¸(è®¤è¯ä¹Ÿä¸€æ ·),éœ€è¦åœ¨spring mvcä¸­å¤„ç†,å…·ä½“é…ç½®å¦‚ä¸‹\n```xml\n\u003C!--shiroå¼‚å¸¸å¤„ç†-->\n\u003Cbean class=\"org.springframework.web.servlet.handler.SimpleMappingExceptionResolver\">\n    \u003Cproperty name=\"exceptionMappings\">\n        \u003Cprops>\n            \u003C!--keyä¸ºå¼‚å¸¸å®Œå…¨é™å®šå(åŒ…å+ç±»å),å€¼ä¸ºè§†å›¾å-->\n            \u003C!--æˆæƒå¼‚å¸¸-->\n            \u003Cprop key=\"org.apache.shiro.authz.UnauthorizedEeception\">refuse\u003C/prop>\n            \u003C!--è®¤è¯å¼‚å¸¸-->\n            \u003Cprop key=\"org.apache.shiro.authz.UnauthenticatedEeception\">login\u003C/prop>\n        \u003C/props>\n    \u003C/property>\n\u003C/bean>\n```\n\n__æ·»åŠ ehcacheç¼“å­˜ç®¡ç†__\n\nshiroé»˜è®¤é›†æˆäº†ehcacheé…ç½®,å¦‚éœ€è‡ªå®šä¹‰éœ€æŠŠé…ç½®æ–‡ä»¶æ”¾å…¥srcç›®å½•ä¸‹\n\nè‡ªå®šä¹‰é…ç½®æ–‡ä»¶\n\n```xml\n\u003C?xml version=\"1.0\" encoding=\"utf-8\" ?>\n\u003Cehcache>\n    \u003CdiskStore path=\"java.io.tmpdir\"/>\n    \u003CdefaultCache\n    maxElementsInMemory=\"10000\"\n    eternal=\"false\"\n    timeToIdleSeconds=\"120\"\n    timeToLiveSeconds=\"128\"\n    overflowToDisk=\"true\"/>\n\u003C/ehcache>\n```\n\nä¹‹ååœ¨applicationContext.xmlä¸­cacheManagerçš„é…ç½®\n\n```xml\n\u003C!--é…ç½®securityManager-->\n    \u003Cbean id=\"securityManager\" class=\"org.apache.shiro.web.mgt.DefaultWebSecurityManager\">\n        \u003C!--å¼•ç”¨realm-->\n        \u003Cproperty name=\"realm\" ref=\"userRealm\">\u003C/property>\n        \u003C!--å¼•ç”¨ç¼“å­˜ç®¡ç†å™¨-->\n        \u003Cproperty name=\"cacheManager\" ref=\"cacheManager\">\u003C/property>\n    \u003C/bean>\n    \u003C!--é…ç½®ç¼“å­˜ç®¡ç†å™¨-->\n    \u003Cbean name=\"cacheManager\" class=\"org.apache.shiro.cache.ehcache.EhCacheManager\">\n        \u003C!--æ·»åŠ äº†è‡ªå®šä¹‰é…ç½®æ‰éœ€åŠ ä¸Š-->\n        \u003Cproperty name=\"cacheManagerConfigFile\" value=\"classpath:ehcache.xml\">\u003C/property>\n    \u003C/bean>\n```\n\nå¦‚æœå› ä¸ºæƒé™å˜æ›´éœ€è¦æ¸…ç†ç¼“å­˜åˆ™éœ€åœ¨springå®¹å™¨ä¸­è°ƒç”¨realmä¸­çš„æ¸…ç†ç¼“å­˜æ–¹æ³•`clearCache(SecurityUtils.getSubject().getPrincipals());`\n\n__Sessionç®¡ç†å’ŒrememberMe__\n\nsessionManageråŒæ ·ä¹Ÿæ˜¯åœ¨ApplicationContext.xmlçš„securityMangerä¸‹çš„propertyä¸­è¿›è¡Œé…ç½®\n\n```xml\n\u003C!--é…ç½®securityManager-->\n\u003Cbean id=\"securityManager\" class=\"org.apache.shiro.web.mgt.DefaultWebSecurityManager\">\n    \u003C!--å¼•ç”¨realm-->\n    \u003Cproperty name=\"realm\" ref=\"userRealm\"/>\n    \u003C!--å¼•ç”¨ç¼“å­˜ç®¡ç†å™¨-->\n    \u003Cproperty name=\"cacheManager\" ref=\"cacheManager\"/>\n    \u003C!--å¼•ç”¨sessionManager-->\n    \u003Cproperty name=\"sessionManager\" ref=\"sessionManager\"/>\n\u003C/bean>\n\u003C!--é…ç½®ä¼šè¯ç®¡ç†å™¨-->\n\u003Cbean id=\"sessionManager\" class=\"org.apache.shiro.session.mgt.DefaultSessionManager\">\n    \u003C!--å•ä½ms-->\n    \u003Cproperty name=\"globalSessionTimeout\" value=\"300000\"/>\n\u003C/bean>\n```\n\nrememberMe\n\né¦–å…ˆåœ¨authcè¿‡æ»¤å™¨ä¸­æ·»åŠ \n\n```xml\n\u003C!--é…ç½®authcè¿‡æ»¤å™¨-->\n    \u003Cbean id=\"authc\" class=\"org.apache.shiro.web.filter.authc.FormAuthenticationFilter\">\n        \u003C!--è¡¨å•ä¸­çš„name-->\n        \u003Cproperty name=\"usernameParam\" value=\"name\"/>\n        \u003Cproperty name=\"passwordParam\" value=\"pwd\"/>\n        \u003C!--rememberMe-->\n        \u003Cproperty name=\"rememberMeParam\" value=\"rememberMe\"/>\n    \u003C/bean>\n```\n\nåŒæ ·çš„,è¿˜éœ€è¦åœ¨securityManagerä¸­å¼•å…¥rememberMeManager\n\n```xml\n\u003C!--é…ç½®securityManager-->\n\u003Cbean id=\"securityManager\" class=\"org.apache.shiro.web.mgt.DefaultWebSecurityManager\">\n    \u003C!--å¼•ç”¨realm-->\n    \u003Cproperty name=\"realm\" ref=\"userRealm\"/>\n    \u003C!--å¼•ç”¨ç¼“å­˜ç®¡ç†å™¨-->\n    \u003Cproperty name=\"cacheManager\" ref=\"cacheManager\"/>\n    \u003C!--å¼•ç”¨sessionManager-->\n    \u003Cproperty name=\"sessionManager\" ref=\"sessionManager\"/>\n    \u003C!--å¼•ç”¨rememberMeManager-->\n    \u003Cproperty name=\"rememberMeManager\" ref=\"rememberMeManager\"/>\n\u003C/bean>\n\u003C!--é…ç½®rememberMeManager-->\n\u003Cbean id=\"rememberMeManager\" class=\"org.apache.shiro.web.mgt.CookieRememberMeManager\">\n    \u003C!--å¼•ç”¨rememberMeCookie-->\n    \u003Cproperty name=\"cookie\" ref=\"rememberMeCookie\"/>\n\u003C/bean>\n\u003C!--é…ç½®rememberMeCookie-->\n\u003Cbean id=\"rememberMeCookie\" class=\"org.apache.shiro.web.servlet.SimpleCookie\">\n    \u003C!--cookieå­˜æ´»æ—¶é—´-->\n    \u003Cproperty name=\"maxAge\" value=\"604800\"/>\n    \u003C!--è®¾ç½®cookieåç§°-->\n    \u003Cproperty name=\"name\" value=\"rememberMe\"/>\n    \u003C!--éœ€è¦å®Œå…¨åºåˆ—åŒ–userBean(åŒ…æ‹¬userBeanå¼•ç”¨çš„ç±»ä¹Ÿéœ€è¦è¢«åºåˆ—åŒ–)-->\n\u003C/bean>\n```\n\nåŒæ—¶åœ¨è¿‡æ»¤å™¨é“¾å°†é¦–é¡µéªŒè¯æ”¹ä¸ºuser\n\n```xml\n\u003C!--é…ç½®shiroè¿‡æ»¤å™¨é“¾-->\n\u003Cproperty name=\"filterChainDefinitions\">\n    \u003Cvalue>\n        /toLogin=anon\n        /login=authc\n        /logout=logout\n        \u003C!--ä½¿ç”¨è¯¥è¿‡æ»¤å™¨ä»¥å®ç°è®°ä½æˆ‘-->\n        /index=user\n        /**=authc\n        \u003C!--é™æ€èµ„æº-->\n        /css/**=anon\n        /js/**=anon\n        /images/**=anon\n    \u003C/value>\n\u003C/property>\n```\n\næœ€åè®°å¾—æŠŠè®°ä½æˆ‘çš„checkboxçš„nameæ”¹ä¸ºrememberMe\n\n### æœ€å\n\nåˆ°è¿™é‡Œshiroå·®ä¸å¤šå¯ä»¥å‘Šä¸€æ®µè½äº†,å…¶ä»–çš„ä»€ä¹ˆåŠŸèƒ½ä»¥åç”¨åˆ°å†åŠ ä¸Šæ¥å§.\n","post/2019/20191015/":"\n### Mavenè®¤è¯†\nMaven ç¿»è¯‘ä¸º\"ä¸“å®¶\"ã€\"å†…è¡Œ\"ï¼Œæ˜¯ Apache ä¸‹çš„ä¸€ä¸ªçº¯ Java å¼€å‘çš„å¼€æºé¡¹ç›®ã€‚åŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆç¼©å†™ï¼šPOMï¼‰æ¦‚å¿µï¼ŒMavenåˆ©ç”¨ä¸€ä¸ªä¸­å¤®ä¿¡æ¯ç‰‡æ®µèƒ½ç®¡ç†ä¸€ä¸ªé¡¹ç›®çš„æ„å»ºã€æŠ¥å‘Šå’Œæ–‡æ¡£ç­‰æ­¥éª¤ã€‚\n\nMaven æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¯¹ Java é¡¹ç›®è¿›è¡Œæ„å»ºã€ä¾èµ–ç®¡ç†ã€‚\n\nMaven ä¹Ÿå¯è¢«ç”¨äºæ„å»ºå’Œç®¡ç†å„ç§é¡¹ç›®ï¼Œä¾‹å¦‚ C#ï¼ŒRubyï¼ŒScala å’Œå…¶ä»–è¯­è¨€ç¼–å†™çš„é¡¹ç›®ã€‚Maven æ›¾æ˜¯ Jakarta é¡¹ç›®çš„å­é¡¹ç›®ï¼Œç°ä¸ºç”± Apache è½¯ä»¶åŸºé‡‘ä¼šä¸»æŒçš„ç‹¬ç«‹ Apache é¡¹ç›®ã€‚\n\n### MavenåŸºæœ¬åŠŸèƒ½\n- æ„å»º\n- æ–‡æ¡£ç”Ÿæˆ\n- æŠ¥å‘Š\n- ä¾èµ–\n- SCMs\n- å‘å¸ƒ\n- åˆ†å¸ƒ\n- é‚®ä»¶åˆ—è¡¨\n\n### è½»æ¾ä¸Šæ‰‹\n\nä½¿ç”¨mavenæ„å»ºé¡¹ç›®å¯ä»¥æ‘†è„±ä¼ ç»Ÿé¡¹ç›®ä¸­ç¹æ‚çš„jaré…ç½®,åœ¨mavené¡¹ç›®ä¸­æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶`pom.xml`,åœ¨è¯¥æ–‡ä»¶ä¸­å¯ä»¥è½»æ¾æ·»åŠ jarçš„ä¾èµ–.\n\n__å…·ä½“æ­¥éª¤__\n\nå»ºè®®è‡ªè¡Œä¸‹è½½Mavenè€Œä¸æ˜¯ä½¿ç”¨IDEAè‡ªå¸¦çš„ã€‚\n\nå»ºè®®æ·»åŠ é˜¿é‡Œäº‘Mavené•œåƒ[https://maven.aliyun.com/mvn/search](https://maven.aliyun.com/mvn/search)\n\næ–°å»ºMavené¡¹ç›®ï¼Œæ¯‹åº¸ç½®ç–‘ã€‚\n\næ‰¾åˆ°pom.xmlï¼Œéœ€è¦ä»€ä¹ˆjar,å¯ä»¥åœ¨ [mvnrepository](https://mvnrepository.com/)æˆ–è€…[é˜¿é‡Œäº‘Mavenä»“åº“](https://maven.aliyun.com/mvn/search) ç›´æ¥æœç´¢,ç„¶åæŠŠdependencyåŠ åˆ°pom.xmlçš„dependenciesé‡Œé¢å»å°±è¡Œäº†\n\nGAVåæ ‡ç»„æˆJaråŒ…åœ¨ä»“åº“çš„å”¯ä¸€æ ‡è¯†\n\nå¦‚æœéœ€è¦å‘å¸ƒåˆ°Tomcatçš„è¯ï¼Œéœ€è¦åœ¨`project structure`->`artifacts->output layout`->`available elements`ä¸­çš„å¯ç”¨jar å³é”® put into output root(è¦ä¸ç„¶ä¸ä¼šæ‰“åŒ…jaråˆ°tomcat)\n\n\n### ç§æœç¯å¢ƒæ­å»º\n\n[ä¸‹è½½Nexus OSS](https://www.sonatype.com/download-oss-sonatype)\n\nä¸‹è½½å®‰è£…å¾ˆç®€å•ï¼Œä¹‹åè§£å‹é€šè¿‡nexus runå¯åœ¨å‰å°è¿è¡Œï¼Œstartåˆ™å¯ä»¥åœ¨åå°è¿è¡Œï¼Œç¡®è®¤é˜²ç«å¢™æ²¡é—®é¢˜å°±å¯ä»¥åœ¨æµè§ˆå™¨è¾“å…¥ipï¼š8081è¯•è¯•äº†ï¼Œç¬¬ä¸€æ¬¡ä¼šæç¤ºä½ å¯†ç åœ¨å“ªä¸ªæ–‡ä»¶å¤¹ï¼ŒcatæŸ¥çœ‹ä¸€ä¸‹å°±å¥½äº†ã€‚\n\nè¿›å…¥ä¹‹åå¯ä»¥çœ‹åˆ°ç‚¹è®¾ç½®é‚£ä¸ªå›¾æ ‡å¯ä»¥çœ‹åˆ°repositoriesï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„repositoriesäº†ï¼Œæ­¤æ—¶å¯ä»¥æ–°å»ºä¸¤ä¸ªä»“åº“ï¼Œä¸€ä¸ªreleaseï¼Œä¸€ä¸ªsnapshot,ä»“åº“çš„formatè®¾ç½®ä¸ºmaven2 hostedã€‚åˆ›å»ºå¥½å°±éœ€è¦é…ç½®è‡ªå·±çš„pomæ–‡ä»¶äº†\n\n```xml\n\u003CdistributionManagement>\n    \u003Crepository>\n        \u003Cid>yelog-release\u003C/id>\n        \u003Cname>Release Repository of yelog\u003C/name>\n        \u003Curl>http://192.168.0.86:8081/repository/yelog-release/\u003C/url>\n    \u003C/repository>\n    \u003CsnapshotRepository>\n        \u003Cid>yelog-snapshot\u003C/id>\n        \u003Cname>Snapshot Repository of yelog\u003C/name>\n        \u003Curl>http://192.168.0.86:8081/repository/yelog-snapshot/\u003C/url>\n    \u003C/snapshotRepository>\n\u003C/distributionManagement>\n```\nmavençš„settings.xml\n```xml\n\u003Cservers>\n    \u003Cserver>\n      \u003Cid>yelog-realease\u003C/id>\n      \u003Cusername>admin\u003C/username>\n      \u003Cpassword>admin123\u003C/password>\n    \u003C/server>\n    \u003Cserver>\n      \u003Cid>yelog-snapshot\u003C/id>\n      \u003Cusername>admin\u003C/username>\n      \u003Cpassword>admin123\u003C/password>\n    \u003C/server>\n\u003C/servers>\n```\nç„¶åç”¨ideaçš„mavenæ’ä»¶deployä¸Šä¼ å°±å¥½äº†\n\n**ä»ç§æœæ‹‰å»ä¾èµ–åº“**\n\nwebç®¡ç†é¡µé¢æŠŠåˆšæ‰ä¸¤ä¸ªä»“åº“åŠ åˆ°maven-publicé‡Œå»\n\npom æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®\n```xml\n\u003Crepositories>\n    \u003Crepository>\n        \u003Cid>public\u003C/id>\n        \u003Cname>public Repository\u003C/name>\n        \u003Curl>http://192.168.0.86:8081/repository/maven-public/\u003C/url>\n        \u003Creleases>\n            \u003Cenabled>true\u003C/enabled>\n        \u003C/releases>\n        \u003Csnapshots>\n            \u003Cenabled>true\u003C/enabled>\n        \u003C/snapshots>\n    \u003C/repository>\n\u003C/repositories>\n\u003CpluginRepositories>\n    \u003CpluginRepository>\n        \u003Cid>public\u003C/id>\n        \u003Cname>Public Repositories\u003C/name>\n        \u003Curl>http://192.168.0.86:8081/repository/maven-public/\u003C/url>\n    \u003C/pluginRepository>\n\u003C/pluginRepositories>\n```\n\nå¼•å…¥ä¾èµ–\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>org.soul\u003C/groupId>\n    \u003CartifactId>commons\u003C/artifactId>\n    \u003Cversion>1.0-SNAPSHOT\u003C/version>\n\u003C/dependency>\n```\n\nå¸Œæœ›äº†è§£æ›´å¤šè¯·å‚è€ƒ[https://help.sonatype.com/repomanager3/installation](https://help.sonatype.com/repomanager3/installation)\n\n### Dependency Scope\n\n**ä¾èµ–èŒƒå›´**ç”¨äºé™åˆ¶ä¾èµ–é¡¹çš„**å¯ä¼ é€’æ€§**ï¼Œå¹¶ç¡®å®šä½•æ—¶å°†ä¾èµ–é¡¹**åŒ…æ‹¬åœ¨ç±»è·¯å¾„ä¸­**ã€‚\n\nä½•æ—¶å°†ä¾èµ–åŒ…å«åœ¨ç±»è·¯å¾„ï¼ˆclasspathï¼‰åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯**ç¼–è¯‘ï¼ˆcompilation ï¼‰**ã€**æµ‹è¯•ï¼ˆtestï¼‰**ã€**è¿è¡Œï¼ˆruntime ï¼‰**ã€‚\n\nç›®å‰ä¾èµ–èŒƒå›´æœ‰6ä¸ªï¼Œåˆ†åˆ«æ˜¯\n\n1. **compile**\n\n   é»˜è®¤çš„èŒƒå›´ï¼Œç¼–è¯‘çš„ä¾èµ–é¡¹åœ¨é¡¹ç›®çš„**æ‰€æœ‰ç±»è·¯å¾„**å‡å¯ç”¨ï¼Œå¹¶ä¸”**å¯ä»¥ä¼ é€’**ã€‚\n\n2. **provided**\n\n   ä¸compileç±»ä¼¼ï¼Œä½†è¡¨ç¤ºä½ å¸Œæœ›åœ¨JDKæˆ–å®¹å™¨è¿è¡Œæ—¶æä¾›ä¾èµ–é¡¹ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“ä½ éƒ¨ç½²JavaEEçš„Webåº”ç”¨æ—¶ï¼Œä½ å°±éœ€è¦å°†scopeè®¾ç½®ä¸ºprovidedï¼Œå› ä¸ºservletä»¥åŠå…¶ä»–JavaEEçš„APIåœ¨Webå®¹å™¨ä¸­æ—©å·²æä¾›ã€‚è¿™ä¸ªä¾èµ–èŒƒå›´åªåœ¨**ç¼–è¯‘**å’Œ**æµ‹è¯•**æ˜¯ç”Ÿæ•ˆï¼Œå¹¶ä¸”**ä¸å¯ä¼ é€’**ã€‚\n\n3. **runtime**\n\n   æ­¤ä¾èµ–èŒƒå›´è¡¨ç¤ºä¾èµ–é¡¹åªåœ¨**è¿è¡Œ**å’Œ**æµ‹è¯•**æ—¶éœ€è¦ï¼Œ**å¯ä»¥ä¼ é€’**ã€‚é€šå¸¸ç”¨äºJDBCé©±åŠ¨ã€‚\n\n4. **test**\n\n   æ­¤ä¾èµ–èŒƒå›´è¡¨ç¤ºä¾èµ–é¡¹åªåœ¨**è¿è¡Œ**å’Œ**æµ‹è¯•**æ—¶éœ€è¦ï¼Œ**ä¸å¯ä¼ é€’**ã€‚é€šå¸¸ç”¨äºJUnitä¹‹ç±»çš„æµ‹è¯•åº“ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿé€‚ç”¨äºCommons IOè¿™ç§ä»…ç”¨äºå•å…ƒæµ‹è¯•ï¼ˆsrc/test/javaï¼‰è€Œä¸ç”¨äºæ¨¡å‹ä»£ç ï¼ˆsrc/main/javaï¼‰çš„éæµ‹è¯•åº“ã€‚\n\n5. **system**\n\n   ä¸providedç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºä½ å¿…é¡»æä¾›æ˜¾å¼åŒ…å«å®ƒçš„JARã€‚è¯¥artifactå§‹ç»ˆå¯ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨å­˜å‚¨åº“ä¸­æŸ¥æ‰¾ã€‚åŸºæœ¬ä¸ç”¨ã€‚\n\n6. **import**\n\n   æ­¤èŒƒå›´ä»…åœ¨typeä¸ºpomä¸”å¤„äº `\u003CdependencyManagement>` éƒ¨åˆ†ä¸­çš„ä¾èµ–é¡¹æ‰æ”¯æŒã€‚å®ƒè¡¨ç¤ºè¯¥éƒ¨åˆ†çš„ä¾èµ–é¡¹å°†åœ¨æœ‰æ•ˆçš„ä¾èµ–å…³ç³»åˆ—è¡¨ä¸­è¢«æ›¿æ¢ã€‚ç”±äºå®ƒä»¬å°†è¢«æ›¿æ¢ï¼Œå› æ­¤å…·æœ‰è¯¥èŒƒå›´çš„ä¾èµ–é¡¹å®é™…ä¸Šå¹¶**ä¸æ¶‰åŠ**åˆ°é™åˆ¶ä¾èµ–é¡¹çš„**å¯ä¼ é€’æ€§**ã€‚\n\n","post/2019/20191021/":"\r\n## Gitç®€ä»‹\r\nGit æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚ä¹‹å‰å¯¹gitæ²¡æœ‰å¾ˆæ·±çš„è®¤è¯†ï¼Œåªæ˜¯äº†è§£è¿‡ç®€å•çš„push pullç­‰åŸºæœ¬å‘½ä»¤ã€‚ä¸€ç›´å¬è¯´å»–é›ªå³°çš„gitæ•™ç¨‹ï¼Œåˆšå¥½ä¹Ÿæƒ³çœ‹çœ‹ï¼Œæ‰€ä»¥å°±æœ‰äº†ä»Šå¤©çš„åšå®¢:)\r\n\r\n### åˆ†å¸ƒå¼&é›†ä¸­å¼\r\né›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç‰ˆæœ¬åº“æ˜¯é›†ä¸­å­˜æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œå·¥ä½œæ—¶ï¼Œç”¨çš„éƒ½æ˜¯è‡ªå·±çš„ç”µè„‘ï¼Œæ‰€ä»¥è¦å…ˆä»ä¸­å¤®æœåŠ¡å™¨å–å¾—æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åå¼€å§‹å·¥ä½œï¼Œå·¥ä½œåç‰ˆæœ¬å˜æ›´åˆ™éœ€è¦æŠŠè‡ªå·±å˜æ›´åçš„ç‰ˆæœ¬æ¨é€ç»™ä¸­å¤®æœåŠ¡å™¨ã€‚\r\nåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ²¡æœ‰â€œä¸­å¤®æœåŠ¡å™¨â€ï¼Œæ¯ä¸ªäººçš„ç”µè„‘ä¸Šéƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œä½†æ˜¯åœ¨å›¢é˜Ÿå·¥ä½œä¸­å¾€å¾€ä¼šæœ‰ä¸€å°æœåŠ¡å™¨å……å½“ä¸­å¤®æœåŠ¡å™¨çš„è§’è‰²ï¼Œç”¨äºå›¢é˜Ÿäº’ç›¸æŸ¥é˜…å„ä¸ªç‰ˆæœ¬çš„å˜æ›´ã€‚ï¼ˆå¯èƒ½è¿™å°±æ˜¯githubè¯ç”Ÿçš„åŸå› 8ï¼‰\r\nå…¶å®åˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè¿˜æœ‰Mercurialå’ŒBazaarç­‰ï¼Œä½†æ˜¯ç›®å‰æœ€ç«çš„è‚¯å®šè¿˜æ˜¯gitäº†ã€‚\r\n\r\n## Gitçš„å®‰è£…\r\næœ€æ—©Gitæ˜¯åœ¨Linuxä¸Šå¼€å‘çš„ï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ï¼ŒGitä¹Ÿåªèƒ½åœ¨Linuxå’ŒUnixç³»ç»Ÿä¸Šè·‘ã€‚ä¸è¿‡ï¼Œæ…¢æ…¢åœ°æœ‰äººæŠŠå®ƒç§»æ¤åˆ°äº†Windowsä¸Šã€‚ç°åœ¨ï¼ŒGitå¯ä»¥åœ¨Linuxã€Unixã€Macå’ŒWindowsè¿™å‡ å¤§å¹³å°ä¸Šæ­£å¸¸è¿è¡Œäº†ã€‚\r\n\r\n### Linuxå®‰è£…\r\nå¦‚æœæ˜¯æ¯”è¾ƒæ–°çš„debianç³»ï¼Œæ¯”å¦‚ubuntu18.04LTSï¼ˆäº²æµ‹ï¼‰åº”è¯¥ç›´æ¥sudo apt install gitå°±è¡Œäº†ã€‚å¦‚æœæ˜¯åˆ«çš„å‘è¡Œç‰ˆï¼ˆæ²¡è¯•è¿‡ï¼‰ï¼Œå¯ä»¥è€ƒè™‘å®˜ç½‘ä¸‹è½½æºç å®‰è£…ï¼ˆå¤§è‡´æ˜¯è§£å‹ã€`./config`ã€`make`ã€`sudo make install`å°±è¡Œäº†ï¼‰\r\n\r\n### MacOSå®‰è£…\r\nç›´æ¥ä»AppStoreå®‰è£…Xcodeï¼ŒXcodeé›†æˆäº†Gitï¼Œä¸è¿‡é»˜è®¤æ²¡æœ‰å®‰è£…ï¼Œä½ éœ€è¦è¿è¡ŒXcodeï¼Œé€‰æ‹©èœå•â€œXcodeâ€->â€œPreferencesâ€ï¼Œåœ¨å¼¹å‡ºçª—å£ä¸­æ‰¾åˆ°â€œDownloadsâ€ï¼Œé€‰æ‹©â€œCommand Line Toolsâ€ï¼Œç‚¹â€œInstallâ€å°±å¯ä»¥å®Œæˆå®‰è£…äº†ã€‚\r\n\r\n### Windowså®‰è£…\r\nåœ¨Windowsä¸Šä½¿ç”¨Gitï¼Œå¯ä»¥ä»Gitå®˜ç½‘ç›´æ¥ä¸‹è½½å®‰è£…ç¨‹åºï¼Œï¼ˆç½‘é€Ÿæ…¢çš„åŒå­¦è¯·ç§»æ­¥å›½å†…é•œåƒï¼‰ï¼Œç„¶åæŒ‰é»˜è®¤é€‰é¡¹å®‰è£…å³å¯ã€‚\r\nå®‰è£…å®Œæˆåï¼Œåœ¨å¼€å§‹èœå•é‡Œæ‰¾åˆ°â€œGitâ€->â€œGit Bashâ€ï¼Œè¹¦å‡ºä¸€ä¸ªç±»ä¼¼å‘½ä»¤è¡Œçª—å£çš„ä¸œè¥¿ï¼Œå°±è¯´æ˜Gitå®‰è£…æˆåŠŸï¼\r\nå®‰è£…å®Œæˆåï¼Œè¿˜éœ€è¦æœ€åä¸€æ­¥è®¾ç½®ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š\r\n`git config --global user.name \"Your Name\"`\r\n` git config --global user.email \"email@example.com\"`\r\n\r\n## åˆ›å»ºç‰ˆæœ¬åº“\r\nä»€ä¹ˆæ˜¯ç‰ˆæœ¬åº“å‘¢ï¼Ÿç‰ˆæœ¬åº“åˆåä»“åº“ï¼Œè‹±æ–‡årepositoryï¼Œä½ å¯ä»¥ç®€å•ç†è§£æˆä¸€ä¸ªç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥è¢«Gitç®¡ç†èµ·æ¥ï¼Œæ¯ä¸ªæ–‡ä»¶çš„ä¿®æ”¹ï¼Œåˆ é™¤ï¼ŒGitéƒ½èƒ½è·Ÿè¸ªï¼Œä»¥ä¾¿ä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥è¿½è¸ªå†å²ï¼Œæˆ–è€…åœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å¯ä»¥â€œè¿˜åŸâ€ã€‚\r\n\r\nç¬¬ä¸€æ­¥ï¼Œé€‰æ‹©æˆ–è€…æ–°å»ºä¸€ä¸ªç©ºç›®å½•\r\n\r\nç¬¬äºŒæ­¥ ï¼Œæ‰§è¡Œgit init(ä¼šå¤šä¸€ä¸ª.gitç›®å½•)\r\n\r\nç„¶åè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯repositoryï¼Œez!\r\n\r\n### åŸºæœ¬å‘½ä»¤\r\n`git add (file)`:æŠŠæ–‡ä»¶æ·»åŠ åˆ°repositoryä¸­ï¼Œå¯ä»¥å¤šæ¬¡æ·»åŠ ï¼Œå¯ä»¥æ·»åŠ æ–‡ä»¶å¤¹\r\n`git commit -m (commit message)`:ç”¨äºå°†æ·»åŠ çš„æ–‡ä»¶è¿›è¡Œæäº¤ï¼Œå¹¶ä¸”éœ€è¦å¡«å†™æäº¤ä¿¡æ¯ã€‚\r\n\r\n## æ—¶å…‰æœºç©¿æ¢­\r\n`git status`:ç”¨äºæŸ¥çœ‹ç‰ˆæœ¬åº“çš„çŠ¶æ€(æœ‰æ— æ–‡ä»¶è¢«ä¿®æ”¹)\r\n`git diff`:æŸ¥çœ‹ä¿®æ”¹çš„å†…å®¹\r\n\r\n### ç‰ˆæœ¬å›é€€\r\n`git log` å‘½ä»¤æ˜¾ç¤ºä»æœ€è¿‘åˆ°æœ€è¿œçš„æäº¤æ—¥å¿—ã€‚\r\nå¦‚æœå«Œè¾“å‡ºä¿¡æ¯å¤ªå¤šï¼Œçœ‹å¾—çœ¼èŠ±ç¼­ä¹±çš„ï¼Œå¯ä»¥è¯•è¯•åŠ ä¸Š--pretty=onelineå‚æ•°ï¼š\r\n`git log --pretty=oneline`ã€‚ \r\néœ€è¦å‹æƒ…æç¤ºçš„æ˜¯ï¼Œä½ çœ‹åˆ°çš„ä¸€å¤§ä¸²ç±»ä¼¼1094adbã€‚ã€‚ã€‚çš„æ˜¯commit idï¼ˆç‰ˆæœ¬å·ï¼‰ï¼Œå’ŒSVNä¸ä¸€æ ·ï¼ŒGitçš„commit idä¸æ˜¯1ï¼Œ2ï¼Œ3â€¦â€¦é€’å¢çš„æ•°å­—ï¼Œè€Œæ˜¯ä¸€ä¸ªSHA1è®¡ç®—å‡ºæ¥çš„ä¸€ä¸ªéå¸¸å¤§çš„æ•°å­—ï¼Œç”¨åå…­è¿›åˆ¶è¡¨ç¤ºã€‚\r\n\r\n`git reset --hard HEAD^/ commit_id / HEAD ~ n`:åœ¨Gitä¸­ï¼Œç”¨HEADè¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼Œä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD ^ ï¼Œä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD ^^ ï¼Œå½“ç„¶å¾€ä¸Š100ä¸ªç‰ˆæœ¬å†™100ä¸ª^æ¯”è¾ƒå®¹æ˜“æ•°ä¸è¿‡æ¥ï¼Œæ‰€ä»¥å†™æˆHEAD~100ã€‚\r\n`--hard`åˆ é™¤æœ«æ¬¡æäº¤ï¼Œå¹¶æ¸…ç©ºæ‰€æœ‰åŸºäºè¿™æ¬¡commitçš„ä¿®æ”¹ã€‚å¯èƒ½ä¼šé€ æˆæ•°æ®ä¸¢å¤±ã€‚\r\n\r\n>æç¤º:ç‰ˆæœ¬å·æ²¡å¿…è¦å†™å…¨ï¼Œå‰å‡ ä½å°±å¯ä»¥äº†(å½¢æˆç‹¬ä¸€æ ‡è¯†)ï¼ŒGitä¼šè‡ªåŠ¨å»æ‰¾ã€‚\r\n\r\n`git reflog`:æŸ¥çœ‹å‘½ä»¤å†å²(å¯ä»¥ç”¨æ¥ç¡®å®šæœªæ¥æŸä¸ªç‰ˆæœ¬çš„commit_idç”¨git resetå˜æ›´ä¸ºæœªæ¥ç‰ˆæœ¬)\r\n\r\n### å·¥ä½œåŒºå’Œæš‚å­˜åŒº\r\n\r\n__å·¥ä½œåŒºï¼ˆWorking Directoryï¼‰__:å°±æ˜¯ä½ åœ¨ç”µè„‘é‡Œèƒ½çœ‹åˆ°çš„ç›®å½•\r\n\r\n__ç‰ˆæœ¬åº“ï¼ˆRepositoryï¼‰__:å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•.gitï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯Gitçš„ç‰ˆæœ¬åº“ã€‚\r\n\r\nGitçš„ç‰ˆæœ¬åº“é‡Œå­˜äº†å¾ˆå¤šä¸œè¥¿ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ç§°ä¸ºstageï¼ˆæˆ–è€…å«indexï¼‰çš„æš‚å­˜åŒºï¼Œè¿˜æœ‰Gitä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºçš„ç¬¬ä¸€ä¸ªåˆ†æ”¯masterï¼Œä»¥åŠæŒ‡å‘masterçš„ä¸€ä¸ªæŒ‡é’ˆå«HEADã€‚ä¹‹å‰çš„git addæ“ä½œå°±æ˜¯å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œéœ€è¦commitä¹‹åæ‰ä¼šå°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°åˆ†æ”¯å½“ä¸­ã€‚ç†è§£æš‚å­˜åŒºæœ‰åˆ©äºç†è§£å¾ˆå¤šå‘½ä»¤å¤§æ¦‚å¹²äº†å“ªäº›äº‹ã€‚\r\n\r\n### ç®¡ç†ä¿®æ”¹\r\nä¸ºä»€ä¹ˆGitæ¯”å…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè®¾è®¡å¾—ä¼˜ç§€ï¼Œå› ä¸ºGitè·Ÿè¸ªå¹¶ç®¡ç†çš„æ˜¯ä¿®æ”¹ï¼Œè€Œéæ–‡ä»¶ã€‚æ¯”å¦‚è¯´ä½ ä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åè°ƒç”¨git addï¼Œä¹‹åä½ å†ä¿®æ”¹æ–‡ä»¶ï¼Œå¹¶ä¸”æ²¡æœ‰addè€Œæ˜¯ç›´æ¥commitï¼Œç„¶åä½ ä¼šå‘ç°ç¬¬äºŒæ¬¡æ›´æ”¹æ²¡æœ‰è¢«æäº¤ã€‚æ‰€ä»¥è¯´gitæäº¤çš„ä¸æ˜¯æ–‡ä»¶ï¼Œè€Œä¸”ä¿®æ”¹ä¹‹åaddæ“ä½œæ·»åŠ åˆ°æš‚å­˜åŒºçš„å†…å®¹ã€‚\r\n\r\n### æ’¤é”€ä¿®æ”¹\r\n- æƒ…å†µ1:ä¿®æ”¹åæœªæ‰§è¡Œaddæ“ä½œï¼Œä½¿ç”¨git checkout --fileï¼Œæ³¨æ„æ˜¯ä¸¤ä¸ª-ï¼Œå•ä¸ªçš„è¯åˆ™æ˜¯åˆ‡æ¢å‘½ä»¤åˆ†æ”¯ã€‚\r\n\r\n- æƒ…å†µ2:ä¿®æ”¹æ–‡ä»¶æ‰§è¡Œäº†addæ“ä½œï¼Œä½†æœªæ‰§è¡Œcommitï¼Œåˆ™éœ€è¦å¤šä¸€æ­¥ï¼Œç¬¬ä¸€æ­¥å…ˆæ‰§è¡Œgit reset HEAD fileï¼Œæ­¤åˆ»æš‚å­˜åŒºçš„å†…å®¹ä¼šè¢«æ¸…é™¤ï¼Œä¹‹åå†æ‰§è¡Œæƒ…æ™¯1çš„å‘½ä»¤å°±å¥½äº†ã€‚\r\n\r\n- æƒ…å†µ3:å·²ç»commitè¿‡äº†ï¼Œåˆ™éœ€è¦è¿›è¡Œç‰ˆæœ¬å›é€€(å‰é¢æœ‰æåˆ°)ï¼Œå‰ææ˜¯è¿˜æ²¡æ¨é€åˆ°è¿œç¨‹åº“ã€‚\r\n\r\n### åˆ é™¤æ–‡ä»¶\r\nåœ¨Gitä¸­ï¼Œåˆ é™¤ä¹Ÿæ˜¯ä¸€ä¸ªä¿®æ”¹æ“ä½œï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ é€šå¸¸ç›´æ¥åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æŠŠæ²¡ç”¨çš„æ–‡ä»¶åˆ äº†ï¼Œæˆ–è€…ç”¨rmå‘½ä»¤åˆ äº†`rm file`ï¼Œè¿™ä¸ªæ—¶å€™ï¼ŒGitçŸ¥é“ä½ åˆ é™¤äº†æ–‡ä»¶ï¼Œå› æ­¤ï¼Œå·¥ä½œåŒºå’Œç‰ˆæœ¬åº“å°±ä¸ä¸€è‡´äº†ï¼Œ`git status`å‘½ä»¤ä¼šç«‹åˆ»å‘Šè¯‰ä½ å“ªäº›æ–‡ä»¶è¢«åˆ é™¤äº†ï¼Œç°åœ¨ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©:\r\n- ç¡®å®è¦ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤è¯¥æ–‡ä»¶ï¼Œé‚£å°±ç”¨å‘½ä»¤git rmåˆ æ‰ï¼Œå¹¶ä¸”git commitã€‚\r\n- åˆ é”™äº†ï¼Œä½†æ˜¯ç‰ˆæœ¬åº“é‡Œè¿˜æœ‰å‘¢ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆè½»æ¾åœ°æŠŠè¯¯åˆ çš„æ–‡ä»¶æ¢å¤åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š`git checkout -- file`ï¼Œ`git checkout`å…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥â€œä¸€é”®è¿˜åŸâ€ã€‚\r\n\r\n> æ³¨æ„ï¼šä»æ¥æ²¡æœ‰è¢«æ·»åŠ åˆ°ç‰ˆæœ¬åº“å°±è¢«åˆ é™¤çš„æ–‡ä»¶ï¼Œæ˜¯æ— æ³•æ¢å¤çš„ï¼\r\n\r\n## è¿œç¨‹ä»“åº“\r\nGitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ŒåŒä¸€ä¸ªGitä»“åº“ï¼Œå¯ä»¥åˆ†å¸ƒåˆ°ä¸åŒçš„æœºå™¨ä¸Šã€‚ä½†æ˜¯è¿œç¨‹ä»“åº“æ˜¯éœ€è¦æœåŠ¡å™¨ç¯å¢ƒçš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥è€ƒè™‘æ­å»ºgitç§æœæˆ–è€…ä½¿ç”¨[GitHub](https://github.com)ã€‚è¿™ä¸ªç½‘ç«™å°±æ˜¯æä¾›Gitä»“åº“æ‰˜ç®¡æœåŠ¡çš„ï¼Œæ‰€ä»¥ï¼Œåªè¦æ³¨å†Œä¸€ä¸ªGitHubè´¦å·(very ez)ï¼Œå°±å¯ä»¥å…è´¹è·å¾—Gitè¿œç¨‹ä»“åº“ã€‚(ç°åœ¨ç§æœ‰åº“éƒ½å…è´¹äº†ï¼Œä¸è¿‡æœ€å¤šæ”¯æŒ3äººåä½œï¼Œä½†æ˜¯è¿˜æ˜¯ï¼ŒçœŸé¦™!)\r\n\r\n### æ·»åŠ è¿œç¨‹åº“\r\nå½“ä½ æœ‰äº†githubçš„å…è´¹gitä»“åº“ä¹‹åï¼Œä½ å°±å¯ä»¥ä½¿ç”¨å®ƒæ¥åŒæ­¥ä½ æœ¬åœ°çš„gitä»“åº“äº†ã€‚(è¿˜èƒ½åˆ†äº«ç»™åˆ«äººå­¦ä¹ - -)åŒæ­¥åˆ°è¿œç¨‹åº“å…·ä½“åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤:\r\n\r\n- åœ¨githubåˆ›å»ºrepository\r\n- æœ¬åœ°åº“å’Œè¿œç¨‹åº“å…³è”xxxx(å¯ä»¥ä½¿ç”¨httpsæˆ–è€…sshåè®®è‡ªè¡Œé€‰æ‹©)\r\n`git remote add origin path/xxxx.git`\r\n- git pushæ¨é€æœ¬åœ°åº“åˆ°è¿œç¨‹åº“è¿›è¡ŒåŒæ­¥`git push -u origin master`\r\n\r\næ­¤å‘½ä»¤æ˜¯æŠŠå½“å‰åˆ†æ”¯masteræ¨é€åˆ°è¿œç¨‹ã€‚ç”±äºè¿œç¨‹åº“æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šäº†-uå‚æ•°ï¼ŒGitä¸ä½†ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å†…å®¹æ¨é€çš„è¿œç¨‹æ–°çš„masteråˆ†æ”¯ï¼Œè¿˜ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å’Œè¿œç¨‹çš„masteråˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åçš„æ¨é€æˆ–è€…æ‹‰å–æ—¶å°±å¯ä»¥ç®€åŒ–å‘½ä»¤ã€‚\r\n\r\næ¨é€æˆåŠŸåï¼Œå¯ä»¥ç«‹åˆ»åœ¨GitHubé¡µé¢ä¸­çœ‹åˆ°è¿œç¨‹åº“çš„å†…å®¹å·²ç»å’Œæœ¬åœ°ä¸€æ¨¡ä¸€æ ·ï¼Œä»ç°åœ¨èµ·ï¼Œåªè¦æœ¬åœ°ä½œäº†æäº¤ï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤ï¼š`git push origin master`\r\n\r\n### ä»è¿œç¨‹ä»“åº“å…‹éš†\r\n`git clone path/xxxx.git`\r\nç„¶åä½ ä¼šå¾—åˆ°åœ¨å½“å‰ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªæœ¬åœ°åº“ã€‚å’Œè¿œç¨‹åº“ä¸€è‡´ã€‚\r\n\r\n## åˆ†æ”¯ç®¡ç†\r\nå‡ ä¹æ¯ä¸€ç§ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿéƒ½ä»¥æŸç§å½¢å¼æ”¯æŒåˆ†æ”¯ã€‚ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥ä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œç„¶ååœ¨ä¸å½±å“ä¸»çº¿çš„åŒæ—¶ç»§ç»­å·¥ä½œã€‚\r\n\r\nGitçš„åˆ†æ”¯æ˜¯ä¸ä¼—ä¸åŒçš„ï¼Œæ— è®ºåˆ›å»ºã€åˆ‡æ¢å’Œåˆ é™¤åˆ†æ”¯ï¼ŒGitåœ¨1ç§’é’Ÿä¹‹å†…å°±èƒ½å®Œæˆï¼æ— è®ºä½ çš„ç‰ˆæœ¬åº“æ˜¯1ä¸ªæ–‡ä»¶è¿˜æ˜¯1ä¸‡ä¸ªæ–‡ä»¶ã€‚\r\n\r\n### åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯\r\n`git checkout -b branchName` åˆ›å»ºæŒ‡å®šåˆ†æ”¯å¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ã€‚ç›¸å½“äº`git branch branchName` `git checkout branchName`\r\n`git branch`å‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª`*`å·ã€‚\r\n`git merge branchName`å‘½ä»¤ç”¨äºåˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ã€‚\r\nåˆå¹¶ä¹‹åå¯ä»¥ä½¿ç”¨`git branxh -d branchName`åˆ é™¤æŒ‡å®šåˆ†æ”¯\r\nå› ä¸ºåˆ›å»ºã€åˆå¹¶å’Œåˆ é™¤åˆ†æ”¯éå¸¸å¿«ï¼Œæ‰€ä»¥Gité¼“åŠ±ä½ ä½¿ç”¨åˆ†æ”¯å®ŒæˆæŸä¸ªä»»åŠ¡ï¼Œåˆå¹¶åå†åˆ æ‰åˆ†æ”¯ï¼Œè¿™å’Œç›´æ¥åœ¨`master`åˆ†æ”¯ä¸Šå·¥ä½œæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†è¿‡ç¨‹æ›´å®‰å…¨ã€‚\r\n\r\n >switch & checkout\r\n \r\næœ€æ–°ç‰ˆæœ¬çš„Gitæä¾›äº†æ–°çš„`git switch`å‘½ä»¤æ¥åˆ‡æ¢åˆ†æ”¯ï¼š`git switch -c branchName`ï¼Œæ•ˆæœç­‰åŒäº`git checkout -c branchName`ï¼Œcheckoutå°±è®©ä»–ä¸“é—¨ç”¨æ¥è¿›è¡Œæ’¤é”€å§ï¼Œçœçš„æ•´æ··äº†\r\n\r\n### è§£å†³å†²çª\r\næœ‰çš„æ—¶å€™åˆ†æ”¯åˆå¹¶å¯èƒ½ä¼šå‘ç”Ÿå†²çªï¼Œæ¯”å¦‚ä½ åœ¨aåˆ†æ”¯æŸä¸ªæ–‡ä»¶è¿›è¡Œäº†appendï¼Œç„¶åä½ åˆåœ¨båˆ†æ”¯å¯¹åŒä¸€ä¸ªæ–‡ä»¶åˆè¿›è¡Œäº†appendï¼Œæ­¤åˆ»å¿«å»åˆå¹¶åˆ†æ”¯åˆ™ä¼šå¤±è´¥ï¼Œå¹¶è¦æ±‚å¯¹å†²çªçš„å†…å®¹è¿›è¡Œä¿®æ”¹ã€‚\r\n\r\n### åˆ†æ”¯ç®¡ç†ç­–ç•¥\r\né€šå¸¸ï¼Œåˆå¹¶åˆ†æ”¯æ—¶ï¼Œå¦‚æœå¯èƒ½ï¼ŒGitä¼šç”¨`Fast forward`æ¨¡å¼ï¼Œä½†è¿™ç§æ¨¡å¼ä¸‹ï¼Œåˆ é™¤åˆ†æ”¯åï¼Œä¼šä¸¢æ‰åˆ†æ”¯ä¿¡æ¯ã€‚\r\n\r\nå¦‚æœè¦å¼ºåˆ¶ç¦ç”¨`Fast forward`æ¨¡å¼ï¼ŒGitå°±ä¼šåœ¨mergeæ—¶ç”Ÿæˆä¸€ä¸ªæ–°çš„commitï¼Œè¿™æ ·ï¼Œä»åˆ†æ”¯å†å²ä¸Šå°±å¯ä»¥çœ‹å‡ºåˆ†æ”¯ä¿¡æ¯ã€‚\r\n`git merge --no-ff -m \"merge with no-ff\" dev`ï¼Œå…¶ä¸­--no-ffè¡¨ç¤ºç¦ç”¨`Fast forward`ã€‚\r\n\r\nå› ä¸ºæœ¬æ¬¡åˆå¹¶è¦åˆ›å»ºä¸€ä¸ªæ–°çš„commitï¼Œæ‰€ä»¥åŠ ä¸Š`-m`å‚æ•°ï¼ŒæŠŠcommitæè¿°å†™è¿›å»ã€‚\r\n\r\nä¹‹åå¯ä»¥ç”¨`git log`æŸ¥çœ‹åˆ†æ”¯å†å²\r\n\r\nåœ¨å®é™…å¼€å‘ä¸­ï¼Œé€šå¸¸masteréƒ½æ˜¯æ­£å¼ç‰ˆæœ¬çš„åˆ†æ”¯ï¼Œä¸ªäººå¼€å‘ä¸€èˆ¬æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¹‹åç¡®è®¤æ— è¯¯å†å°†æ–°å»ºçš„åˆ†æ”¯åˆå¹¶åˆ°masteråˆ†æ”¯ä¸­ã€‚\r\n\r\n### Bugåˆ†æ”¯\r\nä¿®å¤bugæ—¶ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åˆ›å»ºæ–°çš„bugåˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œç„¶ååˆå¹¶ï¼Œæœ€ååˆ é™¤ï¼›\r\n\r\nå½“æ‰‹å¤´å·¥ä½œæ²¡æœ‰å®Œæˆæ—¶ï¼Œå…ˆæŠŠå·¥ä½œç°åœº`git stash`ä¸€ä¸‹ï¼Œç„¶åå»ä¿®å¤bugï¼Œä¿®å¤åï¼Œå†`git stash pop`ï¼Œå›åˆ°å·¥ä½œç°åœºï¼›\r\n\r\nåœ¨masteråˆ†æ”¯ä¸Šä¿®å¤çš„bugï¼Œæƒ³è¦åˆå¹¶åˆ°å½“å‰devåˆ†æ”¯ï¼Œå¯ä»¥ç”¨`git cherry-pick \u003Ccommit>`å‘½ä»¤ï¼ŒæŠŠbugæäº¤çš„ä¿®æ”¹â€œå¤åˆ¶â€åˆ°å½“å‰åˆ†æ”¯ï¼Œé¿å…é‡å¤åŠ³åŠ¨ã€‚\r\n\r\n### Featureåˆ†æ”¯\r\nå¼€å‘ä¸€ä¸ªæ–°featureï¼Œæœ€å¥½æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼›\r\n\r\nå¦‚æœè¦ä¸¢å¼ƒä¸€ä¸ªæ²¡æœ‰è¢«åˆå¹¶è¿‡çš„åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡`git branch -D \u003Cname>`å¼ºè¡Œåˆ é™¤ã€‚\r\n\r\n### å¤šäººåä½œ\r\næŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œä½¿ç”¨`git remote -v`ï¼›\r\n\r\næœ¬åœ°æ–°å»ºçš„åˆ†æ”¯å¦‚æœä¸æ¨é€åˆ°è¿œç¨‹ï¼Œå¯¹å…¶ä»–äººå°±æ˜¯ä¸å¯è§çš„ï¼›\r\n\r\nä»æœ¬åœ°æ¨é€åˆ†æ”¯ï¼Œä½¿ç”¨`git push origin branch-name`ï¼Œå¦‚æœæ¨é€å¤±è´¥ï¼Œå…ˆç”¨`git pull`æŠ“å–è¿œç¨‹çš„æ–°æäº¤ï¼›\r\n\r\nåœ¨æœ¬åœ°åˆ›å»ºå’Œè¿œç¨‹åˆ†æ”¯å¯¹åº”çš„åˆ†æ”¯ï¼Œä½¿ç”¨`git checkout -b branch-name origin/branch-name`ï¼Œæœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯çš„åç§°æœ€å¥½ä¸€è‡´ï¼›\r\n\r\nå»ºç«‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å…³è”ï¼Œä½¿ç”¨`git branch --set-upstream branch-name origin/branch-name`ï¼›\r\n\r\nä»è¿œç¨‹æŠ“å–åˆ†æ”¯ï¼Œä½¿ç”¨`git pull`ï¼Œå¦‚æœæœ‰å†²çªï¼Œè¦å…ˆå¤„ç†å†²çªã€‚\r\n\r\n### Rebase\r\nrebaseæ“ä½œå¯ä»¥æŠŠæœ¬åœ°æœªpushçš„åˆ†å‰æäº¤å†å²æ•´ç†æˆç›´çº¿ï¼›\r\n\r\nrebaseçš„ç›®çš„æ˜¯ä½¿å¾—æˆ‘ä»¬åœ¨æŸ¥çœ‹å†å²æäº¤çš„å˜åŒ–æ—¶æ›´å®¹æ˜“ï¼Œå› ä¸ºåˆ†å‰çš„æäº¤éœ€è¦ä¸‰æ–¹å¯¹æ¯”ã€‚\r\n\r\n## æ ‡ç­¾ç®¡ç†\r\ntagå°±æ˜¯ä¸€ä¸ªè®©äººå®¹æ˜“è®°ä½çš„æœ‰æ„ä¹‰çš„åå­—ï¼Œå®ƒè·ŸæŸä¸ªcommitç»‘åœ¨ä¸€èµ·ã€‚\r\n\r\nå‘å¸ƒä¸€ä¸ªç‰ˆæœ¬æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å…ˆåœ¨ç‰ˆæœ¬åº“ä¸­æ‰“ä¸€ä¸ªæ ‡ç­¾ï¼ˆtagï¼‰ï¼Œè¿™æ ·ï¼Œå°±å”¯ä¸€ç¡®å®šäº†æ‰“æ ‡ç­¾æ—¶åˆ»çš„ç‰ˆæœ¬ã€‚å°†æ¥æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œå–æŸä¸ªæ ‡ç­¾çš„ç‰ˆæœ¬ï¼Œå°±æ˜¯æŠŠé‚£ä¸ªæ‰“æ ‡ç­¾çš„æ—¶åˆ»çš„å†å²ç‰ˆæœ¬å–å‡ºæ¥ã€‚æ‰€ä»¥ï¼Œæ ‡ç­¾ä¹Ÿæ˜¯ç‰ˆæœ¬åº“çš„ä¸€ä¸ªå¿«ç…§ã€‚\r\n\r\nGitçš„æ ‡ç­¾è™½ç„¶æ˜¯ç‰ˆæœ¬åº“çš„å¿«ç…§ï¼Œä½†å…¶å®å®ƒå°±æ˜¯æŒ‡å‘æŸä¸ªcommitçš„æŒ‡é’ˆï¼ˆè·Ÿåˆ†æ”¯å¾ˆåƒå¯¹ä¸å¯¹ï¼Ÿä½†æ˜¯åˆ†æ”¯å¯ä»¥ç§»åŠ¨ï¼Œæ ‡ç­¾ä¸èƒ½ç§»åŠ¨ï¼‰ï¼Œæ‰€ä»¥ï¼Œåˆ›å»ºå’Œåˆ é™¤æ ‡ç­¾éƒ½æ˜¯ç¬é—´å®Œæˆçš„ã€‚\r\n\r\n### åˆ›å»ºæ ‡ç­¾\r\n- å‘½ä»¤`git tag \u003Ctagname>`ç”¨äºæ–°å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œé»˜è®¤ä¸ºHEADï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªcommit idã€‚\r\n\r\n- å‘½ä»¤`git tag -a \u003Ctagname> -m \"message\"`å¯ä»¥æŒ‡å®šæ ‡ç­¾ä¿¡æ¯ã€‚\r\n\r\n- å‘½ä»¤`git tag`å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ã€‚\r\n\r\n### æ“ä½œæ ‡ç­¾\r\n- å‘½ä»¤`git push origin \u003Ctagname>`å¯ä»¥æ¨é€ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ã€‚\r\n\r\n- å‘½ä»¤`git push origin --tags`å¯ä»¥æ¨é€å…¨éƒ¨æœªæ¨é€è¿‡çš„æœ¬åœ°æ ‡ç­¾ã€‚\r\n\r\n- å‘½ä»¤`git tag -d \u003Ctagname>`å¯ä»¥åˆ é™¤ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ã€‚\r\n\r\n- å‘½ä»¤`git push origin :refs/tags/\u003Ctagname>`å¯ä»¥åˆ é™¤ä¸€ä¸ªè¿œç¨‹æ ‡ç­¾ã€‚\r\n\r\n## ç äº‘\r\nä¼—æ‰€å‘¨çŸ¥ï¼Œgithubè®¿é—®é€Ÿåº¦ä¸€èˆ¬ï¼Œä½†æ˜¯é™¤äº†githubè¿˜æœ‰gitee!ä¹Ÿå°±æ˜¯ç äº‘ã€‚ç äº‘ä¹Ÿæ˜¯ä¸€ä¸ªgitä»“åº“æ‰˜ç®¡çš„å¹³å°ï¼ŒåŒæ ·æ”¯æŒç§æœ‰åº“ï¼Œæœ€é«˜5äººä¸Šé™ï¼Œè‰¯å¥½çš„è®¿é—®é€Ÿåº¦ã€‚è€Œä¸”gitæœ¬æ¥å°±æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥æŠŠæœ¬åœ°åº“åŒæ­¥åˆ°githubçš„åŒæ—¶ä¹ŸåŒæ­¥åˆ°giteeï¼Œåªæ˜¯è¿œç¨‹åä¸èƒ½éƒ½å«originäº†ï¼Œå¾—åˆ†åˆ«è®¾ç½®ã€‚æ€»ä¹‹ï¼Œgiteeçš„ä¸­æ–‡ç•Œé¢ï¼Œè®¿é—®é€Ÿåº¦å€¼å¾—ä½ å»å°è¯•ã€‚è‡³äºæœ‰äº›å¼€æºé¡¹ç›®ï¼Œä½ ä»ç„¶å¯ä»¥é€‰æ‹©star on githubï¼Œè¿™å¹¶ä¸å†²çªã€‚\r\n\r\n## è‡ªå®šä¹‰åŠŸèƒ½\r\n\r\n### å¿½ç•¥é…ç½®æ–‡ä»¶\r\nå½“ä½ ä¸æƒ³æŠŠä¸€äº›æ–‡ä»¶æäº¤åˆ°gitä»“åº“æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©æäº¤å¿½ç•¥ã€‚\r\nå¿½ç•¥æŸäº›æ–‡ä»¶æ—¶ï¼Œéœ€è¦ç¼–å†™.gitignoreï¼›\r\n\r\n.gitignoreæ–‡ä»¶æœ¬èº«è¦æ”¾åˆ°ç‰ˆæœ¬åº“é‡Œï¼Œå¹¶ä¸”å¯ä»¥å¯¹.gitignoreåšç‰ˆæœ¬ç®¡ç†ï¼\r\n\r\n### é…ç½®åˆ«å\r\n~~æœ‰çš„æ—¶å€™ä½ å¯èƒ½ä¼šå¿˜è®°æœ‰äº›å‘½ä»¤å•è¯~~ï¼Œè´´å¿ƒçš„gitä¸ºä½ è®¾è®¡äº†åˆ«åã€‚ä½†æ˜¯æ„Ÿè§‰gitä½¿ç”¨é¢‘ç‡ä¸é«˜ï¼Œæ„Ÿè§‰æ²¡å¿…è¦é…ç½®ï¼Œè¿™é‡Œå°±ç®€å•è¯´ä¸€ä¸‹ï¼Œå…¶å®å°±æ˜¯å¯ä»¥é€šè¿‡å‘½ä»¤é…ç½®åˆ«åè¾¾åˆ°å·æ‡’çš„ä½œç”¨ã€‚eg:`git config --global alias.st status`ï¼Œåœ¨è¾“å…¥è¿™ä¸ªå‘½ä»¤åï¼Œä»¥åå°±å¯ä»¥ç›´æ¥git stä»£æ›¿git statusï¼Œå…¶ä»–ç±»ä¼¼ã€‚æ„Ÿè§‰æ²¡ä»€ä¹ˆå¿…è¦ï¼Œå°±ä¸å¤šèµ˜è¿°äº†ã€‚\r\n\r\n### æ­å»ºgitæœåŠ¡å™¨\r\n1. æœåŠ¡å™¨å®‰è£…git(æ ¹æ®å‘è¡Œç‰ˆè‡ªè¡Œå®‰è£…)\r\n2. åˆ›å»ºgitç”¨æˆ·ï¼Œç”¨äºè¿è¡ŒgitæœåŠ¡\r\n3. åˆ›å»ºè¯ä¹¦ç™»å½•\r\n4. åˆå§‹åŒ–gitä»“åº“\r\n5. ç¦ç”¨shellç™»å½•\r\n6. å…‹éš†è¿œç¨‹ä»“åº“\r\n\r\nç®¡ç†å…¬é’¥:è‡ªè¡Œäº†è§£Gitosis\r\n\r\nç®¡ç†æƒé™:è‡ªè¡Œäº†è§£Gitolite\r\n\r\n## æœ€å\r\nå·®ä¸å¤šäº†,å¯¹äº†æœ€è¿‘å¥½åƒ GitHub Mobile beta ioså·²ç»å¼€å§‹æµ‹è¯•äº†,Androidä¹Ÿå¯ä»¥é¢„çº¦betaäº† æ„Ÿå…´è¶£å¯ä»¥äº†è§£ä¸€ä¸‹ over -.-\r\n\r\n\r\n\r\n","post/2019/20191024/":"\r\n### Synchronized å…³é”®å­—\r\nJavaè¯­è¨€çš„å…³é”®å­—ï¼Œå¯ç”¨æ¥ç»™å¯¹è±¡å’Œæ–¹æ³•æˆ–è€…ä»£ç å—åŠ é”ï¼Œå½“å®ƒé”å®šä¸€ä¸ªæ–¹æ³•æˆ–è€…ä¸€ä¸ªä»£ç å—çš„æ—¶å€™ï¼ŒåŒä¸€æ—¶åˆ»æœ€å¤šåªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œè¿™æ®µä»£ç ã€‚å½“ä¸¤ä¸ªå¹¶å‘çº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå¯¹è±¡objectä¸­çš„è¿™ä¸ªåŠ é”åŒæ­¥ä»£ç å—æ—¶ï¼Œä¸€ä¸ªæ—¶é—´å†…åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¾—åˆ°æ‰§è¡Œã€‚å¦ä¸€ä¸ªçº¿ç¨‹å¿…é¡»ç­‰å¾…å½“å‰çº¿ç¨‹æ‰§è¡Œå®Œè¿™ä¸ªä»£ç å—ä»¥åæ‰èƒ½æ‰§è¡Œè¯¥ä»£ç å—ã€‚ç„¶è€Œï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®objectçš„ä¸€ä¸ªåŠ é”ä»£ç å—æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä»å¯ä»¥è®¿é—®è¯¥objectä¸­çš„éåŠ é”ä»£ç å—ã€‚\r\n\r\n#### åŒæ­¥æ–¹æ³•\r\n`synchronized T methodName(){}`åŒæ­¥æ–¹æ³•é”å®šçš„æ˜¯å½“å‰å¯¹è±¡ã€‚å½“å¤šçº¿ç¨‹é€šè¿‡åŒä¸€ä¸ªå¯¹è±¡å¼•ç”¨å¤šæ¬¡è°ƒç”¨å½“å‰åŒæ­¥æ–¹æ³•æ—¶ï¼Œéœ€åŒæ­¥æ‰§è¡Œã€‚\r\n\r\n#### åŒæ­¥ä»£ç å—\r\nåŒæ­¥ä»£ç å—çš„åŒæ­¥ç²’åº¦æ›´åŠ ç»†è‡´ï¼Œæ˜¯å®é™…å¼€å‘ä¸­æ¨èçš„ç¼–ç¨‹æ–¹å¼ã€‚å¯ä»¥å®šä½åˆ°å…·ä½“çš„åŒæ­¥ä½ç½®ï¼Œè€Œä¸æ˜¯ç®€å•çš„å°†æ–¹æ³•æ•´ä½“å®ç°åŒæ­¥é€»è¾‘ã€‚åœ¨æ•ˆç‡ä¸Šï¼Œç›¸å¯¹æ›´é«˜ã€‚\r\n\r\n##### é”å®šä¸´ç•Œå¯¹è±¡\r\n``` java\r\nT methodName(){\r\n    synchronized(object){ \r\n    }\r\n}\r\n```\r\nåŒæ­¥ä»£ç å—åœ¨æ‰§è¡Œæ—¶ï¼Œæ˜¯é”å®š object å¯¹è±¡ã€‚å½“å¤šä¸ªçº¿ç¨‹è°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œé”å®šå¯¹è±¡ä¸å˜çš„æƒ…å†µä¸‹ï¼Œéœ€åŒæ­¥æ‰§è¡Œã€‚\r\n\r\n##### é”å®šå½“å‰å¯¹è±¡\r\n``` java\r\nT methodName(){\r\n    synchronized(this){     \r\n    }\r\n}\r\n```\r\nå½“é”å®šå¯¹è±¡ä¸º this æ—¶ï¼Œç›¸å½“äºè°ƒç”¨`synchronized T methodName(){}`åŒæ­¥æ–¹æ³•ã€‚\r\n\r\n#### é”çš„åº•å±‚å®ç°\r\nJava è™šæ‹Ÿæœºä¸­çš„åŒæ­¥(Synchronization)åŸºäºè¿›å…¥å’Œé€€å‡ºç®¡ç¨‹(Monitor)å¯¹è±¡å®ç°ã€‚åŒæ­¥æ–¹æ³• å¹¶ä¸æ˜¯ç”± monitor enter å’Œ monitor exit æŒ‡ä»¤æ¥å®ç°åŒæ­¥çš„ï¼Œè€Œæ˜¯ç”±æ–¹æ³•è°ƒç”¨æŒ‡ä»¤è¯»å–è¿è¡Œæ—¶å¸¸é‡æ± ä¸­æ–¹æ³•çš„ ACC_SYNCHRONIZED æ ‡å¿—æ¥éšå¼å®ç°çš„ã€‚\r\n\r\n##### å¯¹è±¡å†…å­˜ç®€å›¾\r\n![img](https://alightyoung.gitee.io/static/img/33.webp)\r\n\r\n**å¯¹è±¡å¤´**:å­˜å‚¨å¯¹è±¡çš„ hashCodeã€é”ä¿¡æ¯æˆ–åˆ†ä»£å¹´é¾„æˆ– GC æ ‡å¿—ï¼Œç±»å‹æŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„ç±»\r\n**å…ƒæ•°æ®**:JVM é€šè¿‡è¿™ä¸ªæŒ‡é’ˆç¡®å®šè¯¥å¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ç­‰ä¿¡æ¯ã€‚\r\n**å®ä¾‹å˜é‡**ï¼šå­˜æ”¾ç±»çš„å±æ€§æ•°æ®ä¿¡æ¯ï¼ŒåŒ…æ‹¬çˆ¶ç±»çš„å±æ€§ä¿¡æ¯\r\n**å¡«å……æ•°æ®**ï¼šç”±äºè™šæ‹Ÿæœºè¦æ±‚å¯¹è±¡èµ·å§‹åœ°å€å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´æ•°å€ã€‚å¡«å……æ•°æ®ä¸æ˜¯å¿…é¡»å­˜åœ¨çš„ï¼Œä»…ä»…æ˜¯ä¸ºäº†å­—èŠ‚å¯¹é½\r\n\r\nå½“åœ¨å¯¹è±¡ä¸ŠåŠ é”æ—¶ï¼Œæ•°æ®æ˜¯è®°å½•åœ¨å¯¹è±¡å¤´ä¸­ã€‚å½“æ‰§è¡Œ synchronized åŒæ­¥æ–¹æ³•æˆ–åŒæ­¥ä»£ç å—æ—¶ï¼Œä¼šåœ¨å¯¹è±¡å¤´ä¸­è®°å½•é”æ ‡è®°ï¼Œé”æ ‡è®°æŒ‡å‘çš„æ˜¯ monitor å¯¹è±¡ï¼ˆä¹Ÿç§°ä¸ºç®¡ç¨‹æˆ–ç›‘è§†å™¨é”ï¼‰çš„èµ·å§‹åœ°å€ã€‚æ¯ä¸ªå¯¹è±¡éƒ½å­˜åœ¨ç€ä¸€ä¸ª monitor ä¸ä¹‹å…³è”ï¼Œå¯¹è±¡ä¸å…¶ monitor ä¹‹é—´çš„å…³ç³»æœ‰å­˜åœ¨å¤šç§å®ç°æ–¹å¼ï¼Œå¦‚ monitor å¯ä»¥ä¸å¯¹è±¡ä¸€èµ·åˆ›å»ºé”€æ¯æˆ–å½“çº¿ç¨‹è¯•å›¾è·å–å¯¹è±¡é”æ—¶è‡ªåŠ¨ç”Ÿæˆï¼Œä½†å½“ä¸€ä¸ª monitor è¢«æŸä¸ªçº¿ç¨‹æŒæœ‰åï¼Œå®ƒä¾¿å¤„äºé”å®šçŠ¶æ€ã€‚\r\n\r\nåœ¨ Java è™šæ‹Ÿæœº(HotSpot)ä¸­ï¼Œmonitor æ˜¯ç”± ObjectMonitor å®ç°çš„ã€‚ObjectMonitor ä¸­æœ‰ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œ_WaitSet å’Œ _EntryListï¼Œä»¥åŠ_Owner æ ‡è®°ã€‚å…¶ä¸­_WaitSetæ˜¯ç”¨äºç®¡ç†ç­‰å¾…é˜Ÿåˆ—(wait)çº¿ç¨‹çš„ï¼Œ_EntryList æ˜¯ç”¨äºç®¡ç†é”æ± é˜»å¡çº¿ç¨‹çš„ï¼Œ_Owner æ ‡è®°ç”¨äºè®°å½•å½“å‰æ‰§è¡Œçº¿ç¨‹ã€‚çº¿ç¨‹çŠ¶æ€å›¾å¦‚ä¸‹ï¼š\r\n![img](https://alightyoung.gitee.io/static/img/34.png)\r\n\r\n#### é”çš„ç§ç±»\r\nJava ä¸­é”çš„ç§ç±»å¤§è‡´åˆ†ä¸ºåå‘é”ï¼Œé”çš„è‡ªæ—‹ï¼Œè½»é‡çº§é”ï¼Œé‡é‡çº§é”ã€‚\r\n\r\né”çš„ä½¿ç”¨æ–¹å¼ä¸ºï¼šå…ˆæä¾›åå‘é”ï¼Œå¦‚æœä¸æ»¡è¶³çš„æ—¶å€™ï¼Œå‡çº§ä¸ºè½»é‡çº§é”ï¼Œå†ä¸æ»¡è¶³ï¼Œå‡çº§ä¸ºé‡é‡çº§é”ã€‚*è‡ªæ—‹é”æ˜¯ä¸€ä¸ªè¿‡æ¸¡çš„é”çŠ¶æ€ï¼Œä¸æ˜¯ä¸€ç§å®é™…çš„é”ç±»å‹ã€‚*é”åªèƒ½å‡çº§ï¼Œä¸èƒ½é™çº§ã€‚\r\n\r\n##### é‡é‡çº§é”\r\nå†…ç½®é”åœ¨Javaä¸­è¢«æŠ½è±¡ä¸ºç›‘è§†å™¨é”ï¼ˆmonitorï¼‰ã€‚\r\n\r\nåœ¨JDK 1.6ä¹‹å‰ï¼Œç›‘è§†å™¨é”å¯ä»¥è®¤ä¸ºç›´æ¥å¯¹åº”åº•å±‚æ“ä½œç³»ç»Ÿä¸­çš„äº’æ–¥é‡ï¼ˆmutexï¼‰ã€‚è¿™ç§åŒæ­¥æ–¹å¼çš„æˆæœ¬éå¸¸é«˜ï¼ŒåŒ…æ‹¬ç³»ç»Ÿè°ƒç”¨å¼•èµ·çš„å†…æ ¸æ€ä¸ç”¨æˆ·æ€åˆ‡æ¢ã€çº¿ç¨‹é˜»å¡é€ æˆçš„çº¿ç¨‹åˆ‡æ¢ç­‰ã€‚å› æ­¤ï¼Œåæ¥ç§°è¿™ç§é”ä¸ºâ€œé‡é‡çº§é”â€ã€‚ä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„é”çš„åº•å±‚ã€‚\r\n\r\n##### åå‘é”\r\nåå‘é”æ˜¯ä¸€ç§ç¼–è¯‘è§£é‡Šé”ã€‚\r\n\r\nå¦‚æœä»£ç ä¸­ä¸å¯èƒ½å‡ºç°å¤šçº¿ç¨‹å¹¶å‘äº‰æŠ¢åŒä¸€ä¸ªé”çš„æ—¶å€™ï¼ŒJVM ç¼–è¯‘ä»£ç ï¼Œè§£é‡Šæ‰§è¡Œçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨çš„æ”¾å¼ƒåŒæ­¥ä¿¡æ¯ã€‚æ¶ˆé™¤ synchronized çš„åŒæ­¥ä»£ç ç»“æœã€‚ä½¿ç”¨é”æ ‡è®°çš„å½¢å¼è®°å½•é”çŠ¶æ€ã€‚åœ¨ Monitor ä¸­æœ‰å˜é‡ ACC_SYNCHRONIZEDã€‚å½“å˜é‡å€¼ä½¿ç”¨çš„æ—¶å€™ï¼Œä»£è¡¨åå‘é”é”å®šã€‚å¯ä»¥é¿å…é”çš„äº‰æŠ¢å’Œé”æ± çŠ¶æ€çš„ç»´æŠ¤ã€‚æé«˜æ•ˆç‡ã€‚\r\n\r\n##### è½»é‡çº§é”\r\nè¿‡æ¸¡é”ã€‚\r\n\r\nå½“åå‘é”ä¸æ»¡è¶³ï¼Œä¹Ÿå°±æ˜¯æœ‰å¤šçº¿ç¨‹å¹¶å‘è®¿é—®ï¼Œé”å®šåŒä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå…ˆæå‡ä¸ºè½»é‡çº§é”ã€‚ä¹Ÿæ˜¯ä½¿ç”¨æ ‡è®° ACC_SYNCHRONIZED æ ‡è®°è®°å½•çš„ã€‚ACC_UNSYNCHRONIZED æ ‡è®°è®°å½•æœªè·å–åˆ°é”ä¿¡æ¯çš„çº¿ç¨‹ã€‚å°±æ˜¯åªæœ‰ä¸¤ä¸ªçº¿ç¨‹äº‰æŠ¢é”æ ‡è®°çš„æ—¶å€™ï¼Œä¼˜å…ˆä½¿ç”¨è½»é‡çº§é”ã€‚ä¸¤ä¸ªçº¿ç¨‹ä¹Ÿå¯èƒ½å‡ºç°é‡é‡çº§é”ã€‚\r\n\r\n##### è‡ªæ—‹é”\r\nè‡ªæ—‹é”æ˜¯ä¸€ä¸ªè¿‡æ¸¡é”ï¼Œæ˜¯åå‘é”å’Œè½»é‡çº§é”çš„è¿‡æ¸¡ã€‚\r\n\r\nå½“è·å–é”çš„è¿‡ç¨‹ä¸­ï¼Œæœªè·å–åˆ°ã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼ŒJVM è‡ªåŠ¨æ‰§è¡Œè‹¥å¹²æ¬¡ç©ºå¾ªç¯ï¼Œå†æ¬¡ç”³è¯·é”ï¼Œè€Œä¸æ˜¯è¿›å…¥é˜»å¡çŠ¶æ€çš„æƒ…å†µã€‚ç§°ä¸ºè‡ªæ—‹é”ã€‚è‡ªæ—‹é”æé«˜æ•ˆç‡å°±æ˜¯é¿å…çº¿ç¨‹çŠ¶æ€çš„å˜æ›´ã€‚\r\n\r\n### Volatile å…³é”®å­—\r\nå˜é‡çš„çº¿ç¨‹å¯è§æ€§ã€‚åœ¨ CPU è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œä¼šå°†è®¡ç®—è¿‡ç¨‹éœ€è¦çš„æ•°æ®åŠ è½½åˆ° CPU è®¡ç®—ç¼“å­˜ä¸­ï¼Œå½“ CPU è®¡ç®—ä¸­æ–­æ—¶ï¼Œæœ‰å¯èƒ½åˆ·æ–°ç¼“å­˜ï¼Œé‡æ–°è¯»å–å†…å­˜ä¸­çš„æ•°æ®ã€‚åœ¨çº¿ç¨‹è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŸå˜é‡è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹ï¼Œå¯èƒ½é€ æˆæ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä»è€Œå¯¼è‡´ç»“æœé”™è¯¯ã€‚è€Œ volatileä¿®é¥°çš„å˜é‡æ˜¯çº¿ç¨‹å¯è§çš„ï¼Œå½“ JVM è§£é‡Š volatile ä¿®é¥°çš„å˜é‡æ—¶ï¼Œä¼šé€šçŸ¥ CPUï¼Œåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡ä½¿ç”¨å˜é‡å‚ä¸è®¡ç®—æ—¶ï¼Œéƒ½ä¼šæ£€æŸ¥å†…å­˜ä¸­çš„æ•°æ®æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œè€Œä¸æ˜¯ä¸€ç›´ä½¿ç”¨ CPU ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œå¯ä»¥ä¿è¯è®¡ç®—ç»“æœçš„æ­£ç¡®ã€‚volatile åªæ˜¯é€šçŸ¥åº•å±‚è®¡ç®—æ—¶ï¼ŒCPU æ£€æŸ¥å†…å­˜æ•°æ®ï¼Œè€Œä¸æ˜¯è®©ä¸€ä¸ªå˜é‡åœ¨å¤šä¸ªçº¿ç¨‹ä¸­åŒæ­¥ã€‚\r\n\r\n### wait&notify\r\nåœ¨Objectå¯¹è±¡ä¸­æœ‰ä¸‰ä¸ªæ–¹æ³•wait()ã€notify()ã€notifyAll()ï¼Œå®ƒä»¬çš„ç”¨é€”éƒ½æ˜¯ç”¨æ¥æ§åˆ¶çº¿ç¨‹çš„çŠ¶æ€ã€‚\r\n\r\n#### wait()\r\nè¯¥æ–¹æ³•ç”¨æ¥å°†å½“å‰çº¿ç¨‹ç½®å…¥ä¼‘çœ çŠ¶æ€ï¼Œç›´åˆ°åœ¨å…¶ä»–çº¿ç¨‹è°ƒç”¨æ­¤å¯¹è±¡çš„notify()æ–¹æ³•æˆ–notifyAll()æ–¹æ³•å°†å…¶å”¤é†’ã€‚\r\n\r\nåœ¨è°ƒç”¨wait()ä¹‹å‰ï¼Œçº¿ç¨‹å¿…é¡»è¦è·å¾—è¯¥å¯¹è±¡çš„å¯¹è±¡çº§åˆ«é”ï¼Œå› æ­¤åªèƒ½åœ¨åŒæ­¥æ–¹æ³•æˆ–åŒæ­¥å—ä¸­è°ƒç”¨wait()æ–¹æ³•ã€‚è¿›å…¥wait()æ–¹æ³•åï¼Œå½“å‰çº¿ç¨‹é‡Šæ”¾é”ã€‚åœ¨ä»wait()è¿”å›å‰ï¼Œçº¿ç¨‹ä¸å…¶ä»–çº¿ç¨‹ç«äº‰é‡æ–°è·å¾—é”ã€‚å¦‚æœè°ƒç”¨wait()æ—¶ï¼Œæ²¡æœ‰æŒæœ‰é€‚å½“çš„é”ï¼Œåˆ™æŠ›å‡ºIllegalMonitorStateExceptionï¼Œå®ƒæ˜¯RuntimeExceptionçš„ä¸€ä¸ªå­ç±»ï¼Œå› æ­¤ï¼Œä¸éœ€è¦try-catchç»“æ„ã€‚\r\n\r\n#### notify()\r\nè¯¥æ–¹æ³•å”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„å•ä¸ªçº¿ç¨‹ã€‚å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹éƒ½åœ¨æ­¤å¯¹è±¡ä¸Šç­‰å¾…ï¼Œåˆ™ä¼š**éšæœºé€‰æ‹©**å”¤é†’å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ï¼Œå¯¹å…¶å‘å‡ºé€šçŸ¥notify()ï¼Œå¹¶ä½¿å®ƒç­‰å¾…è·å–è¯¥å¯¹è±¡çš„å¯¹è±¡é”ã€‚æ³¨æ„â€œç­‰å¾…è·å–è¯¥å¯¹è±¡çš„å¯¹è±¡é”â€ï¼Œè¿™æ„å‘³ç€ï¼Œå³ä½¿æ”¶åˆ°äº†é€šçŸ¥ï¼Œwaitçš„çº¿ç¨‹ä¹Ÿä¸ä¼šé©¬ä¸Šè·å–å¯¹è±¡é”ï¼Œå¿…é¡»ç­‰å¾…notify()æ–¹æ³•çš„çº¿ç¨‹é‡Šæ”¾é”æ‰å¯ä»¥ã€‚å’Œwait()ä¸€æ ·ï¼Œnotify()ä¹Ÿè¦åœ¨åŒæ­¥æ–¹æ³•/åŒæ­¥ä»£ç å—ä¸­è°ƒç”¨ã€‚\r\n\r\n#### notifyAll()\r\nnotifyAll()çš„ä½œç”¨æ˜¯å”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„**æ‰€æœ‰çº¿ç¨‹**ã€‚å…¶ç”¨æ³•ä¸notify()åŸºæœ¬ä¸€è‡´ï¼Œåªä¸è¿‡å®ƒä¼šå”¤é†’ä¸€ä¸ªå¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„å…¨éƒ¨çº¿ç¨‹ï¼Œè¢«å”¤é†’çš„çº¿ç¨‹å°†ä»¥å¸¸è§„æ–¹å¼ä¸åœ¨è¯¥å¯¹è±¡ä¸Šä¸»åŠ¨åŒæ­¥çš„å…¶ä»–æ‰€æœ‰çº¿ç¨‹è¿›è¡Œç«äº‰ï¼›\r\n\r\n#### æ€»ç»“\r\nwait()ä½¿çº¿ç¨‹åœæ­¢è¿è¡Œï¼Œnotify()/notifyAll()ä½¿åœæ­¢è¿è¡Œçš„çº¿ç¨‹ç»§ç»­è¿è¡Œã€‚\r\n\r\n### AtomicXxx ç±»å‹ç»„\r\nåŸå­ç±»å‹ã€‚\r\n\r\nåœ¨ concurrent.atomic åŒ…ä¸­å®šä¹‰äº†è‹¥å¹²åŸå­ç±»å‹ï¼Œè¿™äº›ç±»å‹ä¸­çš„æ¯ä¸ªæ–¹æ³•éƒ½æ˜¯ä¿è¯äº†åŸå­æ“ä½œçš„ã€‚å¤šçº¿ç¨‹å¹¶å‘è®¿é—®åŸå­ç±»å‹å¯¹è±¡ä¸­çš„æ–¹æ³•ï¼Œä¸ä¼šå‡ºç°æ•°æ®é”™è¯¯ã€‚åœ¨å¤šçº¿ç¨‹å¼€å‘ä¸­ï¼Œå¦‚æœæŸæ•°æ®éœ€è¦å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œï¼Œä¸”è¦æ±‚è®¡ç®—åŸå­æ€§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨åŸå­ç±»å‹å¯¹è±¡ã€‚\r\n>æ³¨æ„ï¼šåŸå­ç±»å‹ä¸­çš„æ–¹æ³•æ˜¯ä¿è¯äº†åŸå­æ“ä½œï¼Œä½†å¤šä¸ªæ–¹æ³•ä¹‹é—´æ˜¯æ²¡æœ‰åŸå­æ€§çš„ã€‚å¦‚ï¼š\r\nAtomicInteger i = new AtomicInteger(0);\r\nif(i.get() != 5) i.incrementAndGet();\r\nåœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œget æ–¹æ³•å’Œ incrementAndGet æ–¹æ³•éƒ½æ˜¯åŸå­æ“ä½œï¼Œä½†å¤åˆä½¿ç”¨æ—¶ï¼Œæ— æ³•\r\nä¿è¯åŸå­æ€§ï¼Œä»æ—§å¯èƒ½å‡ºç°æ•°æ®é”™è¯¯ã€‚\r\n\r\n### CountDownLatch\r\nCountDownLatchæ˜¯ concurrent åŒ…ä¸­å®šä¹‰çš„ä¸€ä¸ªç±»å‹ï¼Œæ˜¯ç”¨äºå¤šçº¿ç¨‹é€šè®¯çš„ä¸€ä¸ªè¾…åŠ©ç±»å‹ã€‚\r\n\r\nCountDownLatchç›¸å½“äºåœ¨ä¸€ä¸ªé—¨ä¸ŠåŠ å¤šä¸ªé”ï¼Œå½“çº¿ç¨‹è°ƒç”¨ await æ–¹æ³•æ—¶ï¼Œä¼šæ£€æŸ¥CountDownLatchæ•°é‡ï¼Œå¦‚æœCountDownLatchæ•°é‡å¤§äº 0ï¼Œçº¿ç¨‹ä¼šé˜»å¡ç­‰å¾…ã€‚å½“çº¿ç¨‹è°ƒç”¨ countDown æ—¶ï¼Œä¼šé€’å‡CountDownLatchçš„æ•°é‡ï¼Œå½“CountDownLatchæ•°é‡ä¸º 0 æ—¶ï¼Œawait é˜»å¡çº¿ç¨‹å¯æ‰§è¡Œã€‚\r\n\r\n### é”çš„é‡å…¥\r\nåœ¨ Java ä¸­ï¼ŒåŒæ­¥é”æ˜¯å¯ä»¥é‡å…¥çš„ã€‚åªæœ‰åŒä¸€çº¿ç¨‹è°ƒç”¨åŒæ­¥æ–¹æ³•æˆ–æ‰§è¡ŒåŒæ­¥ä»£ç å—ï¼Œå¯¹åŒä¸€ä¸ªå¯¹è±¡åŠ é”æ—¶æ‰å¯é‡å…¥ã€‚\r\n\r\nå½“çº¿ç¨‹æŒæœ‰é”æ—¶ï¼Œä¼šåœ¨ monitor çš„è®¡æ•°å™¨ä¸­æ‰§è¡Œé€’å¢è®¡ç®—ï¼Œè‹¥å½“å‰çº¿ç¨‹è°ƒç”¨å…¶ä»–åŒæ­¥ä»£ç ï¼Œä¸”åŒæ­¥ä»£ç çš„é”å¯¹è±¡ç›¸åŒæ—¶ï¼Œmonitor ä¸­çš„è®¡æ•°å™¨ç»§ç»­é€’å¢ã€‚æ¯ä¸ªåŒæ­¥ä»£ç æ‰§è¡Œç»“æŸï¼Œmonitor ä¸­çš„è®¡æ•°å™¨éƒ½ä¼šé€’å‡ï¼Œç›´è‡³æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œç»“æŸï¼Œmonitor ä¸­çš„è®¡æ•°å™¨ä¸º 0 æ—¶ï¼Œé‡Šæ”¾é”æ ‡è®°ï¼Œ_Owner æ ‡è®°èµ‹å€¼ä¸º nullã€‚\r\n\r\n### ReentrantLock\r\né‡å…¥é”ï¼Œå»ºè®®åº”ç”¨çš„åŒæ­¥æ–¹å¼ã€‚ç›¸å¯¹æ•ˆç‡æ¯” synchronized é«˜ã€‚é‡çº§è¾ƒè½»ã€‚\r\n\r\nsynchronized åœ¨ JDK1.5 ç‰ˆæœ¬å¼€å§‹ï¼Œå°è¯•ä¼˜åŒ–ã€‚åˆ° JDK1.7 ç‰ˆæœ¬åï¼Œä¼˜åŒ–æ•ˆç‡å·²ç»éå¸¸å¥½äº†ã€‚åœ¨ç»å¯¹æ•ˆç‡ä¸Šï¼Œå·²ç»å’ŒreentrantLockå·®ä¸å¤šäº†ã€‚ä½†ReentrantLockç›¸æ¯”synchronizedè€Œè¨€åŠŸèƒ½æ›´åŠ ä¸°å¯Œï¼Œä½¿ç”¨èµ·æ¥æ›´ä¸ºçµæ´»ï¼Œä¹Ÿæ›´é€‚åˆå¤æ‚çš„å¹¶å‘åœºæ™¯ã€‚\r\n\r\nä½¿ç”¨é‡å…¥é”ï¼Œå¿…é¡»å¿…é¡»å¿…é¡»æ‰‹å·¥é‡Šæ”¾é”æ ‡è®°ã€‚ä¸€èˆ¬éƒ½æ˜¯åœ¨ finally ä»£ç å—ä¸­å®šä¹‰é‡Šæ”¾é”æ ‡è®°çš„ unlock æ–¹æ³•ã€‚\r\n\r\n### å…¬å¹³/éå…¬å¹³é” & ä¹è§‚/éä¹è§‚é”\r\n#### å…¬å¹³é”/éå…¬å¹³é”ï¼ˆå¤šçº¿ç¨‹æ‰§è¡Œé¡ºåºçš„ç»´åº¦ï¼‰\r\n\r\n**æ¦‚å¿µç†è§£**\r\n\r\n- å…¬å¹³é”ï¼šåŠ é”å‰å…ˆæŸ¥çœ‹æ˜¯å¦æœ‰æ’é˜Ÿç­‰å¾…çš„çº¿ç¨‹ï¼Œæœ‰çš„è¯ä¼˜å…ˆå¤„ç†æ’åœ¨å‰é¢çš„çº¿ç¨‹ï¼Œå…ˆæ¥å…ˆå¾—ã€‚\r\n- éå…¬å¹³æ‰€ï¼šçº¿ç¨‹åŠ é”æ—¶ç›´æ¥å°è¯•è·å–é”ï¼Œè·å–ä¸åˆ°å°±è‡ªåŠ¨åˆ°é˜Ÿå°¾ç­‰å¾…ã€‚\r\n\r\n**ä¾‹å­ï¼š**\r\n- ReentrantLock åŒæ—¶æ”¯æŒä¸¤ç§é”\r\n``` java\r\n//åˆ›å»ºä¸€ä¸ªéå…¬å¹³é”ï¼Œé»˜è®¤æ˜¯éå…¬å¹³é”\r\n\r\nLock nonFairLock= new ReentrantLock();\r\n\r\nLock nonFairLock= new ReentrantLock(false);\r\n\r\n//åˆ›å»ºä¸€ä¸ªå…¬å¹³é”ï¼Œæ„é€ ä¼ å‚true\r\n\r\nLock fairLock= new ReentrantLock(true);\r\n```\r\n\r\n**é€‚ç”¨åœºæ™¯ï¼š**\r\n\r\næ›´å¤šçš„æ˜¯ç›´æ¥ä½¿ç”¨éå…¬å¹³é”ï¼šéå…¬å¹³é”æ¯”å…¬å¹³é”æ€§èƒ½é«˜5-10å€ï¼Œå› ä¸ºå…¬å¹³é”éœ€è¦åœ¨å¤šæ ¸æƒ…å†µä¸‹ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¦‚æœå½“å‰çº¿ç¨‹ä¸æ˜¯é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªæ— æ³•è·å–é”ï¼Œå¢åŠ äº†çº¿ç¨‹åˆ‡æ¢æ¬¡æ•°ã€‚\r\n\r\n#### ä¹è§‚é”/æ‚²è§‚é”ï¼ˆå¤šçº¿ç¨‹æ“ä½œå…±äº«æ•°æ®çš„ç»´åº¦ï¼‰\r\n\r\n**æ¦‚å¿µç†è§£**\r\n\r\n- æ‚²è§‚é”ï¼šå‡è®¾ä¸€å®šä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œé€šè¿‡é˜»å¡å…¶ä»–æ‰€æœ‰çº¿ç¨‹æ¥ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚\r\n- ä¹è§‚é”ï¼šå‡è®¾ä¸ä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œç›´æ¥ä¸åŠ é”å»å®ŒæˆæŸé¡¹æ›´æ–°ï¼Œå¦‚æœå†²çªå°±è¿”å›å¤±è´¥ã€‚\r\n\r\n**ä¾‹å­**\r\n\r\n- æ‚²è§‚é”ï¼šSynchronizedå¤šçº¿ç¨‹åŒæ­¥ï¼Œå…·æœ‰æ’ä»–æ€§ï¼Œä¹Ÿä¼šå®¹æ˜“äº§ç”Ÿæ­»é”ã€‚\r\n- ä¹è§‚é”ï¼šCASæœºåˆ¶ï¼Œç®€å•æ¥è¯´ä¼šæœ‰ä¸‰ä¸ªæ“ä½œæ•°ï¼Œå½“å‰å†…å­˜å˜é‡å€¼Vï¼Œå˜é‡é¢„æœŸå€¼Aï¼Œå³å°†æ›´æ–°å€¼Bï¼Œå½“éœ€è¦æ›´æ–°å˜é‡çš„æ—¶å€™ï¼Œä¼šç›´æ¥å°†å˜é‡å€¼Vå’Œé¢„æœŸå€¼Aè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒï¼Œåˆ™ç›´æ¥æ›´æ–°ä¸ºBï¼›å¦‚æœä¸ç›¸åŒï¼Œåˆ™å½“å‰å˜é‡å€¼Våˆ·æ–°åˆ°é¢„æœŸå€¼ä¸­ï¼Œç„¶åé‡æ–°å°è¯•æ¯”è¾ƒæ›´æ–°ã€‚\r\n\r\n**é€‚ç”¨åœºæ™¯**\r\n\r\n- ä¹è§‚é”ï¼šé€‚ç”¨äºæ•°æ®äº‰ç”¨ä¸ä¸¥é‡/é‡è¯•ä»£ä»·ä¸å¤§/éœ€è¦ç›¸åº”é€Ÿåº¦å¿«çš„åœºæ™¯ã€‚\r\n- æ‚²è§‚é”ï¼šé€‚ç”¨äºæ•°æ®äº‰ç”¨ä¸¥é‡/é‡è¯•ä»£ä»·å¤§çš„åœºæ™¯ã€‚\r\n\r\n### ThreadLocal\r\næ—©åœ¨JDK 1.2çš„ç‰ˆæœ¬ä¸­å°±æä¾›java.lang.ThreadLocalï¼ŒThreadLocalä¸ºè§£å†³å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘é—®é¢˜æä¾›äº†ä¸€ç§æ–°çš„æ€è·¯ã€‚ä½¿ç”¨è¿™ä¸ªå·¥å…·ç±»å¯ä»¥å¾ˆç®€æ´åœ°ç¼–å†™å‡ºä¼˜ç¾çš„å¤šçº¿ç¨‹ç¨‹åºã€‚\r\n\r\nå½“ä½¿ç”¨ThreadLocalç»´æŠ¤å˜é‡æ—¶ï¼ŒThreadLocalä¸ºæ¯ä¸ªä½¿ç”¨è¯¥å˜é‡çš„çº¿ç¨‹æä¾›ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“å…¶å®ƒçº¿ç¨‹æ‰€å¯¹åº”çš„å‰¯æœ¬ã€‚\r\n\r\nä»çº¿ç¨‹çš„è§’åº¦çœ‹ï¼Œç›®æ ‡å˜é‡å°±è±¡æ˜¯çº¿ç¨‹çš„æœ¬åœ°å˜é‡ï¼Œè¿™ä¹Ÿæ˜¯ç±»åä¸­â€œLocalâ€æ‰€è¦è¡¨è¾¾çš„æ„æ€ã€‚\r\n\r\næ‰€ä»¥ï¼Œåœ¨Javaä¸­ç¼–å†™çº¿ç¨‹å±€éƒ¨å˜é‡çš„ä»£ç ç›¸å¯¹æ¥è¯´è¦ç¬¨æ‹™ä¸€äº›ï¼Œå› æ­¤é€ æˆçº¿ç¨‹å±€éƒ¨å˜é‡æ²¡æœ‰åœ¨Javaå¼€å‘è€…ä¸­å¾—åˆ°å¾ˆå¥½çš„æ™®åŠã€‚\r\n\r\n#### ThreadåŒæ­¥æœºåˆ¶çš„æ¯”è¾ƒ\r\nåœ¨åŒæ­¥æœºåˆ¶ä¸­ï¼Œé€šè¿‡å¯¹è±¡çš„é”æœºåˆ¶ä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®å˜é‡ã€‚è¿™æ—¶è¯¥å˜é‡æ˜¯å¤šä¸ªçº¿ç¨‹å…±äº«çš„ï¼Œä½¿ç”¨åŒæ­¥æœºåˆ¶è¦æ±‚ç¨‹åºæ…å¯†åœ°åˆ†æä»€ä¹ˆæ—¶å€™å¯¹å˜é‡è¿›è¡Œè¯»å†™ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦é”å®šæŸä¸ªå¯¹è±¡ï¼Œä»€ä¹ˆæ—¶å€™é‡Šæ”¾å¯¹è±¡é”ç­‰ç¹æ‚çš„é—®é¢˜ï¼Œç¨‹åºè®¾è®¡å’Œç¼–å†™éš¾åº¦ç›¸å¯¹è¾ƒå¤§ã€‚\r\n\r\nè€ŒThreadLocalåˆ™ä»å¦ä¸€ä¸ªè§’åº¦æ¥è§£å†³å¤šçº¿ç¨‹çš„å¹¶å‘è®¿é—®ã€‚ThreadLocalä¼šä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹æä¾›ä¸€ä¸ªç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œä»è€Œéš”ç¦»äº†å¤šä¸ªçº¿ç¨‹å¯¹æ•°æ®çš„è®¿é—®å†²çªã€‚å› ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±çš„å˜é‡å‰¯æœ¬ï¼Œä»è€Œä¹Ÿå°±æ²¡æœ‰å¿…è¦å¯¹è¯¥å˜é‡è¿›è¡ŒåŒæ­¥äº†ã€‚ThreadLocalæä¾›äº†çº¿ç¨‹å®‰å…¨çš„å…±äº«å¯¹è±¡ï¼Œåœ¨ç¼–å†™å¤šçº¿ç¨‹ä»£ç æ—¶ï¼Œå¯ä»¥æŠŠä¸å®‰å…¨çš„å˜é‡å°è£…è¿›ThreadLocalã€‚\r\n\r\næ¦‚æ‹¬èµ·æ¥è¯´ï¼Œå¯¹äºå¤šçº¿ç¨‹èµ„æºå…±äº«çš„é—®é¢˜ï¼ŒåŒæ­¥æœºåˆ¶é‡‡ç”¨äº†â€œä»¥æ—¶é—´æ¢ç©ºé—´â€çš„æ–¹å¼ï¼Œè€ŒThreadLocalé‡‡ç”¨äº†â€œä»¥ç©ºé—´æ¢æ—¶é—´â€çš„æ–¹å¼ã€‚å‰è€…ä»…æä¾›ä¸€ä»½å˜é‡ï¼Œè®©ä¸åŒçš„çº¿ç¨‹æ’é˜Ÿè®¿é—®ï¼Œè€Œåè€…ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æä¾›äº†ä¸€ä»½å˜é‡ï¼Œå› æ­¤å¯ä»¥åŒæ—¶è®¿é—®è€Œäº’ä¸å½±å“ã€‚\r\n\r\n\r\n\r\n\r\n\r\n","post/2019/20191028/":"\r\n### å‰è¨€\r\nJavaä¸ºäº†è§£å†³å¹¶å‘æƒ…å†µä¸‹çš„å®¹å™¨çº¿ç¨‹å®‰å…¨é—®é¢˜çš„,ç»™å¤šçº¿ç¨‹ç¯å¢ƒå‡†å¤‡ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å®¹å™¨å¯¹è±¡ã€‚çº¿ç¨‹å®‰å…¨çš„å®¹å™¨å¯¹è±¡ï¼š Vector, Hashtableã€‚çº¿ç¨‹å®‰å…¨å®¹å™¨å¯¹è±¡ï¼Œéƒ½æ˜¯ä½¿ç”¨ synchronizedæ–¹æ³•å®ç°çš„ã€‚è€Œconcurrent åŒ…ä¸­çš„åŒæ­¥å®¹å™¨ï¼Œå¤§å¤šæ•°æ˜¯ä½¿ç”¨ç³»ç»Ÿåº•å±‚æŠ€æœ¯å®ç°çš„çº¿ç¨‹å®‰å…¨ã€‚ç±»ä¼¼ nativeã€‚Java8 ä¸­ä½¿ç”¨ CASã€‚\r\n\r\nä»¥ä¸‹æ˜¯ä¸€äº›è¾ƒä¸ºå¸¸è§çš„å¹¶å‘å®¹å™¨\r\n\r\n### Map/Set\r\n\r\n#### ConcurrentHashMap/ConcurrentHashSet\r\nåº•å±‚å“ˆå¸Œå®ç°çš„åŒæ­¥ Map(Set)ã€‚æ•ˆç‡é«˜ï¼Œçº¿ç¨‹å®‰å…¨ã€‚ä½¿ç”¨ç³»ç»Ÿåº•å±‚æŠ€æœ¯å®ç°çº¿ç¨‹å®‰å…¨ã€‚é‡çº§è¾ƒ synchronized ä½ã€‚key å’Œ value ä¸èƒ½ä¸º nullã€‚\r\n\r\n#### ConcurrentSkipListMap/ConcurrentSkipListSet\r\nåº•å±‚è·³è¡¨ï¼ˆSkipListï¼‰å®ç°çš„åŒæ­¥ Map(Set)ã€‚æœ‰åºï¼Œæ•ˆç‡æ¯” ConcurrentHashMap ç¨ä½ã€‚\r\n> [SkipList](https://baike.baidu.com/item/%E8%B7%B3%E8%A1%A8/22819833?fr=aladdin)\r\n\r\n### List\r\n\r\n#### CopyOnWriteArrayList\r\nå†™æ—¶å¤åˆ¶é›†åˆã€‚å†™å…¥æ•ˆç‡ä½ï¼Œè¯»å–æ•ˆç‡é«˜ã€‚æ¯æ¬¡å†™å…¥æ•°æ®ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„åº•å±‚æ•°ç»„ã€‚\r\n\r\n### Queue\r\n\r\n#### ConcurrentLinkedQueue \r\nåŸºç¡€é“¾è¡¨åŒæ­¥é˜Ÿåˆ—ã€‚\r\n\r\n#### LinkedBlockingQueue\r\né˜»å¡é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—å®¹é‡ä¸è¶³è‡ªåŠ¨é˜»å¡ï¼Œé˜Ÿåˆ—å®¹é‡ä¸º 0 è‡ªåŠ¨é˜»å¡ã€‚\r\n\r\n#### ArrayBlockingQueue\r\nåº•å±‚æ•°ç»„å®ç°çš„æœ‰ç•Œé˜Ÿåˆ—ã€‚è‡ªåŠ¨é˜»å¡ã€‚æ ¹æ®è°ƒç”¨ APIï¼ˆadd/put/offerï¼‰ä¸åŒï¼Œæœ‰ä¸åŒç‰¹æ€§ã€‚å½“å®¹é‡ä¸è¶³çš„æ—¶å€™ï¼Œæœ‰é˜»å¡èƒ½åŠ›ã€‚\r\n\r\nadd æ–¹æ³•åœ¨å®¹é‡ä¸è¶³çš„æ—¶å€™ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚\r\n\r\nput æ–¹æ³•åœ¨å®¹é‡ä¸è¶³çš„æ—¶å€™ï¼Œé˜»å¡ç­‰å¾…ã€‚\r\n\r\noffer æ–¹æ³•ï¼Œå•å‚æ•° offer æ–¹æ³•ï¼Œä¸é˜»å¡ã€‚å®¹é‡ä¸è¶³çš„æ—¶å€™ï¼Œè¿”å› falseã€‚å½“å‰æ–°å¢æ•°æ®æ“ä½œæ”¾å¼ƒã€‚ä¸‰å‚æ•° offer æ–¹æ³•ï¼ˆoffer(value,times,timeunit)ï¼‰ï¼Œå®¹é‡ä¸è¶³çš„æ—¶å€™ï¼Œé˜»å¡ times æ—¶é•¿ï¼ˆå•ä½ä¸º timeunitï¼‰ï¼Œå¦‚æœåœ¨é˜»å¡æ—¶é•¿å†…ï¼Œæœ‰å®¹é‡ç©ºé—²ï¼Œæ–°å¢æ•°æ®è¿”å› trueã€‚å¦‚æœé˜»å¡æ—¶é•¿èŒƒå›´å†…ï¼Œæ— å®¹é‡ç©ºé—²ï¼Œæ”¾å¼ƒæ–°å¢æ•°æ®ï¼Œè¿”å› falseã€‚\r\n\r\n#### DelayQueue\r\nå»¶æ—¶é˜Ÿåˆ—ã€‚æ ¹æ®æ¯”è¾ƒæœºåˆ¶ï¼Œå®ç°è‡ªå®šä¹‰å¤„ç†é¡ºåºçš„é˜Ÿåˆ—ã€‚å¸¸ç”¨äºå®šæ—¶ä»»åŠ¡ã€‚å¦‚ï¼šå®šæ—¶å…³æœºã€‚\r\n\r\n#### LinkedTransferQueue\r\nè½¬ç§»é˜Ÿåˆ—ï¼Œä½¿ç”¨ transfer æ–¹æ³•ï¼Œå®ç°æ•°æ®çš„å³æ—¶å¤„ç†ã€‚æ²¡æœ‰æ¶ˆè´¹è€…ï¼Œå°±é˜»å¡ã€‚\r\n\r\n#### SynchronusQueue\r\nåŒæ­¥é˜Ÿåˆ—ï¼Œæ˜¯ä¸€ä¸ªå®¹é‡ä¸º 0 çš„é˜Ÿåˆ—ã€‚æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ TransferQueueã€‚å¿…é¡»ç°æœ‰æ¶ˆè´¹çº¿ç¨‹ç­‰å¾…ï¼Œæ‰èƒ½ä½¿ç”¨çš„é˜Ÿåˆ—ã€‚\r\nadd æ–¹æ³•ï¼Œæ— é˜»å¡ã€‚è‹¥æ²¡æœ‰æ¶ˆè´¹çº¿ç¨‹é˜»å¡ç­‰å¾…æ•°æ®ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚\r\nput æ–¹æ³•ï¼Œæœ‰é˜»å¡ã€‚è‹¥æ²¡æœ‰æ¶ˆè´¹çº¿ç¨‹é˜»å¡ç­‰å¾…æ•°æ®ï¼Œåˆ™é˜»å¡ã€‚\r\n\r\n### æœ€å\r\nè¿™é‡Œåªæ˜¯ç®€å•çš„è®°å½•ä¸€ä¸‹å¹¶å‘å®¹å™¨ï¼Œä»¥åäº†è§£äº†å†å¡«å‘ã€‚ã€‚ã€‚\r\n","post/2019/20191103/":"\n\u003CBadge text=\"ä¸­ç­‰\" type=\"warning\"/> åŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/add-two-numbers](https://leetcode-cn.com/problems/add-two-numbers)\n\n## é¢˜ç›®æè¿°\n\nç»™ä½ ä¸¤ä¸ªéç©ºçš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§é€†åºçš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ä¸€ä½æ•°å­—ã€‚\n\nè¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚\n\nä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\n![addtwonumber1.jpg](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2021/01/02/addtwonumber1.jpg)\n\nè¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]\n\nè¾“å‡ºï¼š[7,0,8]\n\nè§£é‡Šï¼š342 + 465 = 807.\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼šl1 = [0], l2 = [0]\n\nè¾“å‡ºï¼š[0]\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥ï¼šl1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]\n\nè¾“å‡ºï¼š[8,9,9,9,0,0,0,1]\n:::\n\n:::details{text=\"æç¤º\"}\næ¯ä¸ªé“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´ [1, 100] å†…\n\n$0 \u003C= Node.val \u003C= 9$\n\né¢˜ç›®æ•°æ®ä¿è¯åˆ—è¡¨è¡¨ç¤ºçš„æ•°å­—ä¸å«å‰å¯¼é›¶\n:::\n\n\n\n\n## Java é¢˜è§£\n\n### æ–¹æ³•ä¸€ï¼šåˆç­‰æ•°å­¦\n\n**æ€è·¯**\næˆ‘ä»¬ä½¿ç”¨å˜é‡æ¥è·Ÿè¸ªè¿›ä½ï¼Œå¹¶ä»åŒ…å«æœ€ä½æœ‰æ•ˆä½çš„è¡¨å¤´å¼€å§‹æ¨¡æ‹Ÿé€ä½ç›¸åŠ çš„è¿‡ç¨‹ã€‚\n\n![å›¾1ï¼Œå¯¹ä¸¤æ•°ç›¸åŠ æ–¹æ³•çš„å¯è§†åŒ–: 342 + 465 = 807ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½åŒ…å«ä¸€ä¸ªæ•°å­—ï¼Œå¹¶ä¸”æ•°å­—æŒ‰ä½é€†åºå­˜å‚¨ã€‚](https://alightyoung.gitee.io/static/img/5.png)\n\nå›¾ 1ï¼Œå¯¹ä¸¤æ•°ç›¸åŠ æ–¹æ³•çš„å¯è§†åŒ–: 342 + 465 = 807ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½åŒ…å«ä¸€ä¸ªæ•°å­—ï¼Œå¹¶ä¸”æ•°å­—æŒ‰ä½é€†åºå­˜å‚¨ã€‚\n\n**ç®—æ³•**\n\nå°±åƒä½ åœ¨çº¸ä¸Šè®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œé‚£æ ·ï¼Œæˆ‘ä»¬é¦–å…ˆä»æœ€ä½æœ‰æ•ˆä½ä¹Ÿå°±æ˜¯åˆ—è¡¨ l1 å’Œ l2 çš„è¡¨å¤´å¼€å§‹ç›¸åŠ ã€‚ç”±äºæ¯ä½æ•°å­—éƒ½åº”å½“å¤„äº $0 \\ldots 9$ çš„èŒƒå›´å†…ï¼Œæˆ‘ä»¬è®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œæ—¶å¯èƒ½ä¼šå‡ºç° â€œæº¢å‡ºâ€ã€‚ä¾‹å¦‚ï¼Œ5 + 7 = 12ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå°†å½“å‰ä½çš„æ•°å€¼è®¾ç½®ä¸º 22ï¼Œå¹¶å°†è¿›ä½ carry = 1 å¸¦å…¥ä¸‹ä¸€æ¬¡è¿­ä»£ã€‚è¿›ä½ carry å¿…å®šæ˜¯ 0 æˆ– 1ï¼Œè¿™æ˜¯å› ä¸ºä¸¤ä¸ªæ•°å­—ç›¸åŠ ï¼ˆè€ƒè™‘åˆ°è¿›ä½ï¼‰å¯èƒ½å‡ºç°çš„æœ€å¤§å’Œä¸º 9 + 9 + 1 = 19ã€‚\n\nä¼ªä»£ç å¦‚ä¸‹ï¼š\n\n-   å°†å½“å‰ç»“ç‚¹åˆå§‹åŒ–ä¸ºè¿”å›åˆ—è¡¨çš„å“‘ç»“ç‚¹ã€‚\n-   å°†è¿›ä½ carry åˆå§‹åŒ–ä¸º 0ã€‚\n-   å°† p å’Œ q åˆ†åˆ«åˆå§‹åŒ–ä¸ºåˆ—è¡¨ l1 å’Œ l2 çš„å¤´éƒ¨ã€‚\n-   éå†åˆ—è¡¨ l1 å’Œ l2 ç›´è‡³åˆ°è¾¾å®ƒä»¬çš„å°¾ç«¯ã€‚\n\n    -   å°† x è®¾ä¸ºç»“ç‚¹ p çš„å€¼ã€‚å¦‚æœ p å·²ç»åˆ°è¾¾ l1 çš„æœ«å°¾ï¼Œåˆ™å°†å…¶å€¼è®¾ç½®ä¸º 0ã€‚\n    -   å°† y è®¾ä¸ºç»“ç‚¹ q çš„å€¼ã€‚å¦‚æœ q å·²ç»åˆ°è¾¾ l2 çš„æœ«å°¾ï¼Œåˆ™å°†å…¶å€¼è®¾ç½®ä¸º 0ã€‚\n    -   è®¾å®š sum = x + y + carryã€‚\n    -   æ›´æ–°è¿›ä½çš„å€¼ï¼Œcarry = sum / 10ã€‚\n    -   åˆ›å»ºä¸€ä¸ªæ•°å€¼ä¸º $(sum \\bmod 10)$ çš„æ–°ç»“ç‚¹ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºå½“å‰ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œç„¶åå°†å½“å‰ç»“ç‚¹å‰è¿›åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚\n    -   åŒæ—¶ï¼Œå°† p å’Œ q å‰è¿›åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚\n\n-   æ£€æŸ¥ carry = 1 æ˜¯å¦æˆç«‹ï¼Œå¦‚æœæˆç«‹ï¼Œåˆ™å‘è¿”å›åˆ—è¡¨è¿½åŠ ä¸€ä¸ªå«æœ‰æ•°å­— 1 çš„æ–°ç»“ç‚¹ã€‚\n-   è¿”å›å“‘ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ã€‚\n\nè¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä½¿ç”¨å“‘ç»“ç‚¹æ¥ç®€åŒ–ä»£ç ã€‚å¦‚æœæ²¡æœ‰å“‘ç»“ç‚¹ï¼Œåˆ™å¿…é¡»ç¼–å†™é¢å¤–çš„æ¡ä»¶è¯­å¥æ¥åˆå§‹åŒ–è¡¨å¤´çš„å€¼ã€‚\n\nè¯·ç‰¹åˆ«æ³¨æ„ä»¥ä¸‹æƒ…å†µï¼š\n\n| æµ‹è¯•ç”¨ä¾‹                       | è¯´æ˜                                               |\n| :----------------------------- | :------------------------------------------------- |\n| l1=[0,1], l2=[0,1,2], l2=[0,1,2] | å½“ä¸€ä¸ªåˆ—è¡¨æ¯”å¦ä¸€ä¸ªåˆ—è¡¨é•¿æ—¶                         |\n| l1=[], l2=[0,1], l2=[0,1]        | å½“ä¸€ä¸ªåˆ—è¡¨ä¸ºç©ºæ—¶ï¼Œå³å‡ºç°ç©ºåˆ—è¡¨                     |\n| l1=[9,9], l2=[1], l2=[1]         | æ±‚å’Œè¿ç®—æœ€åå¯èƒ½å‡ºç°é¢å¤–çš„è¿›ä½ï¼Œè¿™ä¸€ç‚¹å¾ˆå®¹æ˜“è¢«é—å¿˜ |\n\n```java\npublic ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n    ListNode dummyHead = new ListNode(0);\n    ListNode p = l1, q = l2, curr = dummyHead;\n    int carry = 0;\n    while (p != null || q != null) {\n        int x = (p != null) ? p.val : 0;\n        int y = (q != null) ? q.val : 0;\n        int sum = carry + x + y;\n        carry = sum / 10;\n        curr.next = new ListNode(sum % 10);\n        curr = curr.next;\n        if (p != null) p = p.next;\n        if (q != null) q = q.next;\n    }\n    if (carry > 0) {\n        curr.next = new ListNode(carry);\n    }\n    return dummyHead.next;\n}\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n-   æ—¶é—´å¤æ‚åº¦ï¼šO(max(m, n))ï¼Œå‡è®¾ m å’Œ n åˆ†åˆ«è¡¨ç¤º l1 å’Œ l2 çš„é•¿åº¦ï¼Œä¸Šé¢çš„ç®—æ³•æœ€å¤šé‡å¤ max(m, n) æ¬¡ã€‚\n\n-   ç©ºé—´å¤æ‚åº¦ï¼šO(max(m, n))ï¼Œ æ–°åˆ—è¡¨çš„é•¿åº¦æœ€å¤šä¸º max(m,n) + 1ã€‚\n\n**æ‹“å±•**\n\nå¦‚æœé“¾è¡¨ä¸­çš„æ•°å­—ä¸æ˜¯æŒ‰é€†åºå­˜å‚¨çš„å‘¢ï¼Ÿä¾‹å¦‚ï¼š\n\n$$\n(3â†’4â†’2)+(4â†’6â†’5)=8â†’0â†’7\n$$\n\n## æ€»ç»“\n\næ‹“å±•å¯ä»¥åˆ©ç”¨æ ˆ/é€’å½’ï¼ˆåæ­£æˆ‘ä¸ä¼š qaqï¼Œç¤¾åŒºè¯„è®ºçœ‹çš„ï¼‰ã€‚\n","post/2019/20191106/":"\n### Executor\nçº¿ç¨‹æ± é¡¶çº§æ¥å£ã€‚å®šä¹‰æ–¹æ³•ï¼Œvoid execute(Runnable)ã€‚æ–¹æ³•æ˜¯ç”¨äºå¤„ç†ä»»åŠ¡çš„ä¸€ä¸ªæœåŠ¡æ–¹æ³•ã€‚è°ƒç”¨è€…æä¾› Runnable æ¥å£çš„å®ç°ï¼Œçº¿ç¨‹æ± é€šè¿‡çº¿ç¨‹æ‰§è¡Œè¿™ä¸ª Runnableã€‚æœåŠ¡æ–¹æ³•æ— è¿”å›å€¼çš„ã€‚æ˜¯ Runnable æ¥å£ä¸­çš„ run æ–¹æ³•æ— è¿”å›å€¼ã€‚å¸¸ç”¨æ–¹æ³• - void execute(Runnable)ä½œç”¨æ˜¯ï¼š å¯åŠ¨çº¿ç¨‹ä»»åŠ¡çš„ã€‚\n\n### ExecutorService\nExecutor æ¥å£çš„å­æ¥å£ã€‚æä¾›äº†ä¸€ä¸ªæ–°çš„æœåŠ¡æ–¹æ³•ï¼Œsubmitã€‚æœ‰è¿”å›å€¼ï¼ˆFuture ç±»å‹ï¼‰ã€‚\n\nsubmit æ–¹æ³•æä¾›äº† overload æ–¹æ³•ã€‚å…¶ä¸­æœ‰å‚æ•°ç±»å‹ä¸º Runnable çš„ï¼Œä¸éœ€è¦æä¾›è¿”å›å€¼çš„ï¼›æœ‰å‚æ•°ç±»å‹ä¸º Callableï¼Œå¯ä»¥æä¾›çº¿ç¨‹æ‰§è¡Œåçš„è¿”å›å€¼ã€‚\n\nFutureï¼Œæ˜¯ submit æ–¹æ³•çš„è¿”å›å€¼ã€‚ä»£è¡¨æœªæ¥ï¼Œä¹Ÿå°±æ˜¯çº¿ç¨‹æ‰§è¡Œç»“æŸåçš„ä¸€ç§ç»“æœã€‚å¦‚è¿”å›å€¼ã€‚\n\nå¸¸è§æ–¹æ³• - void execute(Runnable)ï¼Œ Future submit(Callable)ï¼Œ Future submit(Runnable)\n\nçº¿ç¨‹æ± çŠ¶æ€ï¼š Runningï¼Œ ShuttingDownï¼Œ Termitnaed\n\n- Running - çº¿ç¨‹æ± æ­£åœ¨æ‰§è¡Œä¸­ã€‚æ´»åŠ¨çŠ¶æ€ã€‚\n- ShuttingDown - çº¿ç¨‹æ± æ­£åœ¨å…³é—­è¿‡ç¨‹ä¸­ã€‚ä¼˜é›…å…³é—­ã€‚ä¸€æ—¦è¿›å…¥è¿™ä¸ªçŠ¶æ€ï¼Œçº¿ç¨‹æ± ä¸å†æ¥æ”¶æ–°çš„ä»»åŠ¡ï¼Œå¤„ç†æ‰€æœ‰å·²æ¥æ”¶çš„ä»»åŠ¡ï¼Œå¤„ç†å®Œæ¯•åï¼Œå…³é—­çº¿ç¨‹æ± ã€‚\n- Terminated - çº¿ç¨‹æ± å·²ç»å…³é—­ã€‚\n\n### Future\næœªæ¥ç»“æœï¼Œä»£è¡¨çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œç»“æŸåçš„ç»“æœã€‚è·å–çº¿ç¨‹æ‰§è¡Œç»“æœçš„æ–¹å¼æ˜¯é€šè¿‡ get æ–¹æ³•è·å–çš„ã€‚get æ— å‚ï¼Œé˜»å¡ç­‰å¾…çº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œå¹¶å¾—åˆ°ç»“æœã€‚get æœ‰å‚ï¼Œé˜»å¡å›ºå®šæ—¶é•¿ï¼Œç­‰å¾…çº¿ç¨‹æ‰§è¡Œç»“æŸåçš„ç»“æœï¼Œå¦‚æœåœ¨é˜»å¡æ—¶é•¿èŒƒå›´å†…ï¼Œçº¿ç¨‹æœªæ‰§è¡Œç»“æŸï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚\n\nå¸¸ç”¨æ–¹æ³•ï¼š T get() T get(long, TimeUnit)\n\n### Callable\nå¯æ‰§è¡Œæ¥å£ã€‚ ç±»ä¼¼ Runnable æ¥å£ã€‚ä¹Ÿæ˜¯å¯ä»¥å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹çš„æ¥å£ã€‚å…¶ä¸­å®šä¹‰çš„æ–¹æ³•æ˜¯callã€‚call æ–¹æ³•çš„ä½œç”¨å’Œ Runnable ä¸­çš„ run æ–¹æ³•å®Œå…¨ä¸€è‡´ã€‚call æ–¹æ³•æœ‰è¿”å›å€¼ã€‚\n\næ¥å£æ–¹æ³• ï¼š Object call();ç›¸å½“äº Runnable æ¥å£ä¸­çš„ run æ–¹æ³•ã€‚åŒºåˆ«ä¸ºæ­¤æ–¹æ³•æœ‰è¿”å›å€¼ã€‚ä¸èƒ½æŠ›å‡ºå·²æ£€æŸ¥å¼‚å¸¸ã€‚\n\nå’Œ Runnable æ¥å£çš„é€‰æ‹© - éœ€è¦è¿”å›å€¼æˆ–éœ€è¦æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œä½¿ç”¨ Callableï¼Œå…¶ä»–æƒ…å†µå¯\nä»»æ„é€‰æ‹©ã€‚\n\n### Executors\nå·¥å…·ç±»å‹ã€‚ä¸º Executor çº¿ç¨‹æ± æä¾›å·¥å…·æ–¹æ³•ã€‚å¯ä»¥å¿«é€Ÿçš„æä¾›è‹¥å¹²ç§çº¿ç¨‹æ± ã€‚å¦‚ï¼šå›ºå®šå®¹é‡çš„ï¼Œæ— é™å®¹é‡çš„ï¼Œå®¹é‡ä¸º 1 ç­‰å„ç§çº¿ç¨‹æ± ã€‚\n\nçº¿ç¨‹æ± æ˜¯ä¸€ä¸ªè¿›ç¨‹çº§çš„é‡é‡çº§èµ„æºã€‚é»˜è®¤çš„ç”Ÿå‘½å‘¨æœŸå’Œ JVM ä¸€è‡´ã€‚å½“å¼€å¯çº¿ç¨‹æ± åï¼Œç›´åˆ° JVM å…³é—­ä¸ºæ­¢ï¼Œæ˜¯çº¿ç¨‹æ± çš„é»˜è®¤ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœæ‰‹å·¥è°ƒç”¨ shutdown æ–¹æ³•ï¼Œé‚£ä¹ˆçº¿ç¨‹æ± æ‰§è¡Œæ‰€æœ‰çš„ä»»åŠ¡åï¼Œè‡ªåŠ¨å…³é—­ã€‚\n\nå¼€å§‹ - åˆ›å»ºçº¿ç¨‹æ± ã€‚\nç»“æŸ - JVM å…³é—­æˆ–è°ƒç”¨ shutdown å¹¶å¤„ç†å®Œæ‰€æœ‰çš„ä»»åŠ¡ã€‚\n\nç±»ä¼¼ Arraysï¼ŒCollections ç­‰å·¥å…·ç±»å‹çš„åŠŸç”¨ã€‚\n\n### FixedThreadPool\nå®¹é‡å›ºå®šçš„çº¿ç¨‹æ± ã€‚æ´»åŠ¨çŠ¶æ€å’Œçº¿ç¨‹æ± å®¹é‡æ˜¯æœ‰ä¸Šé™çš„çº¿ç¨‹æ± ã€‚æ‰€æœ‰çš„çº¿ç¨‹æ± ä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ã€‚ä½¿ç”¨çš„æ˜¯ `BlockingQueue\u003CRunnable>` ä½œä¸ºä»»åŠ¡çš„è½½ä½“ã€‚å½“ä»»åŠ¡æ•°é‡å¤§äºçº¿ç¨‹æ± å®¹é‡çš„æ—¶å€™ï¼Œæ²¡æœ‰è¿è¡Œçš„ä»»åŠ¡ä¿å­˜åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå½“çº¿ç¨‹æœ‰ç©ºé—²çš„ï¼Œè‡ªåŠ¨ä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡æ‰§è¡Œã€‚\n\nä½¿ç”¨åœºæ™¯ï¼š å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨çš„çº¿ç¨‹æ± ï¼Œé¦–é€‰æ¨è FixedThreadPoolã€‚OS ç³»ç»Ÿå’Œç¡¬ä»¶æ˜¯æœ‰çº¿ç¨‹æ”¯æŒä¸Šé™ã€‚ä¸èƒ½éšæ„çš„æ— é™åˆ¶æä¾›çº¿ç¨‹æ± ã€‚\n\nçº¿ç¨‹æ± é»˜è®¤çš„å®¹é‡ä¸Šé™æ˜¯ Integer.MAX_VALUEã€‚\n\nå¸¸è§çš„çº¿ç¨‹æ± å®¹é‡ï¼š PC - 200ã€‚ æœåŠ¡å™¨ - 1000~10000\n\nqueued tasks- ä»»åŠ¡é˜Ÿåˆ—\n\ncompleted tasks - ç»“æŸä»»åŠ¡é˜Ÿåˆ—\n\n### CachedThreadPool\nç¼“å­˜çš„çº¿ç¨‹æ± ã€‚å®¹é‡ä¸é™ï¼ˆInteger.MAX_VALUEï¼‰ã€‚è‡ªåŠ¨æ‰©å®¹ã€‚å®¹é‡ç®¡ç†ç­–ç•¥ï¼šå¦‚æœçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡ä¸æ»¡è¶³ä»»åŠ¡æ‰§è¡Œï¼Œåˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚æ¯æ¬¡æœ‰æ–°ä»»åŠ¡æ— æ³•å³æ—¶å¤„ç†çš„æ—¶å€™ï¼Œéƒ½ä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚å½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ç©ºé—²æ—¶é•¿è¾¾åˆ°ä¸€å®šçš„ä¸´ç•Œå€¼ï¼ˆé»˜è®¤ 60 ç§’ï¼‰ï¼Œè‡ªåŠ¨é‡Šæ”¾çº¿ç¨‹ã€‚\n\né»˜è®¤çº¿ç¨‹ç©ºé—² 60 ç§’ï¼Œè‡ªåŠ¨é”€æ¯ã€‚\n\nåº”ç”¨åœºæ™¯ï¼š å†…éƒ¨åº”ç”¨æˆ–æµ‹è¯•åº”ç”¨ã€‚\n\nå†…éƒ¨åº”ç”¨ï¼Œæœ‰æ¡ä»¶çš„å†…éƒ¨æ•°æ®ç¬é—´å¤„ç†æ—¶åº”ç”¨ï¼Œå¦‚ï¼šç”µä¿¡å¹³å°å¤œé—´æ‰§è¡Œæ•°æ®æ•´ç†ï¼ˆæœ‰æŠŠæ¡åœ¨çŸ­æ—¶é—´å†…å¤„ç†å®Œæ‰€æœ‰å·¥ä½œï¼Œä¸”å¯¹ç¡¬ä»¶å’Œè½¯ä»¶æœ‰è¶³å¤Ÿçš„ä¿¡å¿ƒï¼‰ã€‚\n\næµ‹è¯•åº”ç”¨ï¼Œåœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œå°è¯•å¾—åˆ°ç¡¬ä»¶æˆ–è½¯ä»¶çš„æœ€é«˜è´Ÿè½½é‡ï¼Œç”¨äºæä¾›\nFixedThreadPool å®¹é‡çš„æŒ‡å¯¼ã€‚\n\n### ScheduledThreadPool\nè®¡åˆ’ä»»åŠ¡çº¿ç¨‹æ± ã€‚å¯ä»¥æ ¹æ®è®¡åˆ’è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹æ± ã€‚\n\nscheduleAtFixedRate(Runnable, start_limit, limit, timeunit)\n\nrunnable - è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚\nstart_limit - ç¬¬ä¸€æ¬¡ä»»åŠ¡æ‰§è¡Œçš„é—´éš”ã€‚\nlimit - å¤šæ¬¡ä»»åŠ¡æ‰§è¡Œçš„é—´éš”ã€‚\ntimeunit - å¤šæ¬¡ä»»åŠ¡æ‰§è¡Œé—´éš”çš„æ—¶é—´å•ä½ã€‚\n\nä½¿ç”¨åœºæ™¯ï¼š è®¡åˆ’ä»»åŠ¡æ—¶é€‰ç”¨ï¼ˆDelaydQueueï¼‰ï¼Œå¦‚ï¼šç”µä¿¡è¡Œä¸šä¸­çš„æ•°æ®æ•´ç†ï¼Œæ²¡åˆ†é’Ÿæ•´\nç†ï¼Œæ²¡æ¶ˆå¤±æ•´ç†ï¼Œæ¯å¤©æ•´ç†ç­‰ã€‚\n\n### SingleThreadExceutor\nå•ä¸€å®¹é‡çš„çº¿ç¨‹æ± ã€‚\n\nä½¿ç”¨åœºæ™¯ï¼š ä¿è¯ä»»åŠ¡é¡ºåºæ—¶ä½¿ç”¨ã€‚å¦‚ï¼š æ¸¸æˆå¤§å…ä¸­çš„å…¬å…±é¢‘é“èŠå¤©ã€‚\n\n### ForkJoinPool\nåˆ†æ”¯åˆå¹¶çº¿ç¨‹æ± ï¼ˆmapduce ç±»ä¼¼çš„è®¾è®¡æ€æƒ³ï¼‰ã€‚é€‚åˆç”¨äºå¤„ç†å¤æ‚ä»»åŠ¡ã€‚\n\nåˆå§‹åŒ–çº¿ç¨‹å®¹é‡ä¸ CPU æ ¸å¿ƒæ•°ç›¸å…³ã€‚\n\nçº¿ç¨‹æ± ä¸­è¿è¡Œçš„å†…å®¹å¿…é¡»æ˜¯ ForkJoinTask çš„å­ç±»å‹ï¼ˆRecursiveTask,RecursiveActionï¼‰ã€‚\n\nForkJoinPool - åˆ†æ”¯åˆå¹¶çº¿ç¨‹æ± ã€‚ å¯ä»¥é€’å½’å®Œæˆå¤æ‚ä»»åŠ¡ã€‚è¦æ±‚å¯åˆ†æ”¯åˆå¹¶çš„ä»»åŠ¡å¿…é¡»æ˜¯ ForkJoinTask ç±»å‹çš„å­ç±»å‹ã€‚å…¶ä¸­æä¾›äº†åˆ†æ”¯å’Œåˆå¹¶çš„èƒ½åŠ›ã€‚ForkJoinTask ç±»å‹æä¾›äº†ä¸¤ä¸ªæŠ½è±¡å­ç±»å‹ï¼ŒRecursiveTask æœ‰è¿”å›ç»“æœçš„åˆ†æ”¯åˆå¹¶ä»»åŠ¡,RecursiveAction æ— è¿”å›ç»“æœçš„åˆ†æ”¯åˆå¹¶ä»»åŠ¡ã€‚ï¼ˆCallable/Runnableï¼‰compute æ–¹æ³•ï¼šå°±æ˜¯ä»»åŠ¡çš„æ‰§è¡Œé€»è¾‘ã€‚\n\nForkJoinPool æ²¡æœ‰æ‰€è°“çš„å®¹é‡ã€‚é»˜è®¤éƒ½æ˜¯ 1 ä¸ªçº¿ç¨‹ã€‚æ ¹æ®ä»»åŠ¡è‡ªåŠ¨çš„åˆ†æ”¯æ–°çš„å­çº¿ç¨‹ã€‚å½“å­çº¿ç¨‹ä»»åŠ¡ç»“æŸåï¼Œè‡ªåŠ¨åˆå¹¶ã€‚æ‰€è°“è‡ªåŠ¨æ˜¯æ ¹æ® fork å’Œ join ä¸¤ä¸ªæ–¹æ³•å®ç°çš„ã€‚\n\nåº”ç”¨ï¼š ä¸»è¦æ˜¯åšç§‘å­¦è®¡ç®—æˆ–å¤©æ–‡è®¡ç®—çš„ã€‚æ•°æ®åˆ†æçš„ã€‚\n\n### WorkStealingPool\nJDK1.8 æ–°å¢çš„çº¿ç¨‹æ± ã€‚å·¥ä½œçªƒå–çº¿ç¨‹æ± ã€‚å½“çº¿ç¨‹æ± ä¸­æœ‰ç©ºé—²è¿æ¥æ—¶ï¼Œè‡ªåŠ¨åˆ°ç­‰å¾…é˜Ÿåˆ—ä¸­çªƒå–æœªå®Œæˆä»»åŠ¡ï¼Œè‡ªåŠ¨æ‰§è¡Œã€‚\n\nåˆå§‹åŒ–çº¿ç¨‹å®¹é‡ä¸ CPU æ ¸å¿ƒæ•°ç›¸å…³ã€‚æ­¤çº¿ç¨‹æ± ä¸­ç»´æŠ¤çš„æ˜¯ç²¾çµçº¿ç¨‹ã€‚\n\n`ExecutorService.newWorkStealingPool();`\n\n### ThreadPoolExecutor\nçº¿ç¨‹æ± åº•å±‚å®ç°ã€‚é™¤ ForkJoinPool å¤–ï¼Œå…¶ä»–å¸¸ç”¨çº¿ç¨‹æ± åº•å±‚éƒ½æ˜¯ä½¿ç”¨ ThreadPoolExecutorå®ç°çš„ã€‚\n```java\npublic ThreadPoolExecutor(\nint corePoolSize, // æ ¸å¿ƒå®¹é‡ï¼Œåˆ›å»ºçº¿ç¨‹æ± çš„æ—¶å€™ï¼Œé»˜è®¤æœ‰å¤šå°‘çº¿ç¨‹ã€‚ä¹Ÿæ˜¯çº¿ç¨‹æ± ä¿æŒçš„æœ€å°‘çº¿ç¨‹æ•°\nint maximumPoolSize, // æœ€å¤§å®¹é‡ï¼Œçº¿ç¨‹æ± æœ€å¤šæœ‰å¤šå°‘çº¿ç¨‹\nlong keepAliveTime, // ç”Ÿå‘½å‘¨æœŸï¼Œ0 ä¸ºæ°¸ä¹…ã€‚å½“çº¿ç¨‹ç©ºé—²å¤šä¹…åï¼Œè‡ªåŠ¨å›æ”¶ã€‚\nTimeUnit unit, // ç”Ÿå‘½å‘¨æœŸå•ä½ï¼Œä¸ºç”Ÿå‘½å‘¨æœŸæä¾›å•ä½ï¼Œå¦‚ï¼šç§’ï¼Œæ¯«ç§’\nBlockingQueue\u003CRunnable> workQueue // ä»»åŠ¡é˜Ÿåˆ—ï¼Œé˜»å¡é˜Ÿåˆ—ã€‚æ³¨æ„ï¼Œæ³›å‹å¿…é¡»æ˜¯Runnable\n);\n```\nä½¿ç”¨åœºæ™¯ï¼š é»˜è®¤æä¾›çš„çº¿ç¨‹æ± ä¸æ»¡è¶³æ¡ä»¶æ—¶ä½¿ç”¨ã€‚å¦‚ï¼šåˆå§‹çº¿ç¨‹æ•°æ® 4ï¼Œæœ€å¤§çº¿ç¨‹æ•°\n200ï¼Œçº¿ç¨‹ç©ºé—²å‘¨æœŸ 30 ç§’ã€‚\n\n### over\n","post/2019/20191110/":"\n### JVM ç®€å•ç»“æ„å›¾\n\n![img](https://alightyoung.gitee.io/static/img/7.png)\n\n#### ç±»åŠ è½½å­ç³»ç»Ÿä¸æ–¹æ³•åŒºï¼š\n\nç±»åŠ è½½å­ç³»ç»Ÿè´Ÿè´£ä»æ–‡ä»¶ç³»ç»Ÿæˆ–è€…ç½‘ç»œä¸­åŠ è½½ Class ä¿¡æ¯ï¼ŒåŠ è½½çš„ç±»ä¿¡æ¯å­˜æ”¾äºä¸€å—ç§°ä¸ºæ–¹æ³•åŒºçš„å†…å­˜ç©ºé—´ã€‚é™¤äº†ç±»çš„ä¿¡æ¯å¤–ï¼Œæ–¹æ³•åŒºä¸­å¯èƒ½è¿˜ä¼šå­˜æ”¾è¿è¡Œæ—¶å¸¸é‡æ± ä¿¡æ¯ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²å­—é¢é‡å’Œæ•°å­—å¸¸é‡ï¼ˆè¿™éƒ¨åˆ†å¸¸é‡ä¿¡æ¯æ˜¯ Class æ–‡ä»¶ä¸­å¸¸é‡æ± éƒ¨åˆ†çš„å†…å­˜æ˜ å°„ï¼‰ã€‚\n\n#### Java å †\n\njava å †åœ¨è™šæ‹Ÿæœºå¯åŠ¨çš„æ—¶å€™å»ºç«‹ï¼Œå®ƒæ˜¯ java ç¨‹åºæœ€ä¸»è¦çš„å†…å­˜å·¥ä½œåŒºåŸŸã€‚å‡ ä¹æ‰€æœ‰çš„ java å¯¹è±¡å®ä¾‹éƒ½å­˜æ”¾åœ¨ java å †ä¸­ã€‚å †ç©ºé—´æ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ï¼Œè¿™æ˜¯ä¸€å—ä¸ java åº”ç”¨å¯†åˆ‡ç›¸å…³çš„å†…å­˜ç©ºé—´ã€‚\n\n#### ç›´æ¥å†…å­˜\n\njava çš„ NIO åº“å…è®¸ java ç¨‹åºä½¿ç”¨ç›´æ¥å†…å­˜ã€‚ç›´æ¥å†…å­˜æ˜¯åœ¨ java å †å¤–çš„ã€ç›´æ¥å‘ç³»ç»Ÿç”³è¯·çš„å†…å­˜ç©ºé—´ã€‚é€šå¸¸è®¿é—®ç›´æ¥å†…å­˜çš„é€Ÿåº¦ä¼šä¼˜äº java å †ã€‚å› æ­¤å‡ºäºæ€§èƒ½çš„è€ƒè™‘ï¼Œè¯»å†™é¢‘ç¹çš„åœºåˆå¯èƒ½ä¼šè€ƒè™‘ä½¿ç”¨ç›´æ¥å†…å­˜ã€‚ç”±äºç›´æ¥å†…å­˜åœ¨ java å †å¤–ï¼Œå› æ­¤å®ƒçš„å¤§å°ä¸ä¼šç›´æ¥å—é™äº Xmx æŒ‡å®šçš„æœ€å¤§å †å¤§å°ï¼Œä½†æ˜¯ç³»ç»Ÿå†…å­˜æ˜¯æœ‰é™çš„ï¼Œjava å †å’Œç›´æ¥å†…å­˜çš„æ€»å’Œä¾ç„¶å—é™äºæ“ä½œç³»ç»Ÿèƒ½ç»™å‡ºçš„æœ€å¤§å†…å­˜ã€‚\n\n#### åƒåœ¾å›æ”¶ç³»ç»Ÿï¼ˆGCï¼‰\n\nåƒåœ¾å›æ”¶ç³»ç»Ÿæ˜¯ java è™šæ‹Ÿæœºçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œåƒåœ¾å›æ”¶å™¨å¯ä»¥å¯¹æ–¹æ³•åŒºã€java å †å’Œç›´æ¥å†…å­˜è¿›è¡Œå›æ”¶ã€‚å…¶ä¸­ï¼Œjava å †æ˜¯åƒåœ¾æ”¶é›†å™¨çš„å·¥ä½œé‡ç‚¹ã€‚å’Œ C/C++ä¸åŒï¼Œjava ä¸­æ‰€æœ‰çš„å¯¹è±¡ç©ºé—´é‡Šæ”¾éƒ½æ˜¯éšå¼çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œjava ä¸­æ²¡æœ‰ç±»ä¼¼ free()æˆ–è€… delete()è¿™æ ·çš„å‡½æ•°é‡Šæ”¾æŒ‡å®šçš„å†…å­˜åŒºåŸŸã€‚å¯¹äºä¸å†ä½¿ç”¨çš„åƒåœ¾å¯¹è±¡ï¼Œåƒåœ¾å›æ”¶ç³»ç»Ÿä¼šåœ¨åå°é»˜é»˜å·¥ä½œï¼Œé»˜é»˜æŸ¥æ‰¾ã€æ ‡è¯†å¹¶é‡Šæ”¾åƒåœ¾å¯¹è±¡ï¼Œå®ŒæˆåŒ…æ‹¬ java å †ã€æ–¹æ³•åŒºå’Œç›´æ¥å†…å­˜ä¸­çš„å…¨è‡ªåŠ¨åŒ–ç®¡ç†ã€‚\n\n#### Java æ ˆ\n\næ¯ä¸€ä¸ª java è™šæ‹Ÿæœºçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„ java æ ˆï¼Œä¸€ä¸ªçº¿ç¨‹çš„ java æ ˆåœ¨çº¿ç¨‹åˆ›å»ºçš„æ—¶å€™è¢«åˆ›å»ºï¼Œjava æ ˆä¸­ä¿å­˜ç€å¸§ä¿¡æ¯ï¼Œjava æ ˆä¸­ä¿å­˜ç€å±€éƒ¨å˜é‡ã€æ–¹æ³•å‚æ•°ï¼ŒåŒæ—¶å’Œ java æ–¹æ³•çš„è°ƒç”¨ã€è¿”å›å¯†åˆ‡ç›¸å…³ã€‚\n\n#### æœ¬åœ°æ–¹æ³•æ ˆ\n\næœ¬åœ°æ–¹æ³•æ ˆå’Œ java æ ˆéå¸¸ç±»ä¼¼ï¼Œæœ€å¤§çš„ä¸åŒåœ¨äº java æ ˆç”¨äºæ–¹æ³•çš„è°ƒç”¨ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ç”¨äºæœ¬åœ°æ–¹æ³•çš„è°ƒç”¨ï¼Œä½œä¸ºå¯¹ java è™šæ‹Ÿæœºçš„é‡è¦æ‰©å±•ï¼Œjava è™šæ‹Ÿæœºå…è®¸ java ç›´æ¥è°ƒç”¨æœ¬åœ°æ–¹æ³•ï¼ˆé€šå¸¸ä½¿ç”¨ C ç¼–å†™ï¼‰\n\n#### PC å¯„å­˜å™¨\n\nPCï¼ˆProgram Counterï¼‰å¯„å­˜å™¨ä¹Ÿæ˜¯æ¯ä¸€ä¸ªçº¿ç¨‹ç§æœ‰çš„ç©ºé—´ï¼Œjava è™šæ‹Ÿæœºä¼šä¸ºæ¯ä¸€ä¸ª java çº¿ç¨‹åˆ›å»º PC å¯„å­˜å™¨ã€‚åœ¨ä»»æ„æ—¶åˆ»ï¼Œä¸€ä¸ª java çº¿ç¨‹æ€»æ˜¯åœ¨æ‰§è¡Œä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ­£åœ¨è¢«æ‰§è¡Œçš„æ–¹æ³•ç§°ä¸ºå½“å‰æ–¹æ³•ã€‚å¦‚æœå½“å‰æ–¹æ³•ä¸æ˜¯æœ¬åœ°æ–¹æ³•ï¼ŒPC å¯„å­˜å™¨å°±ä¼šæŒ‡å‘å½“å‰æ­£åœ¨è¢«æ‰§è¡Œçš„æŒ‡ä»¤ã€‚å¦‚æœå½“å‰æ–¹æ³•æ˜¯æœ¬åœ°æ–¹æ³•ï¼Œé‚£ä¹ˆ PC å¯„å­˜å™¨çš„å€¼å°±æ˜¯ undefined\n\n#### æ‰§è¡Œå¼•æ“\n\næ‰§è¡Œå¼•æ“æ˜¯ java è™šæ‹Ÿæœºçš„æœ€æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œå®ƒè´Ÿè´£æ‰§è¡Œè™šæ‹Ÿæœºçš„å­—èŠ‚ç ï¼Œç°ä»£è™šæ‹Ÿæœºä¸ºäº†æé«˜æ‰§è¡Œæ•ˆç‡ï¼Œä¼šä½¿ç”¨å³æ—¶ç¼–è¯‘(just in time)æŠ€æœ¯å°†æ–¹æ³•ç¼–è¯‘æˆæœºå™¨ç åå†æ‰§è¡Œã€‚Java HotSpot Client VM(-client)ï¼Œä¸ºåœ¨å®¢æˆ·ç«¯ç¯å¢ƒä¸­å‡å°‘å¯åŠ¨æ—¶é—´è€Œä¼˜åŒ–çš„æ‰§è¡Œå¼•æ“ï¼›æœ¬åœ°åº”ç”¨å¼€å‘ä½¿ç”¨ã€‚ï¼ˆå¦‚ï¼šeclipseï¼‰\n\nJava HotSpot Server VM(-server)ï¼Œä¸ºåœ¨æœåŠ¡å™¨ç¯å¢ƒä¸­æœ€å¤§åŒ–ç¨‹åºæ‰§è¡Œé€Ÿåº¦è€Œè®¾è®¡çš„æ‰§è¡Œ\nå¼•æ“ã€‚åº”ç”¨åœ¨æœåŠ¡ç«¯ç¨‹åºã€‚ï¼ˆå¦‚ï¼štomcatï¼‰\n\n**Java HotSpot Client æ¨¡å¼å’Œ Server æ¨¡å¼çš„åŒºåˆ«**\nå½“è™šæ‹Ÿæœºè¿è¡Œåœ¨-client æ¨¡å¼çš„æ—¶å€™,ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªä»£å·ä¸º C1 çš„è½»é‡çº§ç¼–è¯‘å™¨, è€Œ-server æ¨¡å¼å¯åŠ¨çš„è™šæ‹Ÿæœºé‡‡ç”¨ç›¸å¯¹é‡é‡çº§,ä»£å·ä¸º C2 çš„ç¼–è¯‘å™¨. C2 æ¯” C1 ç¼–è¯‘å™¨ç¼–è¯‘çš„ç›¸å¯¹å½»åº•,æœåŠ¡èµ·æ¥ä¹‹å,æ€§èƒ½æ›´é«˜\n\nJDK å®‰è£…ç›®å½•/jre/lib/ï¼ˆx86ã€i386ã€amd32ã€amd64ï¼‰/jvm.cfg\næ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œ-server å’Œ-client å“ªä¸€ä¸ªé…ç½®åœ¨ä¸Šï¼Œæ‰§è¡Œå¼•æ“å°±æ˜¯å“ªä¸€ä¸ªã€‚å¦‚æœæ˜¯ JDK1.5\nç‰ˆæœ¬ä¸”æ˜¯ 64 ä½ç³»ç»Ÿåº”ç”¨æ—¶ï¼Œ-client æ— æ•ˆã€‚\n\n--64 ä½ç³»ç»Ÿå†…å®¹\n-server KNOWN\n-client IGNORE\n\n--32 ä½ç³»ç»Ÿå†…å®¹\n-server KNOWN\n-client KNOWN\n\næ³¨æ„ï¼šåœ¨éƒ¨åˆ† JDK1.6 ç‰ˆæœ¬å’Œåç»­çš„ JDK ç‰ˆæœ¬(64 ä½ç³»ç»Ÿ)ä¸­ï¼Œ-client å‚æ•°å·²ç»ä¸èµ·ä½œç”¨äº†ï¼ŒServer æ¨¡å¼æˆä¸ºå”¯ä¸€ã€‚\n\n### å †ç»“æ„åŠå¯¹è±¡åˆ†ä»£\n\n#### ä»€ä¹ˆæ˜¯åˆ†ä»£ï¼Œåˆ†ä»£çš„å¿…è¦æ€§æ˜¯ä»€ä¹ˆ\n\nJava è™šæ‹Ÿæœºæ ¹æ®å¯¹è±¡å­˜æ´»çš„å‘¨æœŸä¸åŒï¼ŒæŠŠå †å†…å­˜åˆ’åˆ†ä¸ºå‡ å—ï¼Œä¸€èˆ¬åˆ†ä¸ºæ–°ç”Ÿä»£ã€è€å¹´ä»£å’Œæ°¸ä¹…ä»£ï¼ˆå¯¹ HotSpot è™šæ‹Ÿæœºè€Œè¨€ï¼‰ï¼Œè¿™å°±æ˜¯ JVM çš„å†…å­˜åˆ†ä»£ç­–ç•¥ã€‚\n\nå †å†…å­˜æ˜¯è™šæ‹Ÿæœºç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ï¼Œä¹Ÿæ˜¯åƒåœ¾å›æ”¶æœ€é¢‘ç¹çš„ä¸€å—åŒºåŸŸï¼Œæˆ‘ä»¬ç¨‹åºæ‰€æœ‰çš„å¯¹è±¡å®ä¾‹éƒ½å­˜æ”¾åœ¨å †å†…å­˜ä¸­ã€‚ç»™å †å†…å­˜åˆ†ä»£æ˜¯ä¸ºäº†æé«˜å¯¹è±¡å†…å­˜åˆ†é…å’Œåƒåœ¾å›æ”¶çš„æ•ˆç‡ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå †å†…å­˜æ²¡æœ‰åŒºåŸŸåˆ’åˆ†ï¼Œæ‰€æœ‰çš„æ–°åˆ›å»ºçš„å¯¹è±¡å’Œç”Ÿå‘½å‘¨æœŸå¾ˆé•¿çš„å¯¹è±¡æ”¾åœ¨ä¸€èµ·ï¼Œéšç€ç¨‹åºçš„æ‰§è¡Œï¼Œå †å†…å­˜éœ€è¦é¢‘ç¹è¿›è¡Œåƒåœ¾æ”¶é›†ï¼Œè€Œæ¯æ¬¡å›æ”¶éƒ½è¦éå†æ‰€æœ‰çš„å¯¹è±¡ï¼Œéå†è¿™äº›å¯¹è±¡æ‰€èŠ±è´¹çš„æ—¶é—´ä»£ä»·æ˜¯å·¨å¤§çš„ï¼Œä¼šä¸¥é‡å½±å“æˆ‘ä»¬çš„ GC æ•ˆç‡ã€‚\n\næœ‰äº†å†…å­˜åˆ†ä»£ï¼Œæƒ…å†µå°±ä¸åŒäº†ï¼Œæ–°åˆ›å»ºçš„å¯¹è±¡ä¼šåœ¨æ–°ç”Ÿä»£ä¸­åˆ†é…å†…å­˜ï¼Œç»è¿‡å¤šæ¬¡å›æ”¶ä»ç„¶å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡å­˜æ”¾åœ¨è€å¹´ä»£ä¸­ï¼Œé™æ€å±æ€§ã€ç±»ä¿¡æ¯ç­‰å­˜æ”¾åœ¨æ°¸ä¹…ä»£ä¸­ï¼Œæ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡å­˜æ´»æ—¶é—´çŸ­ï¼Œåªéœ€è¦åœ¨æ–°ç”Ÿä»£åŒºåŸŸä¸­é¢‘ç¹è¿›è¡Œ GCï¼Œè€å¹´ä»£ä¸­å¯¹è±¡ç”Ÿå‘½å‘¨æœŸé•¿ï¼Œå†…å­˜å›æ”¶çš„é¢‘ç‡ç›¸å¯¹è¾ƒä½ï¼Œä¸éœ€è¦é¢‘ç¹è¿›è¡Œå›æ”¶ï¼Œæ°¸ä¹…ä»£ä¸­å›æ”¶æ•ˆæœå¤ªå·®ï¼Œä¸€èˆ¬ä¸è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œè¿˜å¯ä»¥æ ¹æ®ä¸åŒå¹´ä»£çš„ç‰¹ç‚¹é‡‡ç”¨åˆé€‚çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€‚åˆ†ä»£æ”¶é›†å¤§å¤§æå‡äº†æ”¶é›†æ•ˆç‡ï¼Œè¿™äº›éƒ½æ˜¯å†…å­˜åˆ†ä»£å¸¦æ¥çš„å¥½å¤„ã€‚\n\n#### åˆ†ä»£çš„åˆ’åˆ†\n\nJava è™šæ‹Ÿæœºå°†å †å†…å­˜åˆ’åˆ†ä¸ºæ–°ç”Ÿä»£ã€è€å¹´ä»£å’Œæ°¸ä¹…ä»£ï¼Œæ°¸ä¹…ä»£æ˜¯ HotSpot è™šæ‹Ÿæœºç‰¹æœ‰çš„æ¦‚å¿µï¼ˆJDK1.8 ä¹‹åä¸º metaspace æ›¿ä»£æ°¸ä¹…ä»£ï¼‰ï¼Œå®ƒé‡‡ç”¨æ°¸ä¹…ä»£çš„æ–¹å¼æ¥å®ç°æ–¹æ³•åŒºï¼Œå…¶ä»–çš„è™šæ‹Ÿæœºå®ç°æ²¡æœ‰è¿™ä¸€æ¦‚å¿µï¼Œè€Œä¸” HotSpot ä¹Ÿæœ‰å–æ¶ˆæ°¸ä¹…ä»£çš„è¶‹åŠ¿ï¼Œåœ¨ JDK 1.7 ä¸­ HotSpot å·²ç»å¼€å§‹äº†â€œå»æ°¸ä¹…åŒ–â€ï¼ŒæŠŠåŸæœ¬æ”¾åœ¨æ°¸ä¹…ä»£çš„å­—ç¬¦ä¸²å¸¸é‡æ± ç§»å‡ºã€‚æ°¸ä¹…ä»£ä¸»è¦å­˜æ”¾å¸¸é‡ã€ç±»ä¿¡æ¯ã€é™æ€å˜é‡ç­‰æ•°æ®ï¼Œä¸åƒåœ¾å›æ”¶å…³ç³»ä¸å¤§ï¼Œæ–°ç”Ÿä»£å’Œè€å¹´ä»£æ˜¯åƒåœ¾å›æ”¶çš„ä¸»è¦åŒºåŸŸã€‚\n\nå†…å­˜ç®€å›¾å¦‚ä¸‹ï¼š\n\n![img](https://alightyoung.gitee.io/static/img/8.png)\n\n##### æ–°ç”Ÿä»£ï¼ˆYoung Generation\n\næ–°ç”Ÿæˆçš„å¯¹è±¡ä¼˜å…ˆå­˜æ”¾åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œæ–°ç”Ÿä»£å¯¹è±¡æœç”Ÿå¤•æ­»ï¼Œå­˜æ´»ç‡å¾ˆä½ï¼Œåœ¨æ–°ç”Ÿä»£ä¸­ï¼Œå¸¸è§„åº”ç”¨è¿›è¡Œä¸€æ¬¡åƒåœ¾æ”¶é›†ä¸€èˆ¬å¯ä»¥å›æ”¶ 70% ~ 95% çš„ç©ºé—´ï¼Œå›æ”¶æ•ˆç‡å¾ˆé«˜ã€‚\n\nHotSpot å°†æ–°ç”Ÿä»£åˆ’åˆ†ä¸ºä¸‰å—ï¼Œä¸€å—è¾ƒå¤§çš„ Edenï¼ˆä¼Šç”¸ï¼‰ç©ºé—´å’Œä¸¤å—è¾ƒå°çš„ Survivorï¼ˆå¹¸å­˜è€…ï¼‰ç©ºé—´ï¼Œé»˜è®¤æ¯”ä¾‹ä¸º 8ï¼š1ï¼š1ã€‚\n\nåˆ’åˆ†çš„ç›®çš„æ˜¯å› ä¸º HotSpot é‡‡ç”¨å¤åˆ¶ç®—æ³•æ¥å›æ”¶æ–°ç”Ÿä»£ï¼Œè®¾ç½®è¿™ä¸ªæ¯”ä¾‹æ˜¯ä¸ºäº†å……åˆ†åˆ©ç”¨å†…å­˜ç©ºé—´ï¼Œå‡å°‘æµªè´¹ã€‚æ–°ç”Ÿæˆçš„å¯¹è±¡åœ¨ Eden åŒºåˆ†é…ï¼ˆå¤§å¯¹è±¡é™¤å¤–ï¼Œå¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ï¼‰\n\nå½“ Eden åŒºæ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´è¿›è¡Œåˆ†é…æ—¶ï¼Œè™šæ‹Ÿæœºå°†å‘èµ·ä¸€æ¬¡ Minor GCã€‚\n\nGC å¼€å§‹æ—¶ï¼Œå¯¹è±¡åªä¼šå­˜åœ¨äº Eden åŒºå’Œ From Survivor åŒºï¼ŒTo Survivor åŒºæ˜¯ç©ºçš„ï¼ˆä½œä¸ºä¿ç•™åŒºåŸŸï¼‰ã€‚\n\nGC è¿›è¡Œæ—¶ï¼ŒEden åŒºä¸­æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡éƒ½ä¼šè¢«å¤åˆ¶åˆ° To Survivor åŒºï¼Œè€Œåœ¨ FromSurvivor åŒºä¸­ï¼Œä»å­˜æ´»çš„å¯¹è±¡ä¼šæ ¹æ®å®ƒä»¬çš„å¹´é¾„å€¼å†³å®šå»å‘ï¼Œå¹´é¾„å€¼è¾¾åˆ°å¹´é¾„é˜€å€¼ï¼ˆé»˜è®¤ä¸º 15ï¼Œæ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡æ¯ç†¬è¿‡ä¸€è½®åƒåœ¾å›æ”¶ï¼Œå¹´é¾„å€¼å°±åŠ  1ï¼ŒGC åˆ†ä»£å¹´é¾„å­˜å‚¨åœ¨å¯¹è±¡çš„ header ä¸­ï¼‰çš„å¯¹è±¡ä¼šè¢«ç§»åˆ°è€å¹´ä»£ä¸­ï¼Œæ²¡æœ‰è¾¾åˆ°é˜€å€¼çš„å¯¹è±¡ä¼šè¢«å¤åˆ¶åˆ° To Survivor åŒºã€‚æ¥ç€æ¸…ç©º Eden åŒºå’Œ From Survivor åŒºï¼Œæ–°ç”Ÿä»£ä¸­å­˜æ´»çš„å¯¹è±¡éƒ½åœ¨ To Survivor åŒºã€‚æ¥ç€ï¼Œ From Survivor åŒºå’Œ To Survivor åŒºä¼šäº¤æ¢å®ƒä»¬çš„è§’è‰²ï¼Œä¹Ÿå°±æ˜¯æ–°çš„ To Survivor åŒºå°±æ˜¯ä¸Šæ¬¡ GC æ¸…ç©ºçš„ FromSurvivor åŒºï¼Œæ–°çš„ From Survivor åŒºå°±æ˜¯ä¸Šæ¬¡ GC çš„ To Survivor åŒºï¼Œæ€»ä¹‹ï¼Œä¸ç®¡æ€æ ·éƒ½ä¼šä¿è¯ To Survivor åŒºåœ¨ä¸€è½® GC åæ˜¯ç©ºçš„ã€‚\n\nGC æ—¶å½“ To Survivor åŒºæ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´å­˜æ”¾ä¸Šä¸€æ¬¡æ–°ç”Ÿä»£æ”¶é›†ä¸‹æ¥çš„å­˜æ´»å¯¹è±¡æ—¶ï¼Œéœ€è¦ä¾èµ–è€å¹´ä»£è¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œå°†è¿™äº›å¯¹è±¡å­˜æ”¾åœ¨è€å¹´ä»£ä¸­ã€‚\n\n##### è€å¹´ä»£ï¼ˆOld Generationnï¼‰\n\nåœ¨æ–°ç”Ÿä»£ä¸­ç»å†äº†å¤šæ¬¡ï¼ˆå…·ä½“çœ‹è™šæ‹Ÿæœºé…ç½®çš„é˜€å€¼ï¼‰GC åä»ç„¶å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡ä¼šè¿›å…¥è€å¹´ä»£ä¸­ã€‚è€å¹´ä»£ä¸­çš„å¯¹è±¡ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿ï¼Œå­˜æ´»ç‡æ¯”è¾ƒé«˜ï¼Œåœ¨è€å¹´ä»£ä¸­è¿›è¡Œ GC çš„é¢‘ç‡ç›¸å¯¹è€Œè¨€è¾ƒä½ï¼Œè€Œä¸”å›æ”¶çš„é€Ÿåº¦ä¹Ÿæ¯”è¾ƒæ…¢ã€‚\n\n##### æ°¸ä¹…ä»£ï¼ˆPermanent Generationnï¼‰\n\næ°¸ä¹…ä»£å­˜å‚¨ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ï¼Œå¯¹è¿™ä¸€åŒºåŸŸè€Œè¨€ï¼ŒJava è™šæ‹Ÿæœºè§„èŒƒæŒ‡å‡ºå¯ä»¥ä¸è¿›è¡Œåƒåœ¾æ”¶é›†ï¼Œä¸€èˆ¬è€Œè¨€ä¸ä¼šè¿›è¡Œåƒåœ¾å›æ”¶ã€‚\n\n### åƒåœ¾å›æ”¶ç®—æ³•åŠåˆ†ä»£åƒåœ¾æ”¶é›†å™¨\n\n#### åƒåœ¾æ”¶é›†å™¨çš„åˆ†ç±»\n\n##### æ¬¡æ”¶é›†å™¨\n\nScavenge GCï¼ŒæŒ‡å‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„ GCï¼Œå› ä¸ºæ–°ç”Ÿä»£çš„ Java å¯¹è±¡å¤§å¤šéƒ½æ˜¯æœç”Ÿå¤•æ­»ï¼Œæ‰€ä»¥ Scavenge GC éå¸¸é¢‘ç¹ï¼Œä¸€èˆ¬å›æ”¶é€Ÿåº¦ä¹Ÿæ¯”è¾ƒå¿«ã€‚å½“ Eden ç©ºé—´ä¸è¶³ä»¥ä¸ºå¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼Œä¼šè§¦å‘ Scavenge GCã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“æ–°å¯¹è±¡ç”Ÿæˆï¼Œå¹¶ä¸”åœ¨ Eden ç”³è¯·ç©ºé—´å¤±è´¥æ—¶ï¼Œå°±ä¼šè§¦å‘ Scavenge GCï¼Œå¯¹ Eden åŒºåŸŸè¿›è¡Œ GCï¼Œæ¸…é™¤éå­˜æ´»å¯¹è±¡ï¼Œå¹¶ä¸”æŠŠå°šä¸”å­˜æ´»çš„å¯¹è±¡ç§»åŠ¨åˆ° Survivor åŒºã€‚ç„¶åæ•´ç† Survivor çš„ä¸¤ä¸ªåŒºã€‚è¿™ç§æ–¹å¼çš„ GC æ˜¯å¯¹å¹´è½»ä»£çš„ Eden åŒºè¿›è¡Œï¼Œä¸ä¼šå½±å“åˆ°å¹´è€ä»£ã€‚å› ä¸ºå¤§éƒ¨åˆ†å¯¹è±¡éƒ½æ˜¯ä» Eden åŒºå¼€å§‹çš„ï¼ŒåŒæ—¶ Eden åŒºä¸ä¼šåˆ†é…çš„å¾ˆå¤§ï¼Œæ‰€ä»¥ Eden åŒºçš„ GC ä¼šé¢‘ç¹è¿›è¡Œã€‚å› è€Œï¼Œä¸€èˆ¬åœ¨è¿™é‡Œéœ€è¦ä½¿ç”¨é€Ÿåº¦å¿«ã€æ•ˆç‡é«˜çš„ç®—æ³•ï¼Œä½¿ Eden å»èƒ½å°½å¿«ç©ºé—²å‡ºæ¥ã€‚å½“å¹´è½»ä»£å †ç©ºé—´ç´§å¼ æ—¶ä¼šè¢«è§¦å‘ç›¸å¯¹äºå…¨æ”¶é›†è€Œè¨€ï¼Œæ”¶é›†é—´éš”è¾ƒçŸ­\n\n##### å…¨æ”¶é›†å™¨\n\nFull GCï¼ŒæŒ‡å‘ç”Ÿåœ¨è€å¹´ä»£çš„ GCï¼Œå‡ºç°äº† Full GC ä¸€èˆ¬ä¼šä¼´éšç€è‡³å°‘ä¸€æ¬¡çš„ Minor GCï¼ˆè€å¹´ä»£çš„å¯¹è±¡å¤§éƒ¨åˆ†æ˜¯ Scavenge GC è¿‡ç¨‹ä¸­ä»æ–°ç”Ÿä»£è¿›å…¥è€å¹´ä»£ï¼‰ï¼Œæ¯”å¦‚ï¼šåˆ†é…æ‹…ä¿å¤±è´¥ã€‚FullGC çš„é€Ÿåº¦ä¸€èˆ¬ä¼šæ¯” Scavenge GC æ…¢ 10 å€ä»¥ä¸Šã€‚å½“è€å¹´ä»£å†…å­˜ä¸è¶³æˆ–è€…æ˜¾å¼è°ƒç”¨ System.gc()æ–¹æ³•æ—¶ï¼Œä¼šè§¦å‘ Full GCã€‚\n\nå½“è€å¹´ä»£æˆ–è€…æŒä¹…ä»£å †ç©ºé—´æ»¡äº†ï¼Œä¼šè§¦å‘å…¨æ”¶é›†æ“ä½œå¯ä»¥ä½¿ç”¨ System.gc()æ–¹æ³•æ¥æ˜¾å¼çš„å¯åŠ¨å…¨æ”¶é›†å…¨æ”¶é›†ä¸€èˆ¬æ ¹æ®å †å¤§å°çš„ä¸åŒï¼Œéœ€è¦çš„æ—¶é—´ä¸å°½ç›¸åŒï¼Œä½†ä¸€èˆ¬ä¼šæ¯”è¾ƒé•¿ã€‚\n\n##### åƒåœ¾å›æ”¶å™¨çš„å¸¸è§„åŒ¹é…\n\n![img](https://alightyoung.gitee.io/static/img/9.png)\n\n#### å¸¸è§åƒåœ¾å›æ”¶ç®—æ³•\n\n##### å¼•ç”¨è®¡æ•°ï¼ˆReference Countingï¼‰\n\næ¯”è¾ƒå¤è€çš„å›æ”¶ç®—æ³•ã€‚åŸç†æ˜¯æ­¤å¯¹è±¡æœ‰ä¸€ä¸ªå¼•ç”¨ï¼Œå³å¢åŠ ä¸€ä¸ªè®¡æ•°ï¼Œåˆ é™¤ä¸€ä¸ªå¼•ç”¨åˆ™å‡å°‘ä¸€ä¸ªè®¡æ•°ã€‚åƒåœ¾å›æ”¶æ—¶ï¼Œåªç”¨æ”¶é›†è®¡æ•°ä¸º 0 çš„å¯¹è±¡ã€‚æ­¤ç®—æ³•æœ€è‡´å‘½çš„æ˜¯æ— æ³•å¤„ç†å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚\n\n##### å¤åˆ¶ï¼ˆCopyingï¼‰\n\næ­¤ç®—æ³•æŠŠå†…å­˜ç©ºé—´åˆ’ä¸ºä¸¤ä¸ªç›¸ç­‰çš„åŒºåŸŸï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­ä¸€ä¸ªåŒºåŸŸã€‚åƒåœ¾å›æ”¶æ—¶ï¼Œéå†å½“å‰ä½¿ç”¨åŒºåŸŸï¼ŒæŠŠæ­£åœ¨ä½¿ç”¨ä¸­çš„å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªåŒºåŸŸä¸­ã€‚æ­¤ç®—æ³•æ¯æ¬¡åªå¤„ç†æ­£åœ¨ä½¿ç”¨ä¸­çš„å¯¹è±¡ï¼Œå› æ­¤å¤åˆ¶æˆæœ¬æ¯”è¾ƒå°ï¼ŒåŒæ—¶å¤åˆ¶è¿‡å»ä»¥åè¿˜èƒ½è¿›è¡Œç›¸åº”çš„å†…å­˜æ•´ç†ï¼Œä¸ä¼šå‡ºç°â€œç¢ç‰‡â€é—®é¢˜ã€‚å½“ç„¶ï¼Œæ­¤ç®—æ³•çš„ç¼ºç‚¹ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œå°±æ˜¯éœ€è¦ä¸¤å€å†…å­˜ç©ºé—´ã€‚ç®€å›¾å¦‚ä¸‹ï¼š\n![img](https://alightyoung.gitee.io/static/img/10.png)\n\n##### æ ‡è®°-æ¸…é™¤ï¼ˆMark-Sweepï¼‰\n\næ­¤ç®—æ³•æ‰§è¡Œåˆ†ä¸¤é˜¶æ®µã€‚ç¬¬ä¸€é˜¶æ®µä»å¼•ç”¨æ ¹èŠ‚ç‚¹å¼€å§‹æ ‡è®°æ‰€æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡ï¼Œç¬¬äºŒé˜¶æ®µéå†æ•´ä¸ªå †ï¼ŒæŠŠæœªæ ‡è®°çš„å¯¹è±¡æ¸…é™¤ã€‚æ­¤ç®—æ³•éœ€è¦æš‚åœæ•´ä¸ªåº”ç”¨ï¼ŒåŒæ—¶ï¼Œä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ã€‚ç®€å›¾å¦‚ä¸‹ï¼š\n![img](https://alightyoung.gitee.io/static/img/11.webp)\n\n##### æ ‡è®°-æ•´ç†ï¼ˆMark-Compactï¼‰\n\næ­¤ç®—æ³•ç»“åˆäº†â€œæ ‡è®°-æ¸…é™¤â€å’Œâ€œå¤åˆ¶â€ä¸¤ä¸ªç®—æ³•çš„ä¼˜ç‚¹ã€‚ä¹Ÿæ˜¯åˆ†ä¸¤é˜¶æ®µï¼Œç¬¬ä¸€é˜¶æ®µä»æ ¹èŠ‚ç‚¹å¼€å§‹æ ‡è®°æ‰€æœ‰è¢«å¼•ç”¨å¯¹è±¡ï¼Œç¬¬äºŒé˜¶æ®µéå†æ•´ä¸ªå †ï¼ŒæŠŠæ¸…é™¤æœªæ ‡è®°å¯¹è±¡å¹¶ä¸”æŠŠå­˜æ´»å¯¹è±¡â€œå‹ç¼©â€åˆ°å †çš„å…¶ä¸­ä¸€å—ï¼ŒæŒ‰é¡ºåºæ’æ”¾ã€‚æ­¤ç®—æ³•é¿å…äº†â€œæ ‡è®°-æ¸…é™¤â€çš„ç¢ç‰‡é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†â€œå¤åˆ¶â€ç®—æ³•çš„ç©ºé—´é—®é¢˜ã€‚ç®€å›¾å¦‚ä¸‹ï¼š\n![img](https://alightyoung.gitee.io/static/img/12.webp)\n\n#### åˆ†ä»£åƒåœ¾æ”¶é›†å™¨\n\n##### ä¸²è¡Œæ”¶é›†å™¨ï¼ˆSerialï¼‰\n\nSerial æ”¶é›†å™¨æ˜¯ Hotspot è¿è¡Œåœ¨ Client æ¨¡å¼ä¸‹çš„é»˜è®¤æ–°ç”Ÿä»£æ”¶é›†å™¨, å®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šåªç”¨ä¸€ä¸ª CPUï¼ˆè®¡ç®—æ ¸å¿ƒï¼‰ä¸€æ¡æ”¶é›†çº¿ç¨‹å»å®Œæˆ GC å·¥ä½œ, ä¸”åœ¨è¿›è¡Œåƒåœ¾æ”¶é›†æ—¶å¿…é¡»æš‚åœå…¶ä»–æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹(â€œStop The Worldâ€ -åé¢ç®€ç§° STW)ã€‚å¯ä»¥ä½¿ç”¨-XX:+UseSerialGC æ‰“å¼€ã€‚è™½ç„¶æ˜¯å•çº¿ç¨‹æ”¶é›†, ä½†å®ƒå´ç®€å•è€Œé«˜æ•ˆ, åœ¨ VM ç®¡ç†å†…å­˜ä¸å¤§çš„æƒ…å†µä¸‹(æ”¶é›†å‡ å M~ä¸€ä¸¤ç™¾ M çš„æ–°ç”Ÿä»£), åœé¡¿æ—¶é—´å®Œå…¨å¯ä»¥æ§åˆ¶åœ¨å‡ åæ¯«ç§’~ä¸€ç™¾å¤šæ¯«ç§’å†…ã€‚\n![img](https://alightyoung.gitee.io/static/img/13.png)\n\n##### å¹¶è¡Œæ”¶é›†å™¨ï¼ˆParNewï¼‰\n\nParNew æ”¶é›†å™¨å…¶å®æ˜¯å‰é¢ Serial çš„å¤šçº¿ç¨‹ç‰ˆæœ¬, é™¤ä½¿ç”¨å¤šæ¡çº¿ç¨‹è¿›è¡Œ GC å¤–, åŒ…æ‹¬ Serial å¯ç”¨çš„æ‰€æœ‰æ§åˆ¶å‚æ•°ã€æ”¶é›†ç®—æ³•ã€STWã€å¯¹è±¡åˆ†é…è§„åˆ™ã€å›æ”¶ç­–ç•¥ç­‰éƒ½ä¸ Serial å®Œå…¨ä¸€æ ·(ä¹Ÿæ˜¯ VM å¯ç”¨ CMS æ”¶é›†å™¨-XX: +UseConcMarkSweepGC çš„é»˜è®¤æ–°ç”Ÿä»£æ”¶é›†å™¨)ã€‚ç”±äºå­˜åœ¨çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€, ParNew åœ¨å• CPU çš„ç¯å¢ƒä¸­æ¯”ä¸ä¸Š Serial, ä¸”åœ¨é€šè¿‡è¶…çº¿ç¨‹æŠ€æœ¯å®ç°çš„ä¸¤ä¸ª CPU çš„ç¯å¢ƒä¸­ä¹Ÿä¸èƒ½ 100%ä¿è¯èƒ½è¶…è¶Š Serial. ä½†éšç€å¯ç”¨çš„ CPU æ•°é‡çš„å¢åŠ ,æ”¶é›†æ•ˆç‡è‚¯å®šä¹Ÿä¼šå¤§å¤§å¢åŠ (ParNew æ”¶é›†çº¿ç¨‹æ•°ä¸ CPU çš„æ•°é‡ç›¸åŒ, å› æ­¤åœ¨ CPU æ•°é‡è¿‡å¤§çš„ç¯å¢ƒä¸­, å¯ç”¨ `-XX:ParallelGCThreads=\u003CN>` å‚æ•°æ§åˆ¶ GC çº¿ç¨‹æ•°)ã€‚\n![img](https://alightyoung.gitee.io/static/img/14.png)\n\n##### Parallel Scavenge æ”¶é›†å™¨\n\nä¸ ParNew ç±»ä¼¼, Parallel Scavenge ä¹Ÿæ˜¯ä½¿ç”¨å¤åˆ¶ç®—æ³•, ä¹Ÿæ˜¯å¹¶è¡Œå¤šçº¿ç¨‹æ”¶é›†å™¨. ä½†ä¸å…¶ä»–æ”¶é›†å™¨å…³æ³¨å°½å¯èƒ½ç¼©çŸ­åƒåœ¾æ”¶é›†æ—¶é—´ä¸åŒ, Parallel Scavenge æ›´å…³æ³¨ç³»ç»Ÿååé‡:ç³»ç»Ÿååé‡=è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´/(è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´+åƒåœ¾æ”¶é›†æ—¶é—´)åœé¡¿æ—¶é—´è¶ŠçŸ­å°±è¶Šé€‚ç”¨äºç”¨æˆ·äº¤äº’çš„ç¨‹åº-è‰¯å¥½çš„å“åº”é€Ÿåº¦èƒ½æå‡ç”¨æˆ·çš„ä½“éªŒ;è€Œé«˜ååé‡åˆ™é€‚ç”¨äºåå°è¿ç®—è€Œä¸éœ€è¦å¤ªå¤šäº¤äº’çš„ä»»åŠ¡-å¯ä»¥æœ€é«˜æ•ˆç‡åœ°åˆ©ç”¨ CPU æ—¶é—´,å°½å¿«åœ°å®Œæˆç¨‹åºçš„è¿ç®—ä»»åŠ¡. Parallel Scavenge æä¾›äº†å¦‚ä¸‹å‚æ•°è®¾ç½®ç³»ç»Ÿååé‡:\nParallel Scavenge å‚æ•°|æè¿°\n---|---\n-XX:MaxGCPauseMillis | (æ¯«ç§’æ•°) æ”¶é›†å™¨å°†å°½åŠ›ä¿è¯å†…å­˜å›æ”¶èŠ±è´¹çš„æ—¶é—´ä¸è¶…è¿‡è®¾å®šå€¼, ä½†å¦‚æœå¤ªå°å°†ä¼šå¯¼è‡´ GC çš„é¢‘ç‡å¢åŠ .\n-XX:GCTimeRatio|(æ•´æ•°:`0 \u003C GCTimeRatio \u003C 100`) æ˜¯åƒåœ¾æ”¶é›†æ—¶é—´å æ€»æ—¶é—´çš„æ¯”ç‡\nXX:+UseAdaptiveSizePolicy|å¯ç”¨ GC è‡ªé€‚åº”çš„è°ƒèŠ‚ç­–ç•¥: ä¸å†éœ€è¦æ‰‹å·¥æŒ‡å®š-Xmn-XX:SurvivorRatio-XX:PretenureSizeThreshold ç­‰ç»†èŠ‚å‚æ•°, VM ä¼šæ ¹æ®å½“å‰ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µæ”¶é›†æ€§èƒ½ç›‘æ§ä¿¡æ¯, åŠ¨æ€è°ƒæ•´è¿™äº›å‚æ•°ä»¥æä¾›æœ€åˆé€‚çš„åœé¡¿æ—¶é—´æˆ–æœ€å¤§çš„ååé‡\n\n##### Serial Old æ”¶é›†å™¨\n\nSerial Old æ˜¯ Serial æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬, åŒæ ·æ˜¯å•çº¿ç¨‹æ”¶é›†å™¨,ä½¿ç”¨â€œæ ‡è®°-æ•´ç†â€ç®—æ³•\n![img](https://alightyoung.gitee.io/static/img/15.png)\n\n##### Parallel Old æ”¶é›†å™¨\n\nParallel Old æ˜¯ Parallel Scavenge æ”¶é›†å™¨çš„è€å¹´ä»£ç‰ˆæœ¬, ä½¿ç”¨å¤šçº¿ç¨‹å’Œâ€œæ ‡è®°ï¼æ•´ç†â€ç®—\næ³•, ååé‡ä¼˜å…ˆ, ä¸»è¦ä¸ Parallel Scavenge é…åˆåœ¨æ³¨é‡ååé‡åŠ CPU èµ„æºæ•æ„Ÿç³»ç»Ÿå†…ä½¿ç”¨ï¼›\n![img](https://alightyoung.gitee.io/static/img/16.png)\n\n##### CMS æ”¶é›†å™¨ï¼ˆConcurrent Mark Sweepï¼‰\n\nCMS(Concurrent Mark Sweep)æ”¶é›†å™¨æ˜¯ä¸€æ¬¾å…·æœ‰åˆ’æ—¶ä»£æ„ä¹‰çš„æ”¶é›†å™¨, ä¸€æ¬¾çœŸæ­£æ„ä¹‰ä¸Šçš„å¹¶å‘æ”¶é›†å™¨, è™½ç„¶ç°åœ¨å·²ç»æœ‰äº†ç†è®ºæ„ä¹‰ä¸Šè¡¨ç°æ›´å¥½çš„ G1 æ”¶é›†å™¨, ä½†ç°åœ¨ä¸»æµäº’è”ç½‘ä¼ä¸šçº¿ä¸Šé€‰ç”¨çš„ä»æ˜¯ CMS(å¦‚ Taobaoã€å¾®åº—).\n\nCMS æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨(CMS åˆç§°å¤šå¹¶å‘ä½æš‚åœçš„æ”¶é›†å™¨),\nåŸºäºâ€æ ‡è®°-æ¸…é™¤â€ç®—æ³•å®ç°, æ•´ä¸ª GC è¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹ 4 ä¸ªæ­¥éª¤:\n\n1. åˆå§‹æ ‡è®°(CMS initial mark)\n2. å¹¶å‘æ ‡è®°(CMS concurrent mark: GC Roots Tracing è¿‡ç¨‹)\n3. é‡æ–°æ ‡è®°(CMS remark)\n4. å¹¶å‘æ¸…é™¤(CMS concurrent sweep: å·²æ­»å¯¹è±¡å°†ä¼šå°±åœ°é‡Šæ”¾, æ³¨æ„:æ­¤å¤„æ²¡æœ‰å‹ç¼©)\n\nå…¶ä¸­ 1ï¼Œ3 ä¸¤ä¸ªæ­¥éª¤(åˆå§‹æ ‡è®°ã€é‡æ–°æ ‡è®°)ä»éœ€ STW. ä½†åˆå§‹æ ‡è®°ä»…åªæ ‡è®°ä¸€ä¸‹ GC Roots èƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡, é€Ÿåº¦å¾ˆå¿«; è€Œé‡æ–°æ ‡è®°åˆ™æ˜¯ä¸ºäº†ä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´å› ç”¨æˆ·ç¨‹åºç»§ç»­è¿è¡Œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŠ¨çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡çš„æ ‡è®°è®°å½•, è™½ç„¶ä¸€èˆ¬æ¯”åˆå§‹æ ‡è®°é˜¶æ®µç¨é•¿, ä½†è¦è¿œå°äºå¹¶å‘æ ‡è®°æ—¶é—´.\n![img](https://alightyoung.gitee.io/static/img/17.png)\n\n**CMS ç‰¹ç‚¹ï¼š**\nCMS é»˜è®¤å¯åŠ¨çš„å›æ”¶çº¿ç¨‹æ•°=(CPU æ•°ç›®+3),å½“ CPU æ•° > 4 æ—¶, GC çº¿ç¨‹ä¸€èˆ¬å ç”¨ä¸è¶…è¿‡ 25%çš„ CPU èµ„æº, ä½†æ˜¯å½“ CPU æ•° `\u003C=` 4 æ—¶, GC çº¿ç¨‹å¯èƒ½å°±ä¼šè¿‡å¤šçš„å ç”¨ç”¨æˆ· CPU èµ„æº, ä»è€Œå¯¼è‡´åº”ç”¨ç¨‹åºå˜æ…¢, æ€»ååé‡é™ä½.\n\næ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾, å¯èƒ½å‡ºç° Promotion Failureã€Concurrent Mode Failure è€Œå¯¼è‡´å¦ä¸€æ¬¡ Full GC çš„äº§ç”Ÿ: æµ®åŠ¨åƒåœ¾æ˜¯æŒ‡åœ¨ CMS å¹¶å‘æ¸…ç†é˜¶æ®µç”¨æˆ·çº¿ç¨‹è¿è¡Œè€Œäº§ç”Ÿçš„æ–°åƒåœ¾. ç”±äºåœ¨ GC é˜¶æ®µç”¨æˆ·çº¿ç¨‹è¿˜éœ€è¿è¡Œ, å› æ­¤è¿˜éœ€è¦é¢„ç•™è¶³å¤Ÿçš„å†…å­˜ç©ºé—´ç»™ç”¨æˆ·çº¿ç¨‹ä½¿ç”¨, å¯¼è‡´ CMS ä¸ èƒ½ åƒ å…¶ ä»–æ”¶ é›† å™¨é‚£ æ · ç­‰åˆ° è€ å¹´ ä»£å‡  ä¹ å¡«æ»¡ äº† å†è¿› è¡Œ æ”¶ é›†. å› æ­¤ CMS æä¾›äº†-XX:CMSInitiatingOccupancyFraction å‚ æ•° æ¥ è®¾ ç½® GC çš„ è§¦ å‘ ç™¾ åˆ† æ¯” ( ä»¥ åŠ-XX:+UseCMSInitiatingOccupancyOnly æ¥å¯ç”¨è¯¥è§¦å‘ç™¾åˆ†æ¯”), å½“è€å¹´ä»£çš„ä½¿ç”¨ç©ºé—´è¶…è¿‡è¯¥æ¯”ä¾‹å CMS å°±ä¼šè¢«è§¦å‘(JDK 1.6 ä¹‹åé»˜è®¤ 92%). ä½†å½“ CMS è¿è¡ŒæœŸé—´é¢„ç•™çš„å†…å­˜æ— æ³•æ»¡è¶³ç¨‹åºéœ€è¦, å°±ä¼šå‡ºç°ä¸Šè¿° Promotion Failure ç­‰å¤±è´¥, è¿™æ—¶ VM å°†å¯åŠ¨åå¤‡é¢„æ¡ˆ: ä¸´æ—¶å¯ç”¨ Serial Old æ”¶é›†å™¨æ¥é‡æ–°æ‰§è¡Œ Full GC(CMS é€šå¸¸é…åˆå¤§å†…å­˜ä½¿ç”¨, ä¸€æ—¦å¤§å†…å­˜è½¬å…¥ä¸²è¡Œçš„ Serial GC, é‚£åœé¡¿çš„æ—¶é—´å°±æ˜¯å¤§å®¶éƒ½ä¸æ„¿çœ‹åˆ°çš„äº†).\n\næœ€å, ç”±äº CMS é‡‡ç”¨â€æ ‡è®°-æ¸…é™¤â€ç®—æ³•å®ç°, å¯èƒ½ä¼šäº§ç”Ÿå¤§é‡å†…å­˜ç¢ç‰‡. å†…å­˜ç¢ç‰‡è¿‡å¤šå¯èƒ½ä¼šå¯¼è‡´æ—  æ³•åˆ†é…å¤§å¯¹è±¡è€Œæå‰è§¦å‘ Full GC. å›  æ­¤ CMS æä¾›äº†-XX:+UseCMSCompactAtFullCollection å¼€å…³å‚æ•°, ç”¨äºåœ¨ Full GC åå†æ‰§è¡Œä¸€ä¸ªç¢ç‰‡æ•´ç†è¿‡ç¨‹.ä½†å†…å­˜æ•´ç†æ˜¯æ— æ³•å¹¶å‘çš„, å†…å­˜ç¢ç‰‡é—®é¢˜è™½ç„¶æ²¡æœ‰äº†, ä½†åœé¡¿æ—¶é—´ä¹Ÿå› æ­¤å˜é•¿äº†, å› æ­¤ CMS è¿˜æä¾›äº†å¦å¤–ä¸€ä¸ªå‚æ•°-XX:CMSFullGCsBeforeCompaction ç”¨äºè®¾ç½®åœ¨æ‰§è¡Œ N æ¬¡ä¸è¿›è¡Œå†…å­˜æ•´ç†çš„ Full GC å, è·Ÿç€æ¥ä¸€æ¬¡å¸¦æ•´ç†çš„(é»˜è®¤ä¸º 0: æ¯æ¬¡è¿›å…¥ Full GC æ—¶éƒ½è¿›è¡Œç¢ç‰‡æ•´ç†).\n\n##### åˆ†åŒºæ”¶é›†- G1 æ”¶é›†å™¨\n\nG1(Garbage-First)æ˜¯ä¸€æ¬¾é¢å‘æœåŠ¡ç«¯åº”ç”¨çš„æ”¶é›†å™¨, ä¸»è¦ç›®æ ‡ç”¨äºé…å¤‡å¤šé¢— CPU çš„æœåŠ¡å™¨æ²»ç†å¤§å†…å­˜.\n\n-G1 is planned as the long term replacement for the Concurrent Mark-Sweep Collector(CMS).\n\n-XX:+UseG1GC å¯ç”¨ G1 æ”¶é›†å™¨.\n\nä¸å…¶ä»–åŸºäºåˆ†ä»£çš„æ”¶é›†å™¨ä¸åŒ, G1 å°†æ•´ä¸ª Java å †åˆ’åˆ†ä¸ºå¤šä¸ªå¤§å°ç›¸ç­‰çš„ç‹¬ç«‹åŒºåŸŸ(Region), è™½ç„¶è¿˜ä¿ç•™æœ‰æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„æ¦‚å¿µ, ä½†æ–°ç”Ÿä»£å’Œè€å¹´ä»£ä¸å†æ˜¯ç‰©ç†éš”ç¦»çš„äº†,å®ƒä»¬éƒ½æ˜¯ä¸€éƒ¨åˆ† Region(ä¸éœ€è¦è¿ç»­)çš„é›†åˆ.å¦‚ï¼š\n![img](https://alightyoung.gitee.io/static/img/18.png)\n\næ¯å—åŒºåŸŸæ—¢æœ‰å¯èƒ½å±äº O åŒºã€ä¹Ÿæœ‰å¯èƒ½æ˜¯ Y åŒº, å› æ­¤ä¸éœ€è¦ä¸€æ¬¡å°±å¯¹æ•´ä¸ªè€å¹´ä»£/æ–°ç”Ÿä»£å›æ”¶. è€Œæ˜¯å½“çº¿ç¨‹å¹¶å‘å¯»æ‰¾å¯å›æ”¶çš„å¯¹è±¡æ—¶, æœ‰äº›åŒºå—åŒ…å«å¯å›æ”¶çš„å¯¹è±¡è¦æ¯”å…¶ä»–åŒºå—å¤šå¾ˆå¤š. è™½ç„¶åœ¨æ¸…ç†è¿™äº›åŒºå—æ—¶ G1 ä»ç„¶éœ€è¦æš‚åœåº”ç”¨çº¿ç¨‹, ä½†å¯ä»¥ç”¨ç›¸å¯¹è¾ƒå°‘çš„æ—¶é—´ä¼˜å…ˆå›æ”¶åƒåœ¾è¾ƒå¤šçš„ Region. è¿™ç§æ–¹å¼ä¿è¯äº† G1 å¯ä»¥åœ¨æœ‰é™çš„æ—¶é—´å†…è·å–å°½å¯èƒ½é«˜çš„æ”¶é›†æ•ˆç‡.\n\nG1 çš„æ–°ç”Ÿä»£æ”¶é›†è·Ÿ ParNew ç±»ä¼¼: å­˜æ´»çš„å¯¹è±¡è¢«è½¬ç§»åˆ°ä¸€ä¸ª/å¤šä¸ª Survivor Regions. å¦‚æœå­˜æ´»æ—¶é—´è¾¾åˆ°é˜€å€¼, è¿™éƒ¨åˆ†å¯¹è±¡å°±ä¼šè¢«æå‡åˆ°è€å¹´ä»£.å¦‚å›¾ï¼š\n![img](https://alightyoung.gitee.io/static/img/19.png)\n\nå…¶ç‰¹å®šæ˜¯ï¼š\n\n-   ä¸€æ•´å—å †å†…å­˜è¢«åˆ†ä¸ºå¤šä¸ª Regions.\n-   å­˜æ´»å¯¹è±¡è¢«æ‹·è´åˆ°æ–°çš„ Survivor åŒºæˆ–è€å¹´ä»£.\n-   å¹´è½»ä»£å†…å­˜ç”±ä¸€ç»„ä¸è¿ç»­çš„ heap åŒºç»„æˆ, è¿™ç§æ–¹æ³•ä½¿å¾—å¯ä»¥åŠ¨æ€è°ƒæ•´å„ä»£åŒºåŸŸå°ºå¯¸.\n-   Young GC ä¼šæœ‰ STW äº‹ä»¶, è¿›è¡Œæ—¶æ‰€æœ‰åº”ç”¨ç¨‹åºçº¿ç¨‹éƒ½ä¼šè¢«æš‚åœ.\n-   å¤šçº¿ç¨‹å¹¶å‘ GC.\n\nG1 è€å¹´ä»£ GC ç‰¹ç‚¹å¦‚ä¸‹:\n\nå¹¶å‘æ ‡è®°é˜¶æ®µ\n\n1. åœ¨ä¸åº”ç”¨ç¨‹åºå¹¶å‘æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¼šè®¡ç®—æ´»è·ƒåº¦ä¿¡æ¯.\n2. è¿™äº›æ´»è·ƒåº¦ä¿¡æ¯æ ‡è¯†å‡ºé‚£äº› regions æœ€é€‚åˆåœ¨ STW æœŸé—´å›æ”¶(which regions will be best to reclaim during an evacuation pause).\n3. ä¸åƒ CMS æœ‰æ¸…ç†é˜¶æ®µ.\n\nå†æ¬¡æ ‡è®°é˜¶æ®µ\n\n1. ä½¿ç”¨ Snapshot-at-the-Beginning(SATB)ç®—æ³•æ¯” CMS å¿«å¾—å¤š.\n2. ç©º region ç›´æ¥è¢«å›æ”¶.\n\næ‹·è´/æ¸…ç†é˜¶æ®µ(Copying/Cleanup Phase)\n\n1. å¹´è½»ä»£ä¸è€å¹´ä»£åŒæ—¶å›æ”¶.\n2. è€å¹´ä»£å†…å­˜å›æ”¶ä¼šåŸºäºä»–çš„æ´»è·ƒåº¦ä¿¡æ¯.\n\n### JVM ä¼˜åŒ–\n\n#### JDK å¸¸ç”¨ JVM ä¼˜åŒ–ç›¸å…³å‘½ä»¤\n\n| bin       | æè¿°                                                                                       | åŠŸèƒ½                                                                        |\n| --------- | ------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------- |\n| jps       | æ‰“å° Hotspot VM è¿›ç¨‹                                                                       | VMIDã€JVM å‚æ•°ã€main()å‡½æ•°å‚æ•°ã€ä¸»ç±»å/Jar è·¯å¾„                             |\n| jstat     | æŸ¥çœ‹ Hotspot VM è¿è¡Œæ—¶ä¿¡æ¯                                                                 | ç±»åŠ è½½ã€å†…å­˜ã€GC[å¯åˆ†ä»£æŸ¥çœ‹]ã€JIT ç¼–è¯‘å‘½ä»¤æ ¼å¼ï¼šjstat -gc 10340250 20       |\n| jinfo     | æŸ¥çœ‹å’Œä¿®æ”¹è™šæ‹Ÿæœºå„é¡¹é…ç½®                                                                   | -flag name=value                                                            |\n| jmap      | heapdump: ç”Ÿæˆ VM å †è½¬å‚¨å¿«ç…§ã€æŸ¥è¯¢ finalize æ‰§è¡Œé˜Ÿåˆ—ã€Java å †å’Œæ°¸ä¹…ä»£è¯¦ç»†ä¿¡æ¯              | jmap-dump:live,format=b,file=heap.bin[VMID]                                 |\n| jstack    | æŸ¥çœ‹ VM å½“å‰æ—¶åˆ»çš„çº¿ç¨‹å¿«ç…§: å½“å‰ VM å†…æ¯ä¸€æ¡çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•å †æ ˆé›†åˆ                     | Thread.getAllStackTraces()æä¾›äº†ç±»ä¼¼çš„åŠŸèƒ½                                  |\n| javap     | æŸ¥çœ‹ç» javac ä¹‹åäº§ç”Ÿçš„ JVM å­—èŠ‚ç ä»£ç                                                      | è‡ªåŠ¨è§£æ.class æ–‡ä»¶, é¿å…äº†å»ç†è§£ class æ–‡ä»¶æ ¼å¼ä»¥åŠæ‰‹åŠ¨è§£æ class æ–‡ä»¶å†…å®¹ |\n| jcmd      | ä¸€ä¸ªå¤šåŠŸèƒ½å·¥å…·, å¯ä»¥ç”¨æ¥å¯¼å‡ºå †, æŸ¥çœ‹ Java è¿›ç¨‹ã€å¯¼å‡ºçº¿ç¨‹ä¿¡æ¯ã€ æ‰§è¡Œ GCã€æŸ¥çœ‹æ€§èƒ½ç›¸å…³æ•°æ®ç­‰ | å‡ ä¹é›†åˆäº† jpsã€jstatã€jinfoã€jmapã€jstack æ‰€æœ‰åŠŸèƒ½                         |\n| jconsole  | åŸºäº JMX çš„å¯è§†åŒ–ç›‘è§†ã€ç®¡ç†å·¥å…·                                                            | å¯ä»¥æŸ¥çœ‹å†…å­˜ã€çº¿ç¨‹ã€ç±»ã€CPU ä¿¡æ¯, ä»¥åŠå¯¹ JMX MBean è¿›è¡Œç®¡ç†                 |\n| jvisualvm | JDK ä¸­æœ€å¼ºå¤§è¿è¡Œç›‘è§†å’Œæ•…éšœå¤„ç†å·¥å…·                                                         | å¯ä»¥ç›‘æ§å†…å­˜æ³„éœ²ã€è·Ÿè¸ªåƒåœ¾å›æ”¶ã€æ‰§è¡Œæ—¶å†…å­˜åˆ†æã€CPU åˆ†æã€çº¿ç¨‹åˆ†æâ€¦         |\n\n##### jps\n\njps -lï¼šæ˜¾ç¤ºçº¿ç¨‹ id å’Œæ‰§è¡Œçº¿ç¨‹çš„ä¸»ç±»å\njps -vï¼šæ˜¾ç¤ºçº¿ç¨‹ id å’Œæ‰§è¡Œçº¿ç¨‹çš„ä¸»ç±»åå’Œ JVM é…ç½®ä¿¡æ¯\n\n##### jstat\n\njstat -å‚æ•° çº¿ç¨‹ id æ‰§è¡Œæ—¶é—´ï¼ˆå•ä½æ¯«ç§’ï¼‰ æ‰§è¡Œæ¬¡æ•°\n\njstat -gc 4488 30 10\n\n![](https://s2.ax1x.com/2019/11/22/MTlnI0.png)\n\n-   SXC -survivor åˆå§‹ç©ºé—´å¤§å°ï¼Œå•ä½å­—èŠ‚ã€‚\n-   SXU - survivor ä½¿ç”¨ç©ºé—´å¤§å°ï¼Œ å•ä½å­—èŠ‚ã€‚\n-   EC - eden åˆå§‹ç©ºé—´å¤§å°\n-   EU - eden ä½¿ç”¨ç©ºé—´å¤§å°\n-   OC - old åˆå§‹ç©ºé—´å¤§å°\n-   OU - old ä½¿ç”¨ç©ºé—´å¤§å°\n-   PC - permanent åˆå§‹ç©ºé—´å¤§å°\n-   PU - permanent ä½¿ç”¨ç©ºé—´å¤§å°\n-   YGC - youngGC æ”¶é›†æ¬¡æ•°\n-   YGCT - youngGC æ”¶é›†ä½¿ç”¨æ—¶é•¿ï¼Œ å•ä½ç§’\n-   FGC - fullGC æ”¶é›†æ¬¡æ•°\n-   FGCT - fullGC æ”¶é›†ä½¿ç”¨æ—¶é•¿\n-   GCT - æ€»è®¡æ”¶é›†ä½¿ç”¨æ€»æ—¶é•¿ YGCT+FGCT\n\n##### Java VisualVM\n\nä¸€ä¸ª JDK å†…ç½®çš„å›¾å½¢åŒ– VM ç›‘è§†ç®¡ç†å·¥å…·\n\n##### visualgc æ’ä»¶\n\nJava VisualVM ä¸­ä½¿ç”¨çš„æ’ä»¶\n\n#### JVM å¸¸è§å‚æ•°\n\né…ç½®æ–¹å¼ï¼šjava [options] MainClass [arguments]\n\noptions - JVM å¯åŠ¨å‚æ•°ã€‚ é…ç½®å¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œå‚æ•°ä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ã€‚\n\nå‚æ•°å‘½åï¼š å¸¸è§ä¸º -å‚æ•°å\n\nå‚æ•°èµ‹å€¼ï¼š å¸¸è§ä¸º -å‚æ•°å=å‚æ•°å€¼ | -å‚æ•°å:å‚æ•°å€¼\n\n##### å†…å­˜è®¾ç½®\n\n-   -Xms:åˆå§‹å †å¤§å°ï¼ŒJVM å¯åŠ¨çš„æ—¶å€™ï¼Œç»™å®šå †ç©ºé—´å¤§å°ã€‚\n-   -Xmx:æœ€å¤§å †å¤§å°ï¼ŒJVM è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœåˆå§‹å †ç©ºé—´ä¸è¶³çš„æ—¶å€™ï¼Œæœ€å¤§å¯ä»¥æ‰©å±•åˆ°å¤šå°‘ã€‚\n-   -Xmnï¼šè®¾ç½®å¹´è½»ä»£å¤§å°ã€‚æ•´ä¸ªå †å¤§å°=å¹´è½»ä»£å¤§å°+å¹´è€ä»£å¤§å°+æŒä¹…ä»£å¤§å°ã€‚æŒä¹…ä»£ä¸€èˆ¬å›ºå®šå¤§å°ä¸º 64mï¼Œæ‰€ä»¥å¢å¤§å¹´è½»ä»£åï¼Œå°†ä¼šå‡å°å¹´è€ä»£å¤§å°ã€‚æ­¤å€¼å¯¹ç³»ç»Ÿæ€§èƒ½å½±å“è¾ƒå¤§ï¼ŒSun å®˜æ–¹æ¨èé…ç½®ä¸ºæ•´ä¸ªå †çš„ 3/8ã€‚\n-   -Xssï¼š è®¾ç½®æ¯ä¸ªçº¿ç¨‹çš„ Java æ ˆå¤§å°ã€‚JDK5.0 ä»¥åæ¯ä¸ªçº¿ç¨‹ Java æ ˆå¤§å°ä¸º 1Mï¼Œä»¥å‰æ¯ä¸ªçº¿ç¨‹å †æ ˆå¤§å°ä¸º 256Kã€‚æ ¹æ®åº”ç”¨çš„çº¿ç¨‹æ‰€éœ€å†…å­˜å¤§å°è¿›è¡Œè°ƒæ•´ã€‚åœ¨ç›¸åŒç‰©ç†å†…å­˜ä¸‹ï¼Œå‡å°è¿™ä¸ªå€¼èƒ½ç”Ÿæˆæ›´å¤šçš„çº¿ç¨‹ã€‚ä½†æ˜¯æ“ä½œç³»ç»Ÿå¯¹ä¸€ä¸ªè¿›ç¨‹å†…çš„çº¿ç¨‹æ•°è¿˜æ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸èƒ½æ— é™ç”Ÿæˆï¼Œç»éªŒå€¼åœ¨ 3000~5000 å·¦å³ã€‚\n-   -XX:NewSize=n:è®¾ç½®å¹´è½»ä»£å¤§å°\n-   -XX:NewRatio=n:è®¾ç½®å¹´è½»ä»£å’Œå¹´è€ä»£çš„æ¯”å€¼ã€‚å¦‚:ä¸º 3ï¼Œè¡¨ç¤ºå¹´è½»ä»£ä¸å¹´è€ä»£æ¯”å€¼ä¸º 1ï¼š3ï¼Œå¹´è½»ä»£å æ•´ä¸ªå¹´è½»ä»£+å¹´è€ä»£å’Œçš„ 1/4\n-   -XX:SurvivorRatio=n:å¹´è½»ä»£ä¸­ Eden åŒºä¸ä¸¤ä¸ª Survivor åŒºçš„æ¯”å€¼ã€‚æ³¨æ„ Survivor åŒºæœ‰ä¸¤ä¸ªã€‚å¦‚ï¼š3ï¼Œè¡¨ç¤º Edenï¼šSurvivor=3ï¼š2ï¼Œä¸€ä¸ª Survivor åŒºå æ•´ä¸ªå¹´è½»ä»£çš„ 1/5\n-   -XX:MaxPermSize=n:è®¾ç½®æŒä¹…ä»£å¤§å°\n-   -XX:MaxTenuringThresholdï¼šè®¾ç½®åƒåœ¾æœ€å¤§å¹´é¾„ã€‚å¦‚æœè®¾ç½®ä¸º 0 çš„è¯ï¼Œåˆ™å¹´è½»ä»£å¯¹è±¡ä¸ç»è¿‡ Survivor åŒºï¼Œç›´æ¥è¿›å…¥å¹´è€ä»£ã€‚å¯¹äºå¹´è€ä»£æ¯”è¾ƒå¤šçš„åº”ç”¨ï¼Œå¯ä»¥æé«˜æ•ˆç‡ã€‚å¦‚æœå°†æ­¤å€¼è®¾ç½®ä¸ºä¸€ä¸ªè¾ƒå¤§å€¼ï¼Œåˆ™å¹´è½»ä»£å¯¹è±¡ä¼šåœ¨ Survivor åŒºè¿›è¡Œå¤šæ¬¡å¤åˆ¶ï¼Œè¿™æ ·å¯ä»¥å¢åŠ å¯¹è±¡å†å¹´è½»ä»£çš„å­˜æ´»æ—¶é—´ï¼Œå¢åŠ åœ¨å¹´è½»ä»£å³è¢«å›æ”¶çš„æ¦‚ç‡ã€‚\n\n##### å†…å­˜è®¾ç½®ç»éªŒåˆ†äº«\n\nJVM ä¸­æœ€å¤§å †å¤§å°æœ‰ä¸‰æ–¹é¢é™åˆ¶ï¼šç›¸å…³æ“ä½œç³»ç»Ÿçš„æ•°æ®æ¨¡å‹ï¼ˆ32-bt è¿˜æ˜¯ 64-bitï¼‰é™åˆ¶ï¼›ç³»ç»Ÿçš„å¯ç”¨è™šæ‹Ÿå†…å­˜é™åˆ¶ï¼›ç³»ç»Ÿçš„å¯ç”¨ç‰©ç†å†…å­˜é™åˆ¶ã€‚32 ä½ç³»ç»Ÿ ä¸‹ï¼Œä¸€èˆ¬é™åˆ¶åœ¨ 1.5G~2Gï¼›64 ä¸ºæ“ä½œç³»ç»Ÿå¯¹å†…å­˜æ— é™åˆ¶ã€‚\n\nTomcat é…ç½®æ–¹å¼ï¼š ç¼–å†™ catalina.bat|catalina.shï¼Œå¢åŠ  JAVA_OPTS å‚æ•°è®¾ç½®ã€‚windows\nå’Œ linux é…ç½®æ–¹å¼ä¸åŒã€‚windows - set \"JAVA_OPTS=%JAVA_OPTS% è‡ªå®šä¹‰å‚æ•°\"ï¼›linux -\nJAVA_OPTS=\"$JAVA_OPTS è‡ªå®šä¹‰å‚æ•°\"\n\nå¸¸è§è®¾ç½®ï¼š\n\n-   -Xmx3550m -Xms3550m -Xmn2g -Xss128k é€‚åˆå¼€å‘è¿‡ç¨‹çš„æµ‹è¯•åº”ç”¨ã€‚è¦æ±‚ç‰©ç†å†…å­˜å¤§äº 4Gã€‚\n-   -Xmx3550m -Xms3550m -Xss128k -XX:NewRatio=4 -XX:SurvivorRatio=4\n-   -XX:MaxPermSize=160m -XX:MaxTenuringThreshold=0 é€‚åˆé«˜å¹¶å‘æœ¬åœ°æµ‹è¯•ä½¿ç”¨ã€‚ä¸”å¤§æ•°æ®å¯¹è±¡ç›¸å¯¹è¾ƒå¤šï¼ˆå¦‚ IO æµï¼‰ç¯å¢ƒï¼š 16G ç‰©ç†å†…å­˜ï¼Œé«˜å¹¶å‘æœåŠ¡ï¼Œé‡é‡çº§å¯¹è±¡ä¸­ç­‰ï¼ˆçº¿ç¨‹æ± ï¼Œè¿æ¥æ± ç­‰ï¼‰ï¼Œå¸¸ç”¨å¯¹è±¡\n    æ¯”ä¾‹ä¸º 40%ï¼ˆè¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„å¯¹è±¡ 40%æ˜¯ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„ï¼‰\n-   -Xmx10G -Xms10G -Xss1M -XX:NewRatio=3 -XX:SurvivorRatio=4 -XX:MaxPermSize=2048m\n-   -XX:MaxTenuringThreshold=5\n\n##### æ”¶é›†å™¨è®¾ç½®\n\næ”¶é›†å™¨é…ç½®çš„æ—¶å€™ï¼Œæ¬¡æ”¶é›†å™¨å’Œå…¨æ”¶é›†å™¨å¿…é¡»åŒ¹é…ã€‚\n\n-   -XX:+UseSerialGC:è®¾ç½®ä¸²è¡Œæ”¶é›†å™¨ï¼Œå¹´è½»å¸¦æ”¶é›†å™¨ï¼Œ æ¬¡æ”¶é›†å™¨\n-   -XX:+UseParallelGC:è®¾ç½®å¹¶è¡Œæ”¶é›†å™¨\n-   -XX:+UseParNewGC:è®¾ç½®å¹´è½»ä»£ä¸ºå¹¶è¡Œæ”¶é›†ã€‚å¯ä¸ CMS æ”¶é›†åŒæ—¶ä½¿ç”¨ã€‚JDK5.0 ä»¥ä¸Šï¼ŒJVM ä¼šæ ¹æ®ç³»ç»Ÿé…ç½®è‡ªè¡Œè®¾ç½®ï¼Œæ‰€ä»¥æ— éœ€å†è®¾ç½®æ­¤å€¼ã€‚\n-   -XX:+UseParallelOldGC:è®¾ç½®å¹¶è¡Œå¹´è€ä»£æ”¶é›†å™¨ï¼ŒJDK6.0 æ”¯æŒå¯¹å¹´è€ä»£å¹¶è¡Œæ”¶é›†ã€‚\n-   -XX:+UseConcMarkSweepGC:è®¾ç½®å¹´è€ä»£å¹¶å‘æ”¶é›†å™¨ï¼Œæµ‹è¯•ä¸­é…ç½®è¿™ä¸ªä»¥åï¼Œ-XX:NewRatio çš„é…ç½®å¤±æ•ˆï¼ŒåŸå› ä¸æ˜ã€‚æ‰€ä»¥ï¼Œæ­¤æ—¶å¹´è½»ä»£å¤§å°æœ€å¥½ç”¨-Xmn è®¾ç½®ã€‚\n-   -XX:+UseG1GC:è®¾ç½® G1 æ”¶é›†å™¨\n\n##### åƒåœ¾å›æ”¶ç»Ÿè®¡ä¿¡æ¯\n\nç±»ä¼¼æ—¥å¿—çš„é…ç½®ä¿¡æ¯ã€‚ä¼šæœ‰æ§åˆ¶å°ç›¸å…³ä¿¡æ¯è¾“å‡ºã€‚ å•†ä¸šé¡¹ç›®ä¸Šçº¿çš„æ—¶å€™ï¼Œä¸å…è®¸ä½¿ç”¨ã€‚\nä¸€å®šä½¿ç”¨ loggc\n\n-   -XX:+PrintGC\n-   -XX:+Printetails\n-   -XX:+PrintGCTimeStamps\n-   -Xloggc:filename\n\n##### å¹¶è¡Œæ”¶é›†å™¨è®¾ç½®\n\n-   -XX:ParallelGCThreads=n:è®¾ç½®å¹¶è¡Œæ”¶é›†å™¨æ”¶é›†æ—¶æœ€å¤§çº¿ç¨‹æ•°ä½¿ç”¨çš„ CPU æ•°ã€‚å¹¶è¡Œæ”¶é›†çº¿ç¨‹æ•°ã€‚\n-   -XX:MaxGCPauseMillis=n:è®¾ç½®å¹¶è¡Œæ”¶é›†æœ€å¤§æš‚åœæ—¶é—´ï¼Œå•ä½æ¯«ç§’ã€‚å¯ä»¥å‡å°‘ STW æ—¶é—´ã€‚\n-   -XX:GCTimeRatio=n:è®¾ç½®åƒåœ¾å›æ”¶æ—¶é—´å ç¨‹åºè¿è¡Œæ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚å…¬å¼ä¸º 1/(1+n)å¹¶å‘æ”¶é›†å™¨è®¾ç½®\n-   -XX:+CMSIncrementalMode:è®¾ç½®ä¸ºå¢é‡æ¨¡å¼ã€‚é€‚ç”¨äºå• CPU æƒ…å†µã€‚\n-   -XX:+UseAdaptiveSizePolicyï¼šè®¾ç½®æ­¤é€‰é¡¹åï¼Œå¹¶è¡Œæ”¶é›†å™¨ä¼šè‡ªåŠ¨é€‰æ‹©å¹´è½»ä»£åŒºå¤§å°å’Œç›¸åº”çš„ Survivor åŒºæ¯”ä¾‹ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ç³»ç»Ÿè§„å®šçš„æœ€ä½ç›¸åº”æ—¶é—´æˆ–è€…æ”¶é›†é¢‘ç‡ç­‰ï¼Œæ­¤å€¼å»ºè®®ä½¿ç”¨å¹¶è¡Œæ”¶é›†å™¨æ—¶ï¼Œä¸€ç›´æ‰“å¼€ã€‚\n-   -XX:CMSFullGCsBeforeCompaction=nï¼šç”±äºå¹¶å‘æ”¶é›†å™¨ä¸å¯¹å†…å­˜ç©ºé—´è¿›è¡Œå‹ç¼©ã€æ•´ç†ï¼Œæ‰€ä»¥è¿è¡Œä¸€æ®µæ—¶é—´ä»¥åä¼šäº§ç”Ÿâ€œç¢ç‰‡â€ï¼Œä½¿å¾—è¿è¡Œæ•ˆç‡é™ä½ã€‚æ­¤å€¼è®¾ç½®è¿è¡Œå¤šå°‘æ¬¡ GC ä»¥åå¯¹å†…å­˜ç©ºé—´è¿›è¡Œå‹ç¼©ã€æ•´ç†ã€‚\n-   -XX:+UseCMSCompactAtFullCollectionï¼šæ‰“å¼€å¯¹å¹´è€ä»£çš„å‹ç¼©ã€‚å¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼Œä½†æ˜¯å¯\n    ä»¥æ¶ˆé™¤ç¢ç‰‡\n\n##### æ”¶é›†å™¨è®¾ç½®ç»éªŒåˆ†äº«\n\nå…³äºæ”¶é›†å™¨çš„é€‰æ‹© JVM ç»™äº†ä¸‰ç§é€‰æ‹©ï¼šä¸²è¡Œæ”¶é›†å™¨ã€å¹¶è¡Œæ”¶é›†å™¨ã€å¹¶å‘æ”¶é›†å™¨ï¼Œä½†æ˜¯ä¸²è¡Œæ”¶é›†å™¨åªé€‚ç”¨äºå°æ•°æ®é‡çš„æƒ…å†µï¼Œæ‰€ä»¥è¿™é‡Œçš„é€‰æ‹©ä¸»è¦é’ˆå¯¹å¹¶è¡Œæ”¶é›†å™¨å’Œå¹¶å‘æ”¶é›†å™¨ã€‚\n\né»˜è®¤æƒ…å†µä¸‹ï¼ŒJDK5.0 ä»¥å‰éƒ½æ˜¯ä½¿ç”¨ä¸²è¡Œæ”¶é›†å™¨ï¼Œå¦‚æœæƒ³ä½¿ç”¨å…¶ä»–æ”¶é›†å™¨éœ€è¦åœ¨å¯åŠ¨æ—¶åŠ å…¥ç›¸åº”å‚æ•°ã€‚JDK5.0 ä»¥åï¼ŒJVM ä¼šæ ¹æ®å½“å‰ç³»ç»Ÿé…ç½®è¿›è¡Œåˆ¤æ–­ã€‚\n\nå¸¸è§é…ç½®ï¼š\n\nå¹¶è¡Œæ”¶é›†å™¨ä¸»è¦ä»¥åˆ°è¾¾ä¸€å®šçš„ååé‡ä¸ºç›®æ ‡ï¼Œé€‚ç”¨äºç§‘å­¦è®¡ç®—å’Œåå°å¤„ç†ç­‰ã€‚\n\n> -Xmx3800m -Xms3800m -Xmn2g -Xss128k -XX:+UseParallelGC -XX:ParallelGCThreads=20\n> ä½¿ç”¨ ParallelGC ä½œä¸ºå¹¶è¡Œæ”¶é›†å™¨ï¼Œ GC çº¿ç¨‹ä¸º 20ï¼ˆCPU æ ¸å¿ƒæ•° `>=` 20 æ—¶ï¼‰ï¼Œå†…å­˜é—®é¢˜æ ¹æ®ç¡¬ä»¶é…ç½®å…·ä½“æä¾›ã€‚å»ºè®®ä½¿ç”¨ç‰©ç†å†…å­˜çš„ 80%å·¦å³ä½œä¸º JVM å†…å­˜å®¹é‡ã€‚\n\n> -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:+UseParallelGC -XX:ParallelGCThreads=20\n> -XX:+UseParallelOldGC\n> æŒ‡å®šè€å¹´ä»£æ”¶é›†å™¨ï¼Œåœ¨ JDK5.0 ä¹‹åçš„ç‰ˆæœ¬ï¼ŒParallelGC å¯¹åº”çš„å…¨æ”¶é›†å™¨å°±æ˜¯ ParallelOldGCã€‚å¯ä»¥å¿½ç•¥\n\n> -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:+UseParallelGC -XX:MaxGCPauseMillis=100\n> æŒ‡å®š GC æ—¶æœ€å¤§æš‚åœæ—¶é—´ã€‚å•ä½æ˜¯æ¯«ç§’ã€‚æ¯æ¬¡ GC æœ€é•¿ä½¿ç”¨ 100 æ¯«ç§’ã€‚å¯ä»¥å°½å¯èƒ½æé«˜å·¥ä½œçº¿ç¨‹çš„æ‰§è¡Œèµ„æºã€‚\n\n> -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:+UseParallelGC -XX:MaxGCPauseMillis=100\n> -XX:+UseAdaptiveSizePolicy\n> UseAdaptiveSizePolicy æ˜¯æé«˜å¹´è½»ä»£ GC æ•ˆç‡çš„é…ç½®ã€‚æ¬¡æ”¶é›†å™¨æ‰§è¡Œæ•ˆç‡ã€‚å¹¶å‘æ”¶é›†å™¨ä¸»è¦æ˜¯ä¿è¯ç³»ç»Ÿçš„å“åº”æ—¶é—´ï¼Œå‡å°‘åƒåœ¾æ”¶é›†æ—¶çš„åœé¡¿æ—¶é—´ã€‚é€‚ç”¨äºåº”ç”¨æœåŠ¡å™¨ã€ç”µä¿¡é¢†åŸŸã€äº’è”ç½‘é¢†åŸŸç­‰ã€‚\n\n> -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:ParallelGCThreads=20-XX:+UseConcMarkSweepGC -XX:+UseParNewGC\n> æŒ‡å®šå¹´è½»ä»£æ”¶é›†å™¨ä¸º ParNewï¼Œå¹´è€ä»£æ”¶é›†å™¨ ConcurrentMarkSweepï¼Œå¹¶å‘ GC çº¿ç¨‹æ•°ä¸º 20ï¼ˆCPU æ ¸å¿ƒ `>=` 20ï¼‰ï¼Œå¹¶å‘ GC çš„çº¿ç¨‹æ•°å»ºè®®ä½¿ç”¨ï¼ˆCPU æ ¸å¿ƒæ•°+3ï¼‰/4 æˆ– CPU æ ¸å¿ƒæ•°ã€ä¸æ¨èä½¿ç”¨ã€‘ã€‚\n\n> -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:+UseConcMarkSweepGC\n> -XX:CMSFullGCsBeforeCompaction=5 -XX:+UseCMSCompactAtFullCollection\n> CMSFullGCsBeforeCompaction=5 æ‰§è¡Œ 5 æ¬¡ GC åï¼Œè¿è¡Œä¸€æ¬¡å†…å­˜çš„æ•´ç†ã€‚UseCMSCompactAtFullCollection æ‰§è¡Œè€å¹´ä»£å†…å­˜æ•´ç†ã€‚å¯ä»¥é¿å…å†…å­˜ç¢ç‰‡ï¼Œæé«˜ GC è¿‡ç¨‹ä¸­çš„æ•ˆç‡ï¼Œå‡å°‘åœé¡¿æ—¶é—´ã€‚\n\n##### ç®€å•æ€»ç»“\n\n**å¹´è½»ä»£å¤§å°é€‰æ‹©**\n\nå“åº”æ—¶é—´ä¼˜å…ˆçš„åº”ç”¨ï¼šå°½å¯èƒ½è®¾å¤§ï¼Œç›´åˆ°æ¥è¿‘ç³»ç»Ÿçš„æœ€ä½å“åº”æ—¶é—´é™åˆ¶ï¼ˆæ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼‰ã€‚åœ¨æ­¤ç§æƒ…å†µä¸‹ï¼Œå¹´è½»ä»£æ”¶é›†å‘ç”Ÿçš„é¢‘ç‡ä¹Ÿæ˜¯æœ€å°çš„ã€‚åŒæ—¶ï¼Œå‡å°‘åˆ°è¾¾å¹´è€ä»£çš„å¯¹è±¡ã€‚\n\nååé‡ä¼˜å…ˆçš„åº”ç”¨ï¼šå°½å¯èƒ½çš„è®¾ç½®å¤§ï¼Œå¯èƒ½åˆ°è¾¾ Gbit çš„ç¨‹åº¦ã€‚å› ä¸ºå¯¹å“åº”æ—¶é—´æ²¡æœ‰è¦æ±‚ï¼Œåƒåœ¾æ”¶é›†å¯ä»¥å¹¶è¡Œè¿›è¡Œï¼Œä¸€èˆ¬é€‚åˆ 8CPU ä»¥ä¸Šçš„åº”ç”¨ã€‚\n\n**å¹´è€ä»£å¤§å°é€‰æ‹©**\n\nå“åº”æ—¶é—´ä¼˜å…ˆçš„åº”ç”¨ï¼šå¹´è€ä»£ä½¿ç”¨å¹¶å‘æ”¶é›†å™¨ï¼Œæ‰€ä»¥å…¶å¤§å°éœ€è¦å°å¿ƒè®¾ç½®ï¼Œä¸€èˆ¬è¦è€ƒè™‘å¹¶å‘ä¼šè¯ç‡å’Œä¼šè¯æŒç»­æ—¶é—´ç­‰ä¸€äº›å‚æ•°ã€‚å¦‚æœå †è®¾ç½®å°äº†ï¼Œå¯ä»¥ä¼šé€ æˆå†…å­˜ç¢ç‰‡ã€é«˜å›æ”¶é¢‘ç‡ä»¥åŠåº”ç”¨æš‚åœè€Œä½¿ç”¨ä¼ ç»Ÿçš„æ ‡è®°æ¸…é™¤æ–¹å¼ï¼›å¦‚æœå †å¤§äº†ï¼Œåˆ™éœ€è¦è¾ƒé•¿çš„æ”¶é›†æ—¶é—´ã€‚æœ€ä¼˜åŒ–çš„æ–¹æ¡ˆï¼Œä¸€èˆ¬éœ€è¦å‚è€ƒä»¥ä¸‹æ•°æ®è·å¾—ï¼šå¹¶å‘åƒåœ¾æ”¶é›†ä¿¡æ¯æŒä¹…ä»£å¹¶å‘æ”¶é›†æ¬¡æ•°ä¼ ç»Ÿ GC ä¿¡æ¯èŠ±åœ¨å¹´è½»ä»£å’Œå¹´è€ä»£å›æ”¶ä¸Šçš„æ—¶é—´æ¯”ä¾‹å‡å°‘å¹´è½»ä»£å’Œå¹´è€ä»£èŠ±è´¹çš„æ—¶é—´ï¼Œä¸€èˆ¬ä¼šæé«˜åº”ç”¨çš„æ•ˆç‡\n\nååé‡ä¼˜å…ˆçš„åº”ç”¨ï¼šä¸€èˆ¬ååé‡ä¼˜å…ˆçš„åº”ç”¨éƒ½æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¹´è½»ä»£å’Œä¸€ä¸ªè¾ƒå°çš„å¹´è€ä»£ã€‚åŸå› æ˜¯ï¼Œè¿™æ ·å¯ä»¥å°½å¯èƒ½å›æ”¶æ‰å¤§éƒ¨åˆ†çŸ­æœŸå¯¹è±¡ï¼Œå‡å°‘ä¸­æœŸçš„å¯¹è±¡ï¼Œè€Œå¹´è€ä»£å­˜æ”¾é•¿æœŸå­˜æ´»å¯¹è±¡ã€‚\n\nè¾ƒå°å †å¼•èµ·çš„ç¢ç‰‡é—®é¢˜ï¼Œå› ä¸ºå¹´è€ä»£çš„å¹¶å‘æ”¶é›†å™¨ä½¿ç”¨æ ‡è®°ã€æ¸…é™¤ç®—æ³•ï¼Œæ‰€ä»¥ä¸ä¼šå¯¹å †è¿›è¡Œå‹ç¼©ã€‚å½“æ”¶é›†å™¨å›æ”¶æ—¶ï¼Œä»–ä¼šæŠŠç›¸é‚»çš„ç©ºé—´è¿›è¡Œåˆå¹¶ï¼Œè¿™æ ·å¯ä»¥åˆ†é…ç»™è¾ƒå¤§çš„å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå½“å †ç©ºé—´è¾ƒå°æ—¶ï¼Œè¿è¡Œä¸€æ®µæ—¶é—´ä»¥åï¼Œå°±ä¼šå‡ºç°â€œç¢ç‰‡â€ï¼Œå¦‚æœå¹¶å‘æ”¶é›†å™¨æ‰¾ä¸åˆ°è¶³å¤Ÿçš„ç©ºé—´ï¼Œé‚£ä¹ˆå¹¶å‘æ”¶é›†å™¨å°†ä¼šåœæ­¢ï¼Œç„¶åä½¿ç”¨ä¼ ç»Ÿçš„æ ‡è®°ã€æ•´ç†æ–¹å¼è¿›è¡Œå›æ”¶ã€‚å¦‚æœå‡ºç°â€œç¢ç‰‡â€ï¼Œå¯èƒ½éœ€è¦è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š\n\n-XX:+UseCMSCompactAtFullCollectionï¼šä½¿ç”¨å¹¶å‘æ”¶é›†å™¨æ—¶ï¼Œå¼€å¯å¯¹å¹´è€ä»£çš„å‹ç¼©ã€‚\n-XX:CMSFullGCsBeforeCompaction=0ï¼šä¸Šé¢é…ç½®å¼€å¯çš„æƒ…å†µä¸‹ï¼Œè¿™é‡Œè®¾ç½®å¤šå°‘æ¬¡ Full GC\nåï¼Œå¯¹å¹´è€ä»£è¿›è¡Œå‹ç¼©\n\n### over\n","post/2019/20191112/":"\r\n### ç®€ä»‹\r\nã€ŠJava å¼€å‘æ‰‹å†Œã€‹èµ·æºé‡Œé˜¿é‡Œï¼Œæœ€å¼€å§‹è¿˜æ˜¯å«ã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹ï¼Œä¸è¿‡åæ¥å…¬å¼€ä¹‹åå¾ˆå¤šç¤¾åŒºå¼€å‘è€…ä¹Ÿå‚ä¸åˆ°è¯¥æ‰‹å†Œçš„å®Œå–„ä¸­ï¼Œæ‰€ä»¥æœ€åæ”¹æˆäº†ã€ŠJava å¼€å‘æ‰‹å†Œã€‹ã€‚è¯¥æ‰‹å†Œæ¶‰åŠçš„é¢å¾ˆå¤šï¼Œæ€»çš„æ¥è¯´åˆ†æˆäº†7å¤§å—â€”â€”**ç¼–ç¨‹è§„çº¦**ã€**å¼‚å¸¸æ—¥å¿—**ã€**å•å…ƒæµ‹è¯•**ã€**å®‰å…¨è§„çº¦**ã€**MySQL æ•°æ®åº“**ã€**å·¥ç¨‹ç»“æ„**ã€**è®¾è®¡è§„çº¦**ï¼Œååˆ†è¯¦ç»†ã€‚åŒæ—¶è¿˜æœ‰IDEæ’ä»¶[Javaå¼€å‘è§„çº¦IDEæ’ä»¶](https://github.com/alibaba/p3c)ï¼Œæ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œäº†è§£ã€‚\r\n\r\n- [æ‰‹å†Œå®˜ç½‘ä¼ é€é—¨](https://developer.aliyun.com/special/tech-java)ã€‚\r\n\r\n    - [åå±±ç‰ˆæ‰‹å†Œä¼ é€é—¨pdfæ–‡ä»¶](https://alightyoung.gitee.io/static/pdf/Java-huashanxinban.pdf)\r\n    - ç‰ˆæœ¬ä»£å·ï¼š1.5.0\r\n    - æ›´æ–°æ—¥æœŸï¼š2019.06.19 \r\n    - åˆ¶å®šå›¢é˜Ÿï¼šé˜¿é‡Œå·´å·´ä¸ Java ç¤¾åŒºå¼€å‘è€…\r\n\r\n### over\r\nä¼ é€é—¨çœŸçœäº‹ - -\r\n\r\n\r\n\r\n\r\n","post/2019/20191116/":"\n### ç½‘ç»œç¼–ç¨‹ï¼ˆSocketï¼‰æ¦‚å¿µ\n\n>é¦–å…ˆæ³¨æ„ï¼ŒSocket ä¸æ˜¯ Java ä¸­ç‹¬æœ‰çš„æ¦‚å¿µï¼Œè€Œæ˜¯ä¸€ä¸ªè¯­è¨€æ— å…³æ ‡å‡†ã€‚ä»»ä½•å¯ä»¥å®ç°ç½‘ç»œç¼–ç¨‹çš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰ Socketã€‚\n\n#### Socket\nç½‘ç»œä¸Šçš„ä¸¤ä¸ªç¨‹åºé€šè¿‡ä¸€ä¸ªåŒå‘çš„é€šä¿¡è¿æ¥å®ç°æ•°æ®çš„äº¤æ¢ï¼Œè¿™ä¸ªè¿æ¥çš„ä¸€ç«¯ç§°ä¸ºä¸€ä¸ªsocketã€‚\n\nå»ºç«‹ç½‘ç»œé€šä¿¡è¿æ¥è‡³å°‘è¦ä¸€ä¸ª**ç«¯å£å·**ã€‚socket æœ¬è´¨æ˜¯ç¼–ç¨‹æ¥å£(API)ï¼Œå¯¹ **TCP/IP** çš„å°è£…ï¼ŒTCP/IP ä¹Ÿè¦æä¾›å¯ä¾›ç¨‹åºå‘˜åšç½‘ç»œå¼€å‘æ‰€ç”¨çš„æ¥å£ï¼Œè¿™å°±æ˜¯ Socket ç¼–ç¨‹æ¥å£\n\nHTTP æ˜¯è½¿è½¦ï¼Œæä¾›äº†å°è£…æˆ–è€…æ˜¾ç¤ºæ•°æ®çš„å…·ä½“å½¢å¼ï¼›Socket æ˜¯å‘åŠ¨æœºï¼Œæä¾›äº†ç½‘ç»œé€šä¿¡çš„èƒ½åŠ›ã€‚Socket çš„è‹±æ–‡åŸä¹‰æ˜¯â€œå­”â€æˆ–â€œæ’åº§â€ã€‚ä½œä¸º BSD UNIX çš„è¿›ç¨‹é€šä¿¡æœºåˆ¶ï¼Œå–åä¸€ç§æ„æ€ã€‚é€šå¸¸ä¹Ÿç§°ä½œ\"å¥—æ¥å­—\"ï¼Œç”¨äºæè¿° IP åœ°å€å’Œç«¯å£ï¼Œæ˜¯ä¸€ä¸ªé€šä¿¡é“¾çš„å¥æŸ„ï¼Œå¯ä»¥ç”¨æ¥å®ç°ä¸åŒè™šæ‹Ÿæœºæˆ–ä¸åŒè®¡ç®—æœºä¹‹é—´çš„é€šä¿¡ã€‚åœ¨Internet ä¸Šçš„ä¸»æœºä¸€èˆ¬è¿è¡Œäº†å¤šä¸ªæœåŠ¡è½¯ä»¶ï¼ŒåŒæ—¶æä¾›å‡ ç§æœåŠ¡ã€‚æ¯ç§æœåŠ¡éƒ½æ‰“å¼€ä¸€ä¸ª Socketï¼Œå¹¶ç»‘å®šåˆ°ä¸€ä¸ªç«¯å£ä¸Šï¼Œä¸åŒçš„ç«¯å£å¯¹åº”äºä¸åŒçš„æœåŠ¡ã€‚Socket æ­£å¦‚å…¶è‹±æ–‡åŸä¹‰é‚£æ ·ï¼Œåƒä¸€ä¸ªå¤šå­”æ’åº§ã€‚ä¸€å°ä¸»æœºçŠ¹å¦‚å¸ƒæ»¡å„ç§æ’åº§çš„æˆ¿é—´ï¼Œæ¯ä¸ªæ’åº§æœ‰ä¸€ä¸ªç¼–å·ï¼Œæœ‰çš„æ’åº§æä¾› 220 ä¼äº¤æµç”µï¼Œ æœ‰çš„æä¾› 110 ä¼äº¤æµç”µï¼Œæœ‰çš„åˆ™æä¾›æœ‰çº¿ç”µè§†èŠ‚ç›®ã€‚ å®¢æˆ·è½¯ä»¶å°†æ’å¤´æ’åˆ°ä¸åŒç¼–å·çš„æ’åº§ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸åŒçš„æœåŠ¡ã€‚\n\n#### Socket è¿æ¥æ­¥éª¤\næ ¹æ®è¿æ¥å¯åŠ¨çš„æ–¹å¼ä»¥åŠæœ¬åœ°å¥—æ¥å­—è¦è¿æ¥çš„ç›®æ ‡ï¼Œå¥—æ¥å­—ä¹‹é—´çš„è¿æ¥è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š**æœåŠ¡å™¨ç›‘å¬**ï¼Œ**å®¢æˆ·ç«¯è¯·æ±‚**ï¼Œ**è¿æ¥ç¡®è®¤**ã€‚ã€å¦‚æœåŒ…å«**æ•°æ®äº¤äº’**+**æ–­å¼€è¿æ¥**ï¼Œé‚£ä¹ˆä¸€å…±æ˜¯äº”ä¸ªæ­¥éª¤ã€‘\n\n1. æœåŠ¡å™¨ç›‘å¬ï¼šæ˜¯æœåŠ¡å™¨ç«¯å¥—æ¥å­—å¹¶ä¸å®šä½å…·ä½“çš„å®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œè€Œæ˜¯å¤„äºç­‰å¾…è¿æ¥çš„çŠ¶æ€ï¼Œå®æ—¶ç›‘æ§ç½‘ç»œçŠ¶æ€ã€‚\n\n2. å®¢æˆ·ç«¯è¯·æ±‚ï¼šæ˜¯æŒ‡ç”±å®¢æˆ·ç«¯çš„å¥—æ¥å­—æå‡ºè¿æ¥è¯·æ±‚ï¼Œè¦è¿æ¥çš„ç›®æ ‡æ˜¯æœåŠ¡å™¨ç«¯çš„å¥—æ¥å­—ã€‚ä¸ºæ­¤ï¼Œå®¢æˆ·ç«¯çš„å¥—æ¥å­—å¿…é¡»é¦–å…ˆæè¿°å®ƒè¦è¿æ¥çš„æœåŠ¡å™¨çš„å¥—æ¥å­—ï¼ŒæŒ‡å‡ºæœåŠ¡å™¨ç«¯å¥—æ¥å­—çš„åœ°å€å’Œç«¯å£å·ï¼Œç„¶åå°±å‘æœåŠ¡å™¨ç«¯å¥—æ¥å­—æå‡ºè¿æ¥è¯·æ±‚ã€‚\n\n3. è¿æ¥ç¡®è®¤ï¼šæ˜¯æŒ‡å½“æœåŠ¡å™¨ç«¯å¥—æ¥å­—ç›‘å¬åˆ°æˆ–è€…è¯´æ¥æ”¶åˆ°å®¢æˆ·ç«¯å¥—æ¥å­—çš„è¿æ¥è¯·æ±‚ï¼Œå®ƒå°±å“åº”å®¢æˆ·ç«¯å¥—æ¥å­—çš„è¯·æ±‚ï¼Œå»ºç«‹ä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼ŒæŠŠæœåŠ¡å™¨ç«¯å¥—æ¥å­—çš„æè¿°å‘ç»™å®¢æˆ·ç«¯ï¼Œä¸€æ—¦å®¢æˆ·ç«¯ç¡®è®¤äº†æ­¤æè¿°ï¼Œè¿æ¥å°±å»ºç«‹å¥½äº†ã€‚è€ŒæœåŠ¡å™¨ç«¯å¥—æ¥å­—ç»§ç»­å¤„äºç›‘å¬çŠ¶æ€ï¼Œç»§ç»­æ¥æ”¶å…¶ä»–å®¢æˆ·ç«¯å¥—æ¥å­—çš„è¿æ¥è¯·æ±‚ã€‚\n![img](https://alightyoung.gitee.io/static/img/25.png)\n\n#### Java ä¸­çš„ Socket\nåœ¨ java.net åŒ…æ˜¯ç½‘ç»œç¼–ç¨‹çš„åŸºç¡€ç±»åº“ã€‚å…¶ä¸­ ServerSocket å’Œ Socket æ˜¯ç½‘ç»œç¼–ç¨‹çš„åŸºç¡€ç±»å‹ã€‚ServerSocket æ˜¯æœåŠ¡ç«¯åº”ç”¨ç±»å‹ã€‚Socket æ˜¯å»ºç«‹è¿æ¥çš„ç±»å‹ã€‚å½“è¿æ¥å»ºç«‹æˆåŠŸåï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½ä¼šæœ‰ä¸€ä¸ª Socket å¯¹è±¡ç¤ºä¾‹ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ª Socket å¯¹è±¡ç¤ºä¾‹ï¼Œå®Œæˆä¼šè¯çš„æ‰€æœ‰æ“ä½œã€‚å¯¹äºä¸€ä¸ªå®Œæ•´çš„ç½‘ç»œè¿æ¥æ¥è¯´ï¼ŒSocket æ˜¯å¹³ç­‰çš„ï¼Œæ²¡æœ‰æœåŠ¡å™¨å®¢æˆ·ç«¯åˆ†çº§æƒ…å†µã€‚\n\n### åŒæ­¥&å¼‚æ­¥\nåŒæ­¥å’Œå¼‚æ­¥æ˜¯é’ˆå¯¹åº”ç”¨ç¨‹åºå’Œå†…æ ¸çš„äº¤äº’è€Œè¨€çš„ï¼ŒåŒæ­¥æŒ‡çš„æ˜¯ç”¨æˆ·è¿›ç¨‹è§¦å‘ IO æ“ä½œå¹¶ç­‰å¾…æˆ–è€…è½®è¯¢çš„å»çœ‹ IO æ“ä½œæ˜¯å¦å°±ç»ªï¼Œè€Œå¼‚æ­¥æ˜¯æŒ‡ç”¨æˆ·è¿›ç¨‹è§¦å‘ IO æ“ä½œä»¥åä¾¿å¼€å§‹åšè‡ªå·±çš„äº‹æƒ…ï¼Œè€Œå½“ IO æ“ä½œå·²ç»å®Œæˆçš„æ—¶å€™ä¼šå¾—åˆ° IO å®Œæˆçš„é€šçŸ¥ã€‚ä»¥é“¶è¡Œå–æ¬¾ä¸ºä¾‹ï¼š\n\nåŒæ­¥ ï¼š è‡ªå·±äº²è‡ªå‡ºé©¬æŒé“¶è¡Œå¡åˆ°é“¶è¡Œå–é’±ï¼ˆä½¿ç”¨åŒæ­¥ IO æ—¶ï¼ŒJava è‡ªå·±å¤„ç† IO è¯»å†™ï¼‰\n\nå¼‚æ­¥ ï¼š å§”æ‰˜ä¸€å°å¼Ÿæ‹¿é“¶è¡Œå¡åˆ°é“¶è¡Œå–é’±ï¼Œç„¶åç»™ä½ ï¼ˆä½¿ç”¨å¼‚æ­¥ IO æ—¶ï¼ŒJava å°† IO è¯»å†™å§”æ‰˜ç»™ OS å¤„ç†ï¼Œéœ€è¦å°†æ•°æ®ç¼“å†²åŒºåœ°å€å’Œå¤§å°ä¼ ç»™ OS(é“¶è¡Œå¡å’Œå¯†ç )ï¼ŒOS éœ€è¦æ”¯æŒå¼‚æ­¥ IOæ“ä½œ APIï¼‰ã€‚\n\n### é˜»å¡&éé˜»å¡\né˜»å¡å’Œéé˜»å¡æ˜¯é’ˆå¯¹äºè¿›ç¨‹åœ¨è®¿é—®æ•°æ®çš„æ—¶å€™ï¼Œæ ¹æ® IO æ“ä½œçš„å°±ç»ªçŠ¶æ€æ¥é‡‡å–çš„ä¸åŒæ–¹å¼ï¼Œè¯´ç™½äº†æ˜¯ä¸€ç§è¯»å–æˆ–è€…å†™å…¥æ“ä½œæ–¹æ³•çš„å®ç°æ–¹å¼ï¼Œé˜»å¡æ–¹å¼ä¸‹è¯»å–æˆ–è€…å†™å…¥å‡½æ•°å°†ä¸€ç›´ç­‰å¾…ï¼Œè€Œéé˜»å¡æ–¹å¼ä¸‹ï¼Œè¯»å–æˆ–è€…å†™å…¥æ–¹æ³•ä¼šç«‹å³è¿”å›ä¸€ä¸ªçŠ¶æ€å€¼ã€‚ä»¥é“¶è¡Œå–æ¬¾ä¸ºä¾‹ï¼šé˜»å¡ ï¼š ATM æ’é˜Ÿå–æ¬¾ï¼Œä½ åªèƒ½ç­‰å¾…ï¼ˆä½¿ç”¨é˜»å¡ IO æ—¶ï¼ŒJava è°ƒç”¨ä¼šä¸€ç›´é˜»å¡åˆ°è¯»å†™å®Œæˆæ‰è¿”å›ï¼‰ï¼›éé˜»å¡ ï¼š æŸœå°å–æ¬¾ï¼Œå–ä¸ªå·ï¼Œç„¶åååœ¨æ¤…å­ä¸Šåšå…¶å®ƒäº‹ï¼Œç­‰å·å¹¿æ’­ä¼šé€šçŸ¥ä½ åŠç†ï¼Œæ²¡åˆ°å·ä½ å°±ä¸èƒ½å»ï¼Œä½ å¯ä»¥ä¸æ–­é—®å¤§å ‚ç»ç†æ’åˆ°äº†æ²¡æœ‰ï¼Œå¤§å ‚ç»ç†å¦‚æœè¯´è¿˜æ²¡åˆ°ä½ å°±ä¸èƒ½å»ï¼ˆä½¿ç”¨éé˜»å¡ IO æ—¶ï¼Œå¦‚æœä¸èƒ½è¯»å†™ Java è°ƒç”¨ä¼šé©¬ä¸Šè¿”å›ï¼Œå½“ IO äº‹ä»¶åˆ†å‘å™¨é€šçŸ¥å¯è¯»å†™æ—¶å†ç»§ç»­è¿›è¡Œè¯»å†™ï¼Œä¸æ–­å¾ªç¯ç›´åˆ°è¯»å†™å®Œæˆï¼‰ã€‚\n\n### BIO ç¼–ç¨‹\nBlocking IOï¼š åŒæ­¥é˜»å¡çš„ç¼–ç¨‹æ–¹å¼ã€‚\n\nBIO ç¼–ç¨‹æ–¹å¼é€šå¸¸æ˜¯åœ¨ JDK1.4 ç‰ˆæœ¬ä¹‹å‰å¸¸ç”¨çš„ç¼–ç¨‹æ–¹å¼ã€‚ç¼–ç¨‹å®ç°è¿‡ç¨‹ä¸ºï¼šé¦–å…ˆåœ¨æœåŠ¡ç«¯å¯åŠ¨ä¸€ä¸ª ServerSocket æ¥ç›‘å¬ç½‘ç»œè¯·æ±‚ï¼Œå®¢æˆ·ç«¯å¯åŠ¨ Socket å‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ServerSocket ä¼šå»ºç«‹ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†æ­¤è¯·æ±‚ï¼Œå¦‚æœæœåŠ¡ç«¯æ²¡æœ‰çº¿ç¨‹å¯ç”¨ï¼Œå®¢æˆ·ç«¯åˆ™ä¼šé˜»å¡ç­‰å¾…æˆ–é­åˆ°æ‹’ç»ã€‚ä¸”å·²ç»å»ºç«‹å¥½çš„è¿æ¥ï¼Œåœ¨é€šè®¯è¿‡ç¨‹ä¸­ï¼Œæ˜¯åŒæ­¥çš„ã€‚åœ¨å¹¶å‘å¤„ç†æ•ˆç‡ä¸Šæ¯”è¾ƒä½ã€‚å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼š\n![img](https://alightyoung.gitee.io/static/img/26.png)\nåŒæ­¥å¹¶é˜»å¡ï¼ŒæœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªè¿æ¥ä¸€ä¸ªçº¿ç¨‹ï¼Œå³å®¢æˆ·ç«¯æœ‰è¿æ¥è¯·æ±‚æ—¶æœåŠ¡å™¨ç«¯å°±éœ€è¦å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œå¦‚æœè¿™ä¸ªè¿æ¥ä¸åšä»»ä½•äº‹æƒ…ä¼šé€ æˆä¸å¿…è¦çš„çº¿ç¨‹å¼€é”€ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡çº¿ç¨‹æ± æœºåˆ¶æ”¹å–„ã€‚\n\nBIO æ–¹å¼é€‚ç”¨äºè¿æ¥æ•°ç›®æ¯”è¾ƒå°ä¸”å›ºå®šçš„æ¶æ„ï¼Œè¿™ç§æ–¹å¼å¯¹æœåŠ¡å™¨èµ„æºè¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¹¶å‘å±€é™äºåº”ç”¨ä¸­ï¼ŒJDK1.4 ä»¥å‰çš„å”¯ä¸€é€‰æ‹©ï¼Œä½†ç¨‹åºç›´è§‚ç®€å•æ˜“ç†è§£ã€‚\n\nä½¿ç”¨çº¿ç¨‹æ± æœºåˆ¶æ”¹å–„åçš„ BIO æ¨¡å‹å›¾å¦‚ä¸‹:\n![img](https://alightyoung.gitee.io/static/img/27.png)\n\n### NIO ç¼–ç¨‹\nUnblocking IOï¼ˆNew IOï¼‰ï¼š åŒæ­¥éé˜»å¡çš„ç¼–ç¨‹æ–¹å¼ã€‚\n\nNIO æœ¬èº«æ˜¯åŸºäºäº‹ä»¶é©±åŠ¨æ€æƒ³æ¥å®Œæˆçš„ï¼Œå…¶ä¸»è¦æƒ³è§£å†³çš„æ˜¯ BIO çš„å¤§å¹¶å‘é—®é¢˜ï¼ŒNIO åŸºäº Reactorï¼Œå½“ socket æœ‰æµå¯è¯»æˆ–å¯å†™å…¥ socket æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šç›¸åº”çš„é€šçŸ¥å¼•ç”¨ç¨‹åºè¿›è¡Œå¤„ç†ï¼Œåº”ç”¨å†å°†æµè¯»å–åˆ°ç¼“å†²åŒºæˆ–å†™å…¥æ“ä½œç³»ç»Ÿã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå·²ç»ä¸æ˜¯ä¸€ä¸ªè¿æ¥å°±è¦å¯¹åº”ä¸€ä¸ªå¤„ç†çº¿ç¨‹äº†ï¼Œè€Œæ˜¯æœ‰æ•ˆçš„è¯·æ±‚ï¼Œå¯¹åº”ä¸€ä¸ªçº¿ç¨‹ï¼Œå½“è¿æ¥æ²¡æœ‰æ•°æ®æ—¶ï¼Œæ˜¯æ²¡æœ‰å·¥ä½œçº¿ç¨‹æ¥å¤„ç†çš„ã€‚\n\nNIO çš„æœ€é‡è¦çš„åœ°æ–¹æ˜¯å½“ä¸€ä¸ªè¿æ¥åˆ›å»ºåï¼Œä¸éœ€è¦å¯¹åº”ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸ªè¿æ¥ä¼šè¢«æ³¨å†Œåˆ°å¤šè·¯å¤ç”¨å™¨ä¸Šé¢ï¼Œæ‰€ä»¥æ‰€æœ‰çš„è¿æ¥åªéœ€è¦ä¸€ä¸ªçº¿ç¨‹å°±å¯ä»¥æå®šï¼Œå½“è¿™ä¸ªçº¿ç¨‹ä¸­çš„å¤šè·¯å¤ç”¨å™¨è¿›è¡Œè½®è¯¢çš„æ—¶å€™ï¼Œå‘ç°è¿æ¥ä¸Šæœ‰è¯·æ±‚çš„è¯ï¼Œæ‰å¼€å¯ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹æ¨¡å¼ã€‚\n\nåœ¨ NIO çš„å¤„ç†æ–¹å¼ä¸­ï¼Œå½“ä¸€ä¸ªè¯·æ±‚æ¥çš„è¯ï¼Œå¼€å¯çº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œå¯èƒ½ä¼šç­‰å¾…åç«¯åº”ç”¨çš„èµ„æº(JDBC è¿æ¥ç­‰)ï¼Œå…¶å®è¿™ä¸ªçº¿ç¨‹å°±è¢«é˜»å¡äº†ï¼Œå½“å¹¶å‘ä¸Šæ¥çš„è¯ï¼Œè¿˜æ˜¯ä¼šæœ‰ BIO ä¸€æ ·çš„é—®é¢˜ã€‚\n![img](https://alightyoung.gitee.io/static/img/28.png)\n\nåŒæ­¥éé˜»å¡ï¼ŒæœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªé€šé“ï¼Œå³å®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚éƒ½ä¼šæ³¨å†Œåˆ°å¤šè·¯å¤ç”¨å™¨ä¸Šï¼Œå¤šè·¯å¤ç”¨å™¨è½®è¯¢åˆ°è¿æ¥æœ‰ I/O è¯·æ±‚æ—¶æ‰å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ã€‚\n\nNIO æ–¹å¼é€‚ç”¨äºè¿æ¥æ•°ç›®å¤šä¸”è¿æ¥æ¯”è¾ƒçŸ­ï¼ˆè½»æ“ä½œï¼‰çš„æ¶æ„ï¼Œæ¯”å¦‚èŠå¤©æœåŠ¡å™¨ï¼Œå¹¶å‘å±€é™äºåº”ç”¨ä¸­ï¼Œç¼–ç¨‹å¤æ‚ï¼ŒJDK1.4 å¼€å§‹æ”¯æŒã€‚\n\n### AIO ç¼–ç¨‹\nAsynchronousIOï¼š å¼‚æ­¥éé˜»å¡çš„ç¼–ç¨‹æ–¹å¼\n\nä¸ NIO ä¸åŒï¼Œå½“è¿›è¡Œè¯»å†™æ“ä½œæ—¶ï¼Œåªé¡»ç›´æ¥è°ƒç”¨ API çš„ read æˆ– write æ–¹æ³•å³å¯ã€‚è¿™ä¸¤ç§æ–¹æ³•å‡ä¸ºå¼‚æ­¥çš„ï¼Œå¯¹äºè¯»æ“ä½œè€Œè¨€ï¼Œå½“æœ‰æµå¯è¯»å–æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†å¯è¯»çš„æµä¼ å…¥ read æ–¹æ³•çš„ç¼“å†²åŒºï¼Œå¹¶é€šçŸ¥åº”ç”¨ç¨‹åºï¼›å¯¹äºå†™æ“ä½œè€Œè¨€ï¼Œå½“æ“ä½œç³»ç»Ÿå°† write æ–¹æ³•ä¼ é€’çš„æµå†™å…¥å®Œæ¯•æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¸»åŠ¨é€šçŸ¥åº”ç”¨ç¨‹åºã€‚å³å¯ä»¥ç†è§£ä¸ºï¼Œread/write æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå®Œæˆåä¼šä¸»åŠ¨è°ƒç”¨å›è°ƒå‡½æ•°ã€‚åœ¨ JDK1.7 ä¸­ï¼Œè¿™éƒ¨åˆ†å†…å®¹è¢«ç§°ä½œ NIO.2ï¼Œä¸»è¦åœ¨ java.nio.channels åŒ…ä¸‹å¢åŠ äº†ä¸‹é¢å››ä¸ªå¼‚æ­¥é€šé“ï¼š\n\n- AsynchronousSocketChannel\n- AsynchronousServerSocketChannel\n- AsynchronousFileChannel\n- AsynchronousDatagramChannel\n\nå¼‚æ­¥éé˜»å¡ï¼ŒæœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªæœ‰æ•ˆè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œå®¢æˆ·ç«¯çš„ I/O è¯·æ±‚éƒ½æ˜¯ç”± OSå…ˆå®Œæˆäº†å†é€šçŸ¥æœåŠ¡å™¨åº”ç”¨å»å¯åŠ¨çº¿ç¨‹è¿›è¡Œå¤„ç†\n\nAIO æ–¹å¼ä½¿ç”¨äºè¿æ¥æ•°ç›®å¤šä¸”è¿æ¥æ¯”è¾ƒé•¿ï¼ˆé‡æ“ä½œï¼‰çš„æ¶æ„ï¼Œæ¯”å¦‚ç›¸å†ŒæœåŠ¡å™¨ï¼Œå……åˆ†è°ƒç”¨ OS å‚ä¸å¹¶å‘æ“ä½œï¼Œç¼–ç¨‹æ¯”è¾ƒå¤æ‚ï¼ŒJDK7 å¼€å§‹æ”¯æŒã€‚\n\n\n\n","post/2019/20191120/":"\r\n### Nettyç®€ä»‹\r\nNetty æ˜¯ç”± JBOSS æä¾›çš„ä¸€ä¸ª java å¼€æºæ¡†æ¶ã€‚Netty æä¾›å¼‚æ­¥çš„ã€äº‹ä»¶é©±åŠ¨çš„ç½‘ç»œåº”ç”¨ç¨‹åºæ¡†æ¶å’Œå·¥å…·ï¼Œç”¨ä»¥å¿«é€Ÿå¼€å‘é«˜æ€§èƒ½ã€é«˜å¯é æ€§çš„ç½‘ç»œæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ç¨‹åºã€‚\r\n\r\nä¹Ÿå°±æ˜¯è¯´ï¼ŒNetty æ˜¯ä¸€ä¸ªåŸºäº NIO çš„å®¢æˆ·ã€æœåŠ¡å™¨ç«¯ç¼–ç¨‹æ¡†æ¶ï¼Œä½¿ç”¨ Netty å¯ä»¥ç¡®ä¿ä½ å¿«é€Ÿå’Œç®€å•çš„å¼€å‘å‡ºä¸€ä¸ªç½‘ç»œåº”ç”¨ï¼Œä¾‹å¦‚å®ç°äº†æŸç§åè®®çš„å®¢æˆ·ï¼ŒæœåŠ¡ç«¯åº”ç”¨ã€‚Netty ç›¸å½“ç®€åŒ–å’Œæµçº¿åŒ–äº†ç½‘ç»œåº”ç”¨çš„ç¼–ç¨‹å¼€å‘è¿‡ç¨‹ï¼Œä¾‹å¦‚ï¼ŒTCP å’Œ UDP çš„ socket æœåŠ¡å¼€å‘ã€‚\r\n\r\nâ€œå¿«é€Ÿâ€å’Œâ€œç®€å•â€å¹¶ä¸ç”¨äº§ç”Ÿç»´æŠ¤æˆ–æ€§èƒ½ä¸Šçš„é—®é¢˜ã€‚Netty æ˜¯ä¸€ä¸ªå¸æ”¶äº†å¤šç§åè®®çš„å®ç°ç»éªŒï¼Œè¿™äº›åè®®åŒ…æ‹¬FTP,SMTP,HTTPï¼Œå„ç§äºŒè¿›åˆ¶ï¼Œæ–‡æœ¬åè®®ï¼Œå¹¶ç»è¿‡ç›¸å½“ç²¾å¿ƒè®¾è®¡çš„é¡¹ç›®ï¼Œæœ€ç»ˆï¼ŒNetty æˆåŠŸçš„æ‰¾åˆ°äº†ä¸€ç§æ–¹å¼ï¼Œåœ¨ä¿è¯æ˜“äºå¼€å‘çš„åŒæ—¶è¿˜ä¿è¯äº†å…¶åº”ç”¨çš„æ€§èƒ½ï¼Œç¨³å®šæ€§å’Œä¼¸ç¼©æ€§ã€‚\r\n\r\nNetty ä» 4.x ç‰ˆæœ¬å¼€å§‹ï¼Œéœ€è¦ä½¿ç”¨ JDK1.6 åŠä»¥ä¸Šç‰ˆæœ¬æä¾›åŸºç¡€æ”¯æ’‘ã€‚\r\n\r\nåœ¨è®¾è®¡ä¸Šï¼šé’ˆå¯¹å¤šç§ä¼ è¾“ç±»å‹çš„ç»Ÿä¸€æ¥å£ - é˜»å¡å’Œéé˜»å¡ï¼›ç®€å•ä½†æ›´å¼ºå¤§çš„çº¿ç¨‹æ¨¡å‹ï¼›çœŸæ­£çš„æ— è¿æ¥çš„æ•°æ®æŠ¥å¥—æ¥å­—æ”¯æŒï¼›é“¾æ¥é€»è¾‘æ”¯æŒå¤ç”¨\r\n\r\nåœ¨æ€§èƒ½ä¸Šï¼šæ¯”æ ¸å¿ƒ Java API æ›´å¥½çš„ååé‡ï¼Œè¾ƒä½çš„å»¶æ—¶ï¼›èµ„æºæ¶ˆè€—æ›´å°‘ï¼Œè¿™ä¸ªå¾—ç›Šäºå…±äº«æ± å’Œé‡ç”¨ï¼›å‡å°‘å†…å­˜æ‹·è´\r\n\r\nåœ¨å¥å£®æ€§ä¸Šï¼šæ¶ˆé™¤ç”±äºæ…¢ï¼Œå¿«ï¼Œæˆ–é‡è½½è¿æ¥äº§ç”Ÿçš„ OutOfMemoryErrorï¼›æ¶ˆé™¤ç»å¸¸å‘ç°åœ¨ NIO åœ¨é«˜é€Ÿç½‘ç»œä¸­çš„åº”ç”¨ä¸­çš„ä¸å…¬å¹³çš„è¯»/å†™æ¯”\r\n\r\nåœ¨å®‰å…¨ä¸Šï¼šå®Œæ•´çš„ SSL / TLS å’Œ StartTLS çš„æ”¯æŒä¸”å·²å¾—åˆ°å¤§é‡å•†ä¸šåº”ç”¨çš„çœŸå®éªŒè¯,å¦‚ï¼šHadoop é¡¹ç›®çš„ Avroï¼ˆRPC æ¡†æ¶ï¼‰ã€Dubboã€Dubboxç­‰ RPC æ¡†æ¶ã€‚\r\n\r\n### Netty æ¶æ„\r\n![img](https://alightyoung.gitee.io/static/img/20.png)\r\n\r\n\r\n### Nettyçº¿ç¨‹æ¨¡å‹\r\n\r\n![img](https://alightyoung.gitee.io/static/img/21.jpg)\r\n\r\n### çº¿ç¨‹æ¨¡å‹è¯¦è§£\r\nNetty ä¸­æ”¯æŒå•çº¿ç¨‹æ¨¡å‹ï¼Œå¤šçº¿ç¨‹æ¨¡å‹ï¼Œä¸»ä»å¤šçº¿ç¨‹æ¨¡å‹ã€‚\r\n\r\n#### Reactorå•çº¿ç¨‹æ¨¡å‹\r\næ˜¯æŒ‡æ‰€æœ‰çš„I/Oæ“ä½œéƒ½åœ¨åŒä¸€ä¸ªNIOçº¿ç¨‹ä¸Šå®Œæˆï¼ŒèŒè´£å¦‚ä¸‹\r\n\r\n- ä½œä¸ºNIOæœåŠ¡ç«¯ï¼Œæ¥æ”¶å®¢æˆ·ç«¯TCPè¿æ¥\r\n- ä½œä¸ºNIOå®¢æˆ·ç«¯ï¼Œå‘æœåŠ¡ç«¯å‘èµ·TCPè¿æ¥\r\n- è¯»å–å¯¹ç«¯è¯·æ±‚æˆ–è€…åº”ç­”æ¶ˆæ¯\r\n- å‘å¯¹ç«¯å‘é€è¯·æ±‚æˆ–è€…åº”ç­”æ¶ˆæ¯\r\n\r\n![img](https://alightyoung.gitee.io/static/img/22.jpg)\r\n\r\nåœ¨ä¸€äº›å°å®¹é‡åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æ¨¡å‹ï¼Œä½†å¯¹äºé«˜è´Ÿè½½åœºæ™¯ä¸‹å¹¶ä¸é€‚ç”¨ï¼ŒåŸå› å¦‚ä¸‹ï¼š\r\n\r\n- ä¸€ä¸ªNIOçº¿ç¨‹åŒæ—¶å¤„ç†æˆç™¾ä¸Šåƒçš„è¿æ¥ï¼Œæ€§èƒ½ä¸Šæ— æ³•ä¿è¯ã€‚\r\n- NIOçº¿ç¨‹è´Ÿè½½è¿‡é‡ï¼Œå¤„ç†é€Ÿåº¦ä¼šè¶Šæ¥è¶Šæ…¢ï¼Œä¼šå¯¼è‡´å¤§é‡å®¢æˆ·ç«¯è¿æ¥è¶…æ—¶\r\n- ä¸€æ—¦NIOçº¿ç¨‹è·‘é£ï¼Œæˆ–è€…æ­»å¾ªç¯ï¼Œä¼šå¯¼è‡´æ•´ä¸ªç³»ç»Ÿçš„ä¸å¯ç”¨\r\n\r\n#### Reactorå¤šçº¿ç¨‹æ¨¡å‹\r\n\r\n![img](https://alightyoung.gitee.io/static/img/23.jpg)\r\n\r\nä¸å•çº¿ç¨‹æ¨¡å‹æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼Œæœ‰ä¸€ç»„NIOæ¥å¤„ç†I/Oè¯·æ±‚ï¼Œç‰¹ç‚¹å¦‚ä¸‹\r\n\r\n- æœ‰ä¸€ä¸ªNIOçº¿ç¨‹â€”â€”Acceptorçº¿ç¨‹ç”¨æˆ·ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥\r\n- æœ‰ä¸€ä¸ªNIOçº¿ç¨‹æ± è´Ÿè´£I/Oçš„è¯»å†™æ“ä½œï¼Œè¯¥çº¿ç¨‹æ± å¯ä»¥æ˜¯åŸºäºJDKçš„çº¿ç¨‹æ± ã€‚\r\n\r\n#### ä¸»ä»Reactorå¤šçº¿ç¨‹æ¨¡å‹\r\n\r\n![img](https://alightyoung.gitee.io/static/img/24.jpg)\r\n\r\nå¦‚æœå¹¶å‘ç™¾ä¸‡çš„å®¢æˆ·ç«¯è¿æ¥ï¼Œåœ¨Reactorå¤šçº¿ç¨‹æ¨¡å‹ä¸‹åªæœ‰ä¸€ä¸ªNIOçš„Acceptorçº¿ç¨‹å¤„ç†å®¢æˆ·ç«¯è¿æ¥ä¼šæœ‰æ€§èƒ½é—®é¢˜ã€‚ä¸»ä»Reactorçº¿ç¨‹æ¨¡å‹çš„ç‰¹ç‚¹æ˜¯ï¼šæœåŠ¡ç«¯ç”¨äºæ¥æ”¶å®¢æˆ·ç«¯çš„è¿æ¥ä¸å†æ˜¯ä¸€ä¸ªå•ç‹¬çš„NIOçº¿ç¨‹ï¼Œè€Œæ˜¯ä¸€ä¸ªNIOçš„Acceptorçº¿ç¨‹æ± ã€‚Acceptoræ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„TCPè¿æ¥è¯·æ±‚å¤„ç†å®Œæˆåï¼Œå°†æ–°åˆ›å»ºçš„ChannelSocketæ³¨å†Œåˆ°I/Oçº¿ç¨‹æ± (sub reactorçº¿ç¨‹æ± )ä¸Šçš„æŸä¸€ä¸ªçº¿ç¨‹ä¸Šï¼Œç”±I/Oè´Ÿè´£åç»­çš„I/Oè¯»å†™æ“ä½œã€‚\r\n\r\n### å¿«é€Ÿå…¥é—¨\r\n[4.xç‰ˆæœ¬ä¼ é€é—¨](https://netty.io/wiki/user-guide-for-4.x.html#wiki-h2-3)\r\n\r\n### æµæ•°æ®çš„ä¼ è¾“å¤„ç†\r\nåœ¨åŸºäºæµçš„ä¼ è¾“é‡Œæ¯”å¦‚ TCP/IPï¼Œæ¥æ”¶åˆ°çš„æ•°æ®ä¼šå…ˆè¢«å­˜å‚¨åˆ°ä¸€ä¸ª socket æ¥æ”¶ç¼“å†²é‡Œã€‚ä¸å¹¸çš„æ˜¯ï¼ŒåŸºäºæµçš„ä¼ è¾“å¹¶ä¸æ˜¯ä¸€ä¸ªæ•°æ®åŒ…é˜Ÿåˆ—ï¼Œè€Œæ˜¯ä¸€ä¸ªå­—èŠ‚é˜Ÿåˆ—ã€‚å³ä½¿ä½ å‘é€äº† 2 ä¸ªç‹¬ç«‹çš„æ•°æ®åŒ…ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¸ä¼šä½œä¸º 2 ä¸ªæ¶ˆæ¯å¤„ç†è€Œä»…ä»…æ˜¯ä½œä¸ºä¸€è¿ä¸²çš„å­—èŠ‚è€Œè¨€ã€‚å› æ­¤è¿™æ˜¯ä¸èƒ½ä¿è¯ä½ è¿œç¨‹å†™å…¥çš„æ•°æ®å°±ä¼šå‡†ç¡®åœ°è¯»å–ã€‚æ‰€ä»¥ä¸€ä¸ªæ¥æ”¶æ–¹ä¸ç®¡ä»–æ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡ç«¯ï¼Œéƒ½åº”è¯¥æŠŠæ¥æ”¶åˆ°çš„æ•°æ®æ•´ç†æˆä¸€ä¸ªæˆ–è€…å¤šä¸ªæ›´æœ‰æ„æ€å¹¶ä¸”èƒ½å¤Ÿè®©ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘æ›´å¥½ç†è§£çš„æ•°æ®ã€‚\r\n\r\nåœ¨å¤„ç†æµæ•°æ®ç²˜åŒ…æ‹†åŒ…æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹è¿°å¤„ç†æ–¹å¼ï¼š\r\n\r\n- ä½¿ç”¨å®šé•¿æ•°æ®å¤„ç†ï¼Œå¦‚ï¼šæ¯ä¸ªå®Œæ•´è¯·æ±‚æ•°æ®é•¿åº¦ä¸º 8 å­—èŠ‚ç­‰ã€‚ï¼ˆFixedLengthFrameDecoderï¼‰\r\n- ä½¿ç”¨ç‰¹æ®Šåˆ†éš”ç¬¦çš„æ–¹å¼å¤„ç†ï¼Œå¦‚ï¼šæ¯ä¸ªå®Œæ•´è¯·æ±‚æ•°æ®æœ«å°¾ä½¿ç”¨â€™\\0â€™ä½œä¸ºæ•°æ®ç»“æŸæ ‡è®°ã€‚ï¼ˆDelimiterBasedFrameDecoderï¼‰\r\n- ä½¿ç”¨è‡ªå®šä¹‰åè®®æ–¹å¼å¤„ç†ï¼Œå¦‚ï¼šhttp åè®®æ ¼å¼ç­‰ã€‚\r\n- ä½¿ç”¨ POJO æ¥æ›¿ä»£ä¼ é€’çš„æµæ•°æ®ï¼Œå¦‚ï¼šæ¯ä¸ªå®Œæ•´çš„è¯·æ±‚æ•°æ®éƒ½æ˜¯ä¸€ä¸ª RequestMessageå¯¹è±¡ï¼Œåœ¨ Java è¯­è¨€ä¸­ï¼Œä½¿ç”¨ POJO æ›´ç¬¦åˆè¯­ç§ç‰¹æ€§ï¼Œæ¨èä½¿ç”¨ã€‚\r\n\r\n\r\n\r\n\r\n","post/2019/20191121/":"\n\u003CBadge text=\"ç®€å•\" type=\"tip\"/> åŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/two-sum/](https://leetcode-cn.com/problems/two-sum/)\n\n## é¢˜ç›®æè¿°\n\nç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsÂ å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ targetÂ  çš„é‚£Â ä¸¤ä¸ªÂ æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚\n\nä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚\n\nä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼šnums = [2,7,11,15], target = 9\n\nè¾“å‡ºï¼š[0,1]\n\nè§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼šnums = [3,2,4], target = 6\n\nè¾“å‡ºï¼š[1,2]\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥ï¼šnums = [3,3], target = 6\n\nè¾“å‡ºï¼š[0,1]\n:::\n\n:::details{text=\"æç¤º\"}\n\n- `2 \u003C= nums.length \u003C= 104`\n- `-109 \u003C= nums[i] \u003C= 109`\n- `-109 \u003C= target \u003C= 109`\n- `åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ`\n\nè¿›é˜¶ï¼šä½ å¯ä»¥æƒ³å‡ºä¸€ä¸ªæ—¶é—´å¤æ‚åº¦å°äº O(n2) çš„ç®—æ³•å—ï¼Ÿ\n:::\n\n## Javaé¢˜è§£\n\n### è§£æ³•ä¸€ï¼šæš´åŠ›æ³•\n\næš´åŠ›æ³•å¾ˆç®€å•ï¼Œéå†æ¯ä¸ªå…ƒç´  xï¼Œå¹¶æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå€¼ä¸ target - x ç›¸ç­‰çš„ç›®æ ‡å…ƒç´ ã€‚\n\n```java\nclass Solution {\n    public int[] twoSum(int[] nums, int target) {\n       for(int i=0;i\u003Cnums.length;i++){\n           for(int j = i+1;j\u003Cnums.length;j++){\n               if(nums[i]+nums[j]==target){\n                return new int[]{i,j};\n               }\n           }\n       }\n        return null;\n    }\n}\n```\n**å¤æ‚åº¦**\n\n$$\nx = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}\n$$\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬è¯•å›¾é€šè¿‡éå†æ•°ç»„çš„å…¶ä½™éƒ¨åˆ†æ¥å¯»æ‰¾å®ƒæ‰€å¯¹åº”çš„ç›®æ ‡å…ƒç´ ï¼Œè¿™å°†è€—è´¹ $O(n)$ çš„æ—¶é—´ã€‚å› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$ã€‚\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚\n\n### è§£æ³•äºŒï¼šä¸¤éå“ˆå¸Œè¡¨\nä¸ºäº†å¯¹è¿è¡Œæ—¶é—´å¤æ‚åº¦è¿›è¡Œä¼˜åŒ–ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ›´æœ‰æ•ˆçš„æ–¹æ³•æ¥æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ç›®æ ‡å…ƒç´ ã€‚å¦‚æœå­˜åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºå®ƒçš„ç´¢å¼•ã€‚ä¿æŒæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸å…¶ç´¢å¼•ç›¸äº’å¯¹åº”çš„æœ€å¥½æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿå“ˆå¸Œè¡¨ã€‚\n\né€šè¿‡ä»¥ç©ºé—´æ¢å–é€Ÿåº¦çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†æŸ¥æ‰¾æ—¶é—´ä» O(n) é™ä½åˆ° O(1)ã€‚å“ˆå¸Œè¡¨æ­£æ˜¯ä¸ºæ­¤ç›®çš„è€Œæ„å»ºçš„ï¼Œå®ƒæ”¯æŒä»¥ è¿‘ä¼¼ æ’å®šçš„æ—¶é—´è¿›è¡Œå¿«é€ŸæŸ¥æ‰¾ã€‚æˆ‘ç”¨â€œè¿‘ä¼¼â€æ¥æè¿°ï¼Œæ˜¯å› ä¸ºä¸€æ—¦å‡ºç°å†²çªï¼ŒæŸ¥æ‰¾ç”¨æ—¶å¯èƒ½ä¼šé€€åŒ–åˆ° O(n)ã€‚ä½†åªè¦ä½ ä»”ç»†åœ°æŒ‘é€‰å“ˆå¸Œå‡½æ•°ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­è¿›è¡ŒæŸ¥æ‰¾çš„ç”¨æ—¶åº”å½“è¢«æ‘Šé”€ä¸º O(1)ã€‚\n\nä¸€ä¸ªç®€å•çš„å®ç°ä½¿ç”¨äº†ä¸¤æ¬¡è¿­ä»£ã€‚åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªå…ƒç´ çš„å€¼å’Œå®ƒçš„ç´¢å¼•æ·»åŠ åˆ°è¡¨ä¸­ã€‚ç„¶åï¼Œåœ¨ç¬¬äºŒæ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å°†æ£€æŸ¥æ¯ä¸ªå…ƒç´ æ‰€å¯¹åº”çš„ç›®æ ‡å…ƒç´ ï¼ˆtarget - nums[i]ï¼‰æ˜¯å¦å­˜åœ¨äºè¡¨ä¸­ã€‚æ³¨æ„ï¼Œè¯¥ç›®æ ‡å…ƒç´ ä¸èƒ½æ˜¯ nums[i] æœ¬èº«ï¼\n\n```java\nclass Solution {\n    public int[] twoSum(int[] nums, int target) {\n        Map\u003CInteger, Integer> map = new HashMap\u003C>();\n        for (int i = 0; i \u003C nums.length; i++) {\n            map.put(nums[i], i);\n        }\n        for (int i = 0; i \u003C nums.length; i++) {\n            int complement = target - nums[i];\n            if (map.containsKey(complement) && map.get(complement) != i) {\n                return new int[] { i, map.get(complement) };\n            }\n        }\n        throw new IllegalArgumentException(\"No two sum solution\");\n    }\n}\n```\n\n\n**å¤æ‚åº¦åˆ†æï¼š**\n\n- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œ\næˆ‘ä»¬æŠŠåŒ…å«æœ‰ n ä¸ªå…ƒç´ çš„åˆ—è¡¨éå†ä¸¤æ¬¡ã€‚ç”±äºå“ˆå¸Œè¡¨å°†æŸ¥æ‰¾æ—¶é—´ç¼©çŸ­åˆ° O(1) ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œ\næ‰€éœ€çš„é¢å¤–ç©ºé—´å–å†³äºå“ˆå¸Œè¡¨ä¸­å­˜å‚¨çš„å…ƒç´ æ•°é‡ï¼Œè¯¥è¡¨ä¸­å­˜å‚¨äº† n ä¸ªå…ƒç´ ã€‚\n\n### æ–¹æ³•ä¸‰ï¼šä¸€éå“ˆå¸Œè¡¨\näº‹å®è¯æ˜ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡å®Œæˆã€‚åœ¨è¿›è¡Œè¿­ä»£å¹¶å°†å…ƒç´ æ’å…¥åˆ°è¡¨ä¸­çš„åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜ä¼šå›è¿‡å¤´æ¥æ£€æŸ¥è¡¨ä¸­æ˜¯å¦å·²ç»å­˜åœ¨å½“å‰å…ƒç´ æ‰€å¯¹åº”çš„ç›®æ ‡å…ƒç´ ã€‚å¦‚æœå®ƒå­˜åœ¨ï¼Œé‚£æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†å¯¹åº”è§£ï¼Œå¹¶ç«‹å³å°†å…¶è¿”å›ã€‚\n\n```java\nclass Solution {\n    public int[] twoSum(int[] nums, int target) {\n        Map\u003CInteger, Integer> map = new HashMap\u003C>();\n        for (int i = 0; i \u003C nums.length; i++) {\n            int complement = target - nums[i];\n            if (map.containsKey(complement)) {\n                return new int[] { map.get(complement), i };\n            }\n            map.put(nums[i], i);\n        }\n        throw new IllegalArgumentException(\"No two sum solution\");\n    }\n}\n```\n**å¤æ‚åº¦åˆ†æï¼š**\n\n- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œ\næˆ‘ä»¬åªéå†äº†åŒ…å«æœ‰ n ä¸ªå…ƒç´ çš„åˆ—è¡¨ä¸€æ¬¡ã€‚åœ¨è¡¨ä¸­è¿›è¡Œçš„æ¯æ¬¡æŸ¥æ‰¾åªèŠ±è´¹ O(1) çš„æ—¶é—´ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œ\næ‰€éœ€çš„é¢å¤–ç©ºé—´å–å†³äºå“ˆå¸Œè¡¨ä¸­å­˜å‚¨çš„å…ƒç´ æ•°é‡ï¼Œè¯¥è¡¨æœ€å¤šéœ€è¦å­˜å‚¨ n ä¸ªå…ƒç´ ã€‚\n\n## æ€»ç»“\nä¸å¾—ä¸æ„Ÿå¹ä¸€ä¸‹ï¼Œä¸€éå“ˆå¸Œè¡¨ç»äº†ï¼\n\n","post/2019/20191123/":"\n\u003CBadge text=\"ä¸­ç­‰\" type=\"warning\"/>\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/)\n\n## é¢˜ç›®æè¿°\n\nç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥: s = \"abcabcbb\"\n\nè¾“å‡º: 3\n\nè§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ \"abc\"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥: s = \"bbbbb\"\n\nè¾“å‡º: 1\n\nè§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ \"b\"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥: s = \"pwwkew\"\n\nè¾“å‡º: 3\n\nè§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯Â \"wke\"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚\n\nè¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ\"pwke\"Â æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 4\"}\nè¾“å…¥: s = \"\"\n\nè¾“å‡º: 0\n:::\n\n:::details{text=\"æç¤º\"}\n`0 \u003C= s.length \u003C= 5 * 104`\n\ns ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ\n:::\n\n## Javaé¢˜è§£\n\n### æ–¹æ³•ä¸€ æš´åŠ›æ³•\n\n```java\npublic class Solution {\n    public int lengthOfLongestSubstring(String s) {\n        int n = s.length();\n        int ans = 0;\n        for (int i = 0; i \u003C n; i++)\n            for (int j = i + 1; j \u003C= n; j++)\n                if (allUnique(s, i, j)) ans = Math.max(ans, j - i);\n        return ans;\n    }\n\n    public boolean allUnique(String s, int start, int end) {\n        Set\u003CCharacter> set = new HashSet\u003C>();\n        for (int i = start; i \u003C end; i++) {\n            Character ch = s.charAt(i);\n            if (set.contains(ch)) return false;\n            set.add(ch);\n        }\n        return true;\n    }\n}\n```\n\n### æ–¹æ³•äºŒ æ»‘åŠ¨çª—å£\n\n```java\npublic class Solution {\n    public int lengthOfLongestSubstring(String s) {\n        int n = s.length();\n        Set\u003CCharacter> set = new HashSet\u003C>();\n        int ans = 0, i = 0, j = 0;\n        while (i \u003C n && j \u003C n) {\n            // try to extend the range [i, j]\n            if (!set.contains(s.charAt(j))){\n                set.add(s.charAt(j++));\n                ans = Math.max(ans, j - i);\n            }\n            else {\n                set.remove(s.charAt(i++));\n            }\n        }\n        return ans;\n    }\n}\n```\n\n### æ–¹æ³•ä¸‰ï¼šä¼˜åŒ–çš„æ»‘åŠ¨çª—å£\n\n```java\npublic class Solution {\n    public int lengthOfLongestSubstring(String s) {\n        int n = s.length(), ans = 0;\n        Map\u003CCharacter, Integer> map = new HashMap\u003C>(); // current index of character\n        // try to extend the range [i, j]\n        for (int j = 0, i = 0; j \u003C n; j++) {\n            if (map.containsKey(s.charAt(j))) {\n                i = Math.max(map.get(s.charAt(j)), i);\n            }\n            ans = Math.max(ans, j - i + 1);\n            map.put(s.charAt(j), j + 1);\n        }\n        return ans;\n    }\n}\n```\n```java\n// int [26] ç”¨äºå­—æ¯ â€˜aâ€™ - â€˜zâ€™ æˆ– â€˜Aâ€™ - â€˜Zâ€™\n// int [128] ç”¨äºASCIIç \n// int [256] ç”¨äºæ‰©å±•ASCIIç \npublic class Solution {\n    public int lengthOfLongestSubstring(String s) {\n        int n = s.length(), ans = 0;\n        int[] index = new int[128]; // current index of character\n        // try to extend the range [i, j]\n        for (int j = 0, i = 0; j \u003C n; j++) {\n            i = Math.max(index[s.charAt(j)], i);\n            ans = Math.max(ans, j - i + 1);\n            index[s.charAt(j)] = j + 1;\n        }\n        return ans;\n    }\n}\n```\n\n## æ€»ç»“\nè¯¥é¢˜æœ€å¤§çš„æ”¶è·ï¼Œå¯èƒ½å°±æ˜¯äº†è§£åˆ°äº†æ»‘åŠ¨çª—å£çš„æ¦‚å¿µå§ã€‚\n\nè¿˜æœ‰å°±æ˜¯å³ä½¿æ˜¯æš´åŠ›æ³•ï¼Œä¹Ÿå¯èƒ½å‡ºç°è€ƒè™‘ä¸å‘¨å…¨å¯¼è‡´å¤æ‚åº¦å¢åŠ çš„å¯èƒ½ï¼Œæ¯”å¦‚è¿™æ ·ï¼š\n```java\nclass Solution {\n    public int lengthOfLongestSubstring(String s) {\n        int max=1;\n        if(s.length()==0) {\n            max=0;\n            return max;\n        }else{\n            for(int i=0;i\u003Cs.length();i++){\n                for(int j=i+1;j\u003Cs.length();j++){\n                    if(allUnique(s,i,j)) max=Math.max(max,j-i+1);\n                }\n            }\n            return max;\n        }\n    }\n    public boolean allUnique(String s, int start, int end) {\n        Set\u003CCharacter> set = new HashSet\u003C>();\n        for(int i=start;i\u003C=end;i++){\n            char ch = s.charAt(i);\n            if (set.contains(ch)) return false;\n            set.add(ch);\n        }\n        return true;\n    }\n}\n```\n8è¯´äº†ï¼Œç®—æ³•æ˜¯çœŸçš„ğŸ‚ğŸºï¼\n\n\n\n","post/2019/20191127/":"\r\n### ç®€ä»‹\r\nå•ç‚¹ç™»å½•ï¼ˆSingle Sign Onï¼‰ï¼Œç®€ç§°ä¸º SSOï¼Œæ˜¯ç›®å‰æ¯”è¾ƒæµè¡Œçš„ä¼ä¸šä¸šåŠ¡æ•´åˆçš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚SSOçš„å®šä¹‰æ˜¯åœ¨å¤šä¸ªåº”ç”¨ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·åªéœ€è¦ç™»å½•ä¸€æ¬¡å°±å¯ä»¥è®¿é—®æ‰€æœ‰ç›¸äº’ä¿¡ä»»çš„åº”ç”¨ç³»ç»Ÿã€‚\r\n\r\n#### ä¼˜ç‚¹\r\n- æé«˜ç”¨æˆ·æ•ˆç‡\r\n- æé«˜å¼€å‘äººå‘˜çš„æ•ˆç‡\r\n- ç®€åŒ–ç®¡ç†\r\n#### ç¼ºç‚¹\r\n- ä¸åˆ©äºé‡æ„\r\n- æ— äººçœ‹å®ˆæ¡Œé¢\r\n\r\n### å¸¸è§çš„å•ç‚¹ç™»å½•æ¡†æ¶\r\n\r\n1. [XXL-SSO](https://www.xuxueli.com/xxl-sso/)\r\n2. [CAS](https://www.apereo.org/projects/cas)ï¼ˆCentral Authentication Serviceï¼‰\r\n> éä¹è§‚é”é‡Œçš„CAS(compare and swap)\r\n\r\n#### xxlsso\r\n\r\nå¤§æ¦‚äº†è§£äº†ä¸€ä¸‹ä¹‹åï¼Œå‘ç°caséœ€è¦é…ç½®httpè¯ä¹¦ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæ‰€ä»¥é€‰æ‹©äº†xxlssoä½œä¸ºå•ç‚¹ç™»å½•çš„å…¥é—¨ã€‚æƒ³å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://www.xuxueli.com/xxl-sso/)çš„ä¹Ÿå¯ä»¥ç›´æ¥çœ‹ã€‚\r\n\r\nå› ä¸ºå•ç‚¹ç™»å½•çš„åœºæ™¯åŸºæœ¬æ˜¯åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œæ‰€ä»¥äº†è§£å•ç‚¹ç™»å½•ä¹‹å‰éœ€è¦å¯¹åˆ†å¸ƒå¼å¼€å‘æœ‰æ‰€äº†è§£ã€‚\r\n\r\n##### æºç \r\n\r\n[giteeä»“åº“](https://gitee.com/xuxueli0323/xxl-sso/releases)ï¼Œè·‘å…¥é—¨demoå¯ä»¥å…ˆcloneä¸‹æ¥ã€‚äº†è§£ä¸€ä¸‹æµç¨‹\r\n\r\n##### è¦æ±‚\r\n\r\n1. jdk:1.7+\r\n2. redis:4.0+\r\n\r\n##### demoç»“æ„\r\n```yml\r\n- xxl-sso-serverï¼šä¸­å¤®è®¤è¯æœåŠ¡ï¼Œæ”¯æŒé›†ç¾¤\r\n- xxl-sso-coreï¼šClientç«¯ä¾èµ–\r\n- xxl-sso-samplesï¼šå•ç‚¹ç™»é™†Clientç«¯æ¥å…¥ç¤ºä¾‹é¡¹ç›®\r\n    - xxl-sso-web-sample-springbootï¼šåŸºäºCookieæ¥å…¥æ–¹å¼ï¼Œä¾›ç”¨æˆ·æµè§ˆå™¨è®¿é—®ï¼Œspringbootç‰ˆæœ¬\r\n    - xxl-sso-token-sample-springbootï¼šåŸºäºTokenæ¥å…¥æ–¹å¼ï¼Œå¸¸ç”¨äºæ— æ³•ä½¿ç”¨Cookieçš„åœºæ™¯ä½¿ç”¨ï¼Œå¦‚APPã€Cookieè¢«ç¦ç”¨ç­‰ï¼Œspringbootç‰ˆæœ¬\r\n```\r\n##### éƒ¨ç½²\r\n> 1.é…ç½®è®¤è¯ä¸­å¿ƒ\r\næ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼ŒæŠŠxxlsso-serverè·‘èµ·æ¥å…ˆï¼Œè®°å¾—æŠŠapplication.propertiesçš„redisåœ°å€æ”¹æˆè‡ªå·±çš„\r\n\r\n> 2.é…ç½®client\r\nä¸Šé¢demoç»“æ„å¾ˆæ¸…æ¥šäº†ï¼ŒåŸºäºcookieå°±æŠŠwebé›†æˆåˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼ŒåŸºäºtokenå°±æ¢æˆtokençš„é‚£ä¸ªdemo(ç»†èŠ‚å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://www.xuxueli.com/xxl-sso/))\r\n\r\n##### æ¶æ„\r\n\r\n![æ¶æ„å›¾](https://alightyoung.gitee.io/static/img/4.png)\r\n\r\n**ç™»å½•æµç¨‹åˆ†æ**\r\n> ç”¨æˆ·äºClientç«¯åº”ç”¨è®¿é—®å—é™èµ„æºæ—¶ï¼Œå°†ä¼šè‡ªåŠ¨ redirect åˆ° SSO Server è¿›å…¥ç»Ÿä¸€ç™»å½•ç•Œé¢\r\nç”¨æˆ·ç™»å½•æˆåŠŸä¹‹åå°†ä¼šä¸ºç”¨æˆ·åˆ†é… SSO SessionId å¹¶ redirect è¿”å›æ¥æºClientç«¯åº”ç”¨ï¼ŒåŒæ—¶é™„å¸¦åˆ†é…çš„ SSO SessionId\r\nåœ¨Clientç«¯çš„SSO Filteré‡ŒéªŒè¯ SSO SessionId æ— è¯¯ï¼Œå°† SSO SessionId å†™å…¥åˆ°ç”¨æˆ·æµè§ˆå™¨Clientç«¯åŸŸåä¸‹ cookie ä¸­\r\nSSO FilteréªŒè¯ SSO SessionId é€šè¿‡ï¼Œå—é™èµ„æºè¯·æ±‚æ”¾è¡Œ\r\n\r\n**æ³¨é”€æµç¨‹åˆ†æ**\r\n> ç”¨æˆ·ä¸Clientç«¯åº”ç”¨è¯·æ±‚æ³¨é”€Pathæ—¶ï¼Œå°†ä¼š redirect åˆ° SSO Server è‡ªåŠ¨é”€æ¯å…¨å±€ SSO SessionIdï¼Œå®ç°å…¨å±€é”€æ¯\r\nç„¶åï¼Œè®¿é—®æ¥å…¥SSOä¿æŠ¤çš„ä»»æ„Clientç«¯åº”ç”¨æ—¶ï¼ŒSSO Filter å‡ä¼šæ‹¦æˆªè¯·æ±‚å¹¶ redirect åˆ° SSO Server çš„ç»Ÿä¸€ç™»å½•ç•Œé¢\r\n\r\n**åŸºäºCookieï¼Œç›¸å…³æ¦‚å¿µ**\r\n\r\n> ç™»é™†å‡­è¯å­˜å‚¨ï¼šç™»é™†æˆåŠŸåï¼Œç”¨æˆ·ç™»é™†å‡­è¯è¢«è‡ªåŠ¨å­˜å‚¨åœ¨æµè§ˆå™¨Cookieä¸­\r\nClientç«¯æ ¡éªŒç™»é™†çŠ¶æ€ï¼šé€šè¿‡æ ¡éªŒè¯·æ±‚Cookieä¸­çš„æ˜¯å¦åŒ…å«ç”¨æˆ·ç™»å½•å‡­è¯åˆ¤æ–­\r\n\r\nç³»ç»Ÿè§’è‰²æ¨¡å‹ï¼š\r\n- SSO Serverï¼šè®¤è¯ä¸­å¿ƒï¼Œæä¾›ç”¨æˆ·ç™»é™†ã€æ³¨é”€ä»¥åŠç™»é™†çŠ¶æ€æ ¡éªŒç­‰åŠŸèƒ½\r\n- Clientåº”ç”¨ï¼šå—SSOä¿æŠ¤çš„Clientç«¯Webåº”ç”¨ï¼Œä¸ºç”¨æˆ·æµè§ˆå™¨è®¿é—®æä¾›æœåŠ¡\r\n- ç”¨æˆ·ï¼šå‘èµ·è¯·æ±‚çš„ç”¨æˆ·ï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—®\r\n\r\n**åŸºäºTokenï¼Œç›¸å…³æ¦‚å¿µ**\r\n\r\n> ç™»é™†å‡­è¯å­˜å‚¨ï¼šç™»é™†æˆåŠŸåï¼Œè·å–åˆ°ç™»å½•å‡­è¯ï¼ˆxxl_sso_sessionid=xxxï¼‰ï¼Œéœ€è¦ä¸»åŠ¨å­˜å‚¨ï¼Œå¦‚å­˜å‚¨åœ¨ localStorageã€Sqlite ä¸­\r\nClientç«¯æ ¡éªŒç™»é™†çŠ¶æ€ï¼šé€šè¿‡æ ¡éªŒè¯·æ±‚ Headerå‚æ•° ä¸­çš„æ˜¯å¦åŒ…å«ç”¨æˆ·ç™»å½•å‡­è¯ï¼ˆxxl_sso_sessionid=xxxï¼‰åˆ¤æ–­ï¼›å› æ­¤ï¼Œå‘é€è¯·æ±‚æ—¶éœ€è¦åœ¨ Headerå‚æ•° ä¸­è®¾ç½®ç™»é™†å‡­è¯\r\n\r\nç³»ç»Ÿè§’è‰²æ¨¡å‹ï¼š\r\n- SSO Serverï¼šè®¤è¯ä¸­å¿ƒï¼Œæä¾›ç”¨æˆ·ç™»é™†ã€æ³¨é”€ä»¥åŠç™»é™†çŠ¶æ€æ ¡éªŒç­‰åŠŸèƒ½\r\n- Clientåº”ç”¨ï¼šå—SSOä¿æŠ¤çš„Clientç«¯Webåº”ç”¨ï¼Œä¸ºç”¨æˆ·è¯·æ±‚æä¾›æ¥å£æœåŠ¡\r\n- ç”¨æˆ·ï¼šå‘èµ·è¯·æ±‚çš„ç”¨æˆ·ï¼Œå¦‚ä½¿ç”¨Androidã€IOSã€æ¡Œé¢å®¢æˆ·ç«¯ç­‰è¯·æ±‚è®¿é—®\r\n\r\n**æœªç™»å½•çŠ¶æ€è¯·æ±‚å¤„ç†**\r\n\r\nåŸºäºCookieï¼Œæœªç™»å½•çŠ¶æ€è¯·æ±‚ï¼š\r\n\r\n- é¡µé¢è¯·æ±‚ï¼šredirect åˆ°SSO Serverç™»å½•ç•Œé¢\r\n- JSONè¯·æ±‚ï¼šè¿”å›æœªç™»å½•çš„JSONæ ¼å¼å“åº”æ•°æ®\r\n\r\n    - æ•°æ®æ ¼å¼ï¼š\r\n\r\n        - codeï¼š501 é”™è¯¯ç \r\n        - msgï¼šsso not login\r\n\r\nåŸºäºTokenï¼Œæœªç™»å½•çŠ¶æ€è¯·æ±‚ï¼š\r\n\r\n- è¿”å›æœªç™»å½•çš„JSONæ ¼å¼å“åº”æ•°æ®\r\n\r\n    - æ•°æ®æ ¼å¼ï¼š\r\n\r\n        - codeï¼š501 é”™è¯¯ç \r\n        - msgï¼šsso not login\r\n\r\ntodo...","post/2019/20191128/":"\n## ç®€ä»‹\n\nSpringBoot æ˜¯ç”± Pivotal å›¢é˜Ÿåœ¨ 2013 å¹´å¼€å§‹ç ”å‘ã€2014 å¹´ 4 æœˆå‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„å…¨æ–°å¼€æºçš„è½»é‡çº§æ¡†æ¶ã€‚å®ƒåŸºäº Spring4.0 è®¾è®¡ï¼Œä¸ä»…ç»§æ‰¿äº† Spring æ¡†æ¶åŸæœ‰çš„ä¼˜ç§€ç‰¹æ€§ï¼Œè€Œä¸”è¿˜é€šè¿‡ç®€åŒ–é…ç½®æ¥è¿›ä¸€æ­¥ç®€åŒ–äº† Spring åº”ç”¨çš„æ•´ä¸ªæ­å»ºå’Œå¼€å‘è¿‡ç¨‹ã€‚å¦å¤– SpringBoot é€šè¿‡é›†æˆå¤§é‡çš„æ¡†æ¶ä½¿å¾—ä¾èµ–åŒ…çš„ç‰ˆæœ¬å†²çªï¼Œä»¥åŠå¼•ç”¨çš„ä¸ç¨³å®šæ€§ç­‰é—®é¢˜å¾—åˆ°äº†å¾ˆå¥½çš„è§£å†³ã€‚\n\n:::tip\nIDEï¼šIntellij IDEA\n:::\n\n## hello world\n\nç›´æ¥ä½¿ç”¨ IDEA æ–°å»º Spring Initializrï¼Œç„¶åå’Œåˆ›å»º maven é¡¹ç›®ä¸€æ ·ä¿®æ”¹ group å’Œ artifactï¼Œtype ä¸º maven projectï¼ˆé»˜è®¤å°±æ˜¯ï¼‰ï¼Œå€¼å¾—ä¸€æçš„æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨ jar æ–¹å¼å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼Œæ‰€ä»¥ packaging å¯ä»¥é€‰æ‹© jarï¼Œç„¶å nextï¼Œä¼šè¦æ±‚é€‰æ‹©ä¾èµ–ï¼Œè¿™é‡Œå…ˆå‹¾é€‰ä¸ª web->spring webï¼Œä»¥åéœ€è¦å¯ä»¥è¿½åŠ ï¼Œä¹‹å next-finishã€‚\n\nç„¶åæ‰¾åˆ° src/main/java/åŒ…å/é‡Œé¢åº”è¯¥åº”è¯¥ä¼šæœ‰ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶\n\n```java\npackage com.alight.springbootdemo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringBootDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootDemoApplication.class, args);\n    }\n\n}\n```\n\nå¯ä»¥ç›´æ¥åœ¨é‡Œé¢å†™ controller åƒè¿™æ ·ï¼š\n\n```java\npackage com.alight.springbootdemo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@SpringBootApplication\npublic class SpringBootDemoApplication {\n    @RequestMapping(\"/\")\n    String home() {\n        return \"Hello World!\";\n    }\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootDemoApplication.class, args);\n    }\n\n}\n```\n\nç„¶åæ‰“å¼€æµè§ˆå™¨ è®¿é—®[localhost:8080](http://localhost:8080)\n\nç„¶åå®ƒå°±è¾“å‡ºäº† hello worldï¼Œso coolã€‚\n\n## åˆ›å»ºå¯æ‰§è¡Œ Jar\n\né€šè¿‡åˆ›å»ºå¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œçš„å®Œå…¨ç‹¬ç«‹çš„å¯æ‰§è¡Œ jar æ–‡ä»¶æ¥ç»“æŸç¤ºä¾‹ã€‚å¯æ‰§è¡Œ jarï¼ˆæœ‰æ—¶ç§°ä¸ºâ€œfat jarsâ€ï¼‰æ˜¯åŒ…å«æ‚¨çš„å·²ç¼–è¯‘ç±»ä»¥åŠä»£ç éœ€è¦è¿è¡Œçš„æ‰€æœ‰ jar ä¾èµ–é¡¹çš„å½’æ¡£æ–‡ä»¶ã€‚\n\n:::tip\n**å¯æ‰§è¡Œ Jar å’Œ Java**\n\nJava æ²¡æœ‰æä¾›åŠ è½½åµŒå¥— jar æ–‡ä»¶ï¼ˆjar ä¸­æœ¬èº«åŒ…å«çš„ jar æ–‡ä»¶ï¼‰çš„æ ‡å‡†æ–¹æ³•ã€‚å¦‚æœæ‚¨è¦åˆ†å‘ç‹¬ç«‹çš„åº”ç”¨ç¨‹åºï¼Œåˆ™å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®¸å¤šå¼€å‘äººå‘˜ä½¿ç”¨ uber jarsã€‚uber jar å°†æ¥è‡ªåº”ç”¨ç¨‹åºæ‰€æœ‰ä¾èµ–é¡¹çš„æ‰€æœ‰ç±»æ‰“åŒ…åˆ°å•ä¸ªå­˜æ¡£ä¸­ã€‚è¿™ç§æ–¹æ³•çš„é—®é¢˜åœ¨äºï¼Œå¾ˆéš¾æŸ¥çœ‹åº”ç”¨ç¨‹åºä¸­åŒ…å«å“ªäº›åº“ã€‚å¦‚æœåœ¨å¤šä¸ª jar ä¸­ä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶åï¼ˆä½†å…·æœ‰ä¸åŒçš„å†…å®¹ï¼‰ï¼Œä¹Ÿå¯èƒ½ä¼šäº§ç”Ÿé—®é¢˜ã€‚\nSpring Boot é‡‡ç”¨äº†å¦ä¸€ç§æ–¹æ³•ï¼Œå®é™…ä¸Šå…è®¸æ‚¨ç›´æ¥åµŒå¥— jarã€‚\n\nè¦åˆ›å»ºå¯æ‰§è¡Œ jarï¼Œæˆ‘ä»¬éœ€è¦å°†æ·»åŠ `spring-boot-maven-plugin`åˆ°`pom.xml`ã€‚ä¸ºæ­¤ï¼Œè¯·åœ¨è¯¥`dependencies`éƒ¨åˆ†ä¸‹æ–¹æ’å…¥ä»¥ä¸‹è¡Œï¼š\n:::\n\n```xml\n\u003Cbuild>\n    \u003Cplugins>\n        \u003Cplugin>\n            \u003CgroupId>org.springframework.boot\u003C/groupId>\n            \u003CartifactId>spring-boot-maven-plugin\u003C/artifactId>\n        \u003C/plugin>\n    \u003C/plugins>\n\u003C/build>\n```\n\nå¦‚æœåˆšæ‰æ˜¯ä½¿ç”¨ä¸Šè¿°æ–¹å¼åˆ›å»ºçš„é¡¹ç›®ï¼Œåˆ™åº”è¯¥ä¼šè‡ªåŠ¨æ·»åŠ è¯¥æ’ä»¶\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•è¾“å…¥`mvn package`\n\næ­¤æ—¶ï¼Œå¦‚æœæŸ¥çœ‹ target ç›®å½•ï¼Œåˆ™åº”è¯¥çœ‹åˆ° spring-boot-demo-0.0.1-SNAPSHOT.jarã€‚è¯¥æ–‡ä»¶çš„å¤§å°åº”ä¸º 10 MB å·¦å³ã€‚å¦‚æœæ‚¨æƒ³çª¥è§†å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨`jar tvf`\n\n```\n$ jar tvf target / spring-boot-demo-0.0.1-SNAPSHOT.jar\n```\n\næ‚¨è¿˜åº”è¯¥åœ¨ target ç›®å½•ä¸­çœ‹åˆ°ä¸€ä¸ªæ›´å°çš„æ–‡ä»¶ spring-boot-demo-0.0.1-SNAPSHOT.jar.originalã€‚è¿™æ˜¯ Maven åœ¨ Spring Boot é‡æ–°æ‰“åŒ…ä¹‹å‰åˆ›å»ºçš„åŸå§‹ jar æ–‡ä»¶ã€‚\n\nè¦è¿è¡Œè¯¥åº”ç”¨ç¨‹åºï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ java -jar å‘½ä»¤ï¼š\n\n```\n$ java -jar target / spring-boot-demo-0.0.1-SNAPSHOT.jar\n```\n\nå’Œä»¥å‰ä¸€æ ·ï¼Œè¦é€€å‡ºè¯¥åº”ç”¨ç¨‹åºï¼Œè¯·æŒ‰ ctrl-cã€‚\n\n## æ ¼å¼åŒ– JSON æ—¶é—´\n\nåœ¨ REST API ä¸­ï¼Œè¿”å›çš„æ—¶é—´ï¼ˆjsonï¼‰å°†ä¼šæ˜¯æ ‡å‡†æ—¶é—´ï¼ŒåŠ ä¸Šæ—¶åŒºç­‰ä¸€å¤§ä¸²å­—ç¬¦ï¼Œå¯è¯»æ€§ä¼šæ¯”è¾ƒå·®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›è¿”å›ä¸€ä¸ªå¯è¯»æ€§æ¯”è¾ƒå¼ºçš„æ—¶é—´ï¼Œå› æ­¤éœ€è¦ä¸€äº›ç®€å•çš„é…ç½®ã€‚\n\n```yaml\nspring\n  jackson:\n    date-format: yyyy-MM-dd HH:mm:ss\n    time-zone: GMT+8\n```\n\né€šè¿‡ä»¥ä¸Šé…ç½®ï¼Œè¿”å›çš„æ—¶é—´æ ¼å¼å¯è¯»æ€§æ˜æ˜¾æå‡ã€‚\n\n## Hot Swap\n\n:::warning\nå¼ƒå‘ï¼Œå¹¶ä¸å¥½ç”¨ï¼Œç»å¸¸å‡ºç°æ›´æ–°ä¸åŠæ—¶ç­‰å…¶ä»–é—®é¢˜ã€‚\n\næ€»ç»“ï¼šä¸å¦‚æ‰‹åŠ¨é‡æ–°å¯åŠ¨çœå¿ƒ - -\n:::\n\nåŒå€¦äº†åœ¨ idea æ¯æ¬¡ä¿®æ”¹ä»£ç åéƒ½éœ€è¦é‡æ–°å¯åŠ¨äº†ï¼Ÿ\n\nokï¼Œæ˜¯æ—¶å€™ä½¿ç”¨çƒ­æ’æ‹”ï¼ˆæœ‰çš„æ—¶å€™ä¹Ÿæœ‰äººå«çƒ­äº¤æ¢ï¼Œçƒ­éƒ¨ç½²ï¼Œwhateverï¼Œæ€»ä¹‹éƒ½å·®ä¸å¤šï¼‰æ¥ç®€åŒ–ä½ çš„å¼€å‘äº†ã€‚ï¼ˆå½“ä½ è§‰å¾—èŠ±äº†å¤ªå¤šæ—¶é—´åœ¨ç­‰å¾…æ—¶ï¼Œä½ å°±åº”è¯¥è€ƒè™‘äº†è§£æ–°æŠ€æœ¯æ¥ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹äº†ï¼‰\n\nç¯å¢ƒä¾ç„¶æ˜¯ springboot+idea\n\né¦–å…ˆä½ éœ€è¦å¯¼å…¥ spring-boot-devtoolsï¼Œæ²¡æœ‰åŠ ä¸Šç‰ˆæœ¬æ˜¯å› ä¸ºé€šå¸¸éƒ½é…ç½®äº† spring-boot-starter-parent\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>org.springframework.boot\u003C/groupId>\n    \u003CartifactId>spring-boot-devtools\u003C/artifactId>\n    \u003Coptional>true\u003C/optional>\n    \u003Cscope>true\u003C/scope>\n\u003C/dependency>\n```\n\nåŒæ—¶è¿˜éœ€åŠ ä¸Šæ’ä»¶é…ç½®\n\n```xml\n\u003Cplugin>\n    \u003CgroupId>org.springframework.boot\u003C/groupId>\n    \u003CartifactId>spring-boot-maven-plugin\u003C/artifactId>\n    \u003Cconfiguration>\n        \u003C!--å¦‚æœè¦ä½¿ç”¨æ„å»ºæ’ä»¶ä»Mavenæˆ–Gradleé‡æ–°å¯åŠ¨ï¼Œåˆ™å¿…é¡»å°†forkingè®¾ç½®ä¿ç•™ä¸ºenabled-->\n        \u003Cfork>true\u003C/fork>\n    \u003C/configuration>\n\u003C/plugin>\n```\n\nä¹‹åæ‰“å¼€ IDEA è®¾ç½®ï¼Œæœç´¢ compiler æ‰¾åˆ°`Build project automatically`å‹¾é€‰ã€‚\n\nå†ç„¶ååœ¨ IDEA ä¸­ä½¿ç”¨å¿«æ·é”® `Ctrl+Shift+Alt+/`ï¼Œç‚¹å‡»`Registry...`ï¼Œæ‰¾åˆ° `compiler.automake.allow.when.app.running`ï¼Œå‹¾é€‰--->closeã€‚\n\né‡å¯è¿›è¡Œæµ‹è¯•ï¼Œå‘ç°åŠŸèƒ½æ­£å¸¸ç”Ÿæ•ˆï¼Œä½†æ˜¯æ¯æ¬¡ä¿®æ”¹éƒ½éœ€ç­‰å¾…ç‰‡åˆ»ï¼ˆç›®æµ‹ 5s+ï¼‰æ‰èƒ½è‡ªåŠ¨é‡æ–°éƒ¨ç½²ã€‚\n\n:::danger\næ³¨æ„ï¼Œå¦‚æœä¿®æ”¹å¯¼è‡´ä»£ç å‡ºç°é”™è¯¯è€Œå¯¼è‡´åº”ç”¨è‡ªåŠ¨é€€å‡ºï¼Œåˆ™ä»éœ€è¦æ‰‹åŠ¨é‡å¯ã€‚\n:::\n\n:::tip\né…åˆæµè§ˆå™¨ livereload æ’ä»¶é£Ÿç”¨æ•ˆæœæ›´ä½³\n:::\n\n:::details{text=\"æ›´å¤šå‚è€ƒ\"}\n\n[https://www.jetbrains.com/help/idea/spring-boot.html#application-update-policies](https://www.jetbrains.com/help/idea/spring-boot.html#application-update-policies)\n\n[https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-devtools](https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-devtools)\n:::\n\n## PathVariable\n\nè·¯å¾„å‚æ•°å¯ä»¥è¯´æ˜¯ååˆ†å¸¸è§çš„åŠŸèƒ½äº†ã€‚\n\nè¿™é‡Œç®€å•è´´ä¸ª demo\n\n```java\n@GetMapping(\"products/{id}\")\n@ApiOperation(\"é€šè¿‡idè·å–æŒ‡å®šäº§å“ä¿¡æ¯\")\npublic Product getOne(@PathVariable String id){\n    return ProductService.getById(id);\n}\n```\n\n## å…¨å±€å¼‚å¸¸æ•è·\n\nåˆ›å»ºä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„é…ç½®ç±»å³å¯ï¼Œå¯è‡ªè¡Œæ·»åŠ ç‰¹æ®Šæ•è·å¤„ç†çš„å¼‚å¸¸\n\n```java\n@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(Exception.class) // å¯æ¢æˆæ›´ç»†ç²’åº¦çš„å¼‚å¸¸æ•è·\n    public ResponseEntity error(Exception e) {\n        e.printStackTrace();\n        return ResponseEntityFactory.build(HttpStatus.BAD_REQUEST, e.getCause().getMessage());\n    }\n\n}\n```\n\n404 å¼‚å¸¸æ•è·(æœªå­˜åœ¨çš„ url)éœ€è¦æ·»åŠ ä»¥ä¸‹é…ç½®\n\n`application.yml`\n\n```yaml\nspring:\n    mvc:\n        throw-exception-if-no-handler-found: true # non-existed url will throw exception\n```\n\nç„¶åè‡ªå®šä¹‰ error æ§åˆ¶å™¨\n\n```java\n@RestController\n@RequestMapping(\"/\")\npublic class BaseController implements ErrorController {\n\n    @RequestMapping(\"error\")\n    public ResponseEntity error() {\n        // return anything you want\n        return ResponseEntityFactory.build(HttpStatus.NOT_FOUND);\n    }\n\n    @Override\n    public String getErrorPath() {\n        return \"error\";\n    }\n}\n```\n\n## å‚æ•°æ ¡éªŒ\n\nåœ¨ Spring Boot 2.3 1 å‰ï¼Œ`spring-boot-starter-web`è‡ªå¸¦`spring-boot-starter-validation`ï¼Œå¦‚æœæ˜¯æ²¡æœ‰è‡ªå¸¦çš„è¯ï¼Œåˆ™éœ€è¦è‡ªå·±æ·»åŠ \n\n_pom.xml_\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>org.springframework.boot\u003C/groupId>\n    \u003CartifactId>spring-boot-starter-validation\u003C/artifactId>\n\u003C/dependency>\n```\n\nåœ¨ controler ä¸­éœ€è¦æ ¡éªŒçš„å‚æ•°å‰åŠ ä¸Š `@valid` æ³¨è§£\n\n```java\n@PostMapping(\"products\")\npublic ResponseEntity insert(@Valid Products products) {\n    ...\n}\n```\n\n:::tip\né™¤äº†å®ä½“ç±»ï¼Œå•ä¸ªå‚æ•°ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨è¯¥æ³¨è§£å¹¶åŠ ä¸Šæƒ³åº”çº¦æŸæ³¨è§£å³å¯\n:::\n\nç„¶ååœ¨ç›¸å…³**å®ä½“ç±»**åŠ ä¸Šç›¸åº”çš„æ³¨è§£è¿›è¡Œçº¦æŸå³å¯\n\n:::details{text=\"å¸¸è§çš„æ³¨è§£\"}\n| æ³¨è§£ | æè¿° |\n| --------------------------- | ----------------------------- |\n| @Null | å¿…é¡»ä¸º Null |\n| @NotNull | ä¸èƒ½ä¸º Null |\n| @AssertTrue | å¿…é¡»ä¸º True |\n| @AssertFalse | å¿…é¡»ä¸º false |\n| @Min(value) | æ•°å­—ç±»å‹çš„æœ€å°å€¼ |\n| @Max(value) | æ•°å­—ç±»å‹çš„æœ€å¤§å€¼ |\n| @DecimalMin(value) | æ•°å­—ç±»å‹çš„æœ€å°å€¼ |\n| @DecimalMax(value) | æ•°å­—ç±»å‹çš„æœ€å¤§å€¼ |\n| @Size(max=, min=) | å­—ç¬¦æˆ–è€…é›†åˆçš„å¤§å°åŒºé—´ |\n| @Digits (integer, fraction) | æ•°å­—å–å€¼åŒºé—´ |\n| @Past | å¿…é¡»æ˜¯è¿‡å»çš„æ—¶é—´ |\n| @Future | å¿…é¡»æ˜¯å°†æ¥çš„æ—¶é—´ |\n| @Pattern(regex=,flag=) | æ­£åˆ™åŒ¹é… |\n| @NotBlank(message =) | å­—ç¬¦ä¸²é Nullï¼Œä¸” trim ä¹‹åå¤§äº 0 |\n| @Email | é‚®ä»¶åœ°å€ |\n| @Length(min=,max=) | å­—ç¬¦ä¸²é•¿åº¦èŒƒå›´ |\n| @NotEmpty | å­—ç¬¦ä¸²éç©º |\n| @Range(min=,max=,message=) | å…ƒç´ èŒƒå›´é™åˆ¶ |\n:::\n\n## ç»Ÿä¸€è¿”å›ç»“æœ\n\nSpring è‡ªå¸¦çš„ ReponseEntity+HttpStatus ååˆ†å¥½ç”¨ã€‚\n\n:::details{text=\"å¤‡ä»½ä¸€ä¸ª RepsoneEntityFactory\"}\n```java\npublic class ResponseEntityFactory {\n\n    private ResponseEntityFactory() {\n    }\n\n    public static ResponseEntity build(HttpStatus httpStatus, Object data) {\n        Map resultMap = null;\n        if (data instanceof Map) {\n            resultMap = (Map) data;\n        } else {\n            resultMap = new HashMap();\n            resultMap.put(\"data\", data);\n        }\n        resultMap.put(\"code\", httpStatus.value());\n        resultMap.put(\"msg\", httpStatus.getReasonPhrase());\n        return new ResponseEntity(resultMap, httpStatus);\n    }\n\n    public static ResponseEntity build(HttpStatus httpStatus, String msg, Object data) {\n        Map resultMap = null;\n        if (data instanceof Map) {\n            resultMap = (Map) data;\n        } else {\n            resultMap = new HashMap();\n            resultMap.put(\"data\", data);\n        }\n        resultMap.put(\"code\", httpStatus.value());\n        resultMap.put(\"msg\", msg);\n        return new ResponseEntity(resultMap, httpStatus);\n    }\n\n    public static ResponseEntity build(HttpStatus httpStatus) {\n        Map\u003CString, Object> resultMap = new HashMap\u003C>();\n        resultMap.put(\"code\", httpStatus.value());\n        resultMap.put(\"msg\", httpStatus.getReasonPhrase());\n        return new ResponseEntity(resultMap, httpStatus);\n    }\n\n    public static ResponseEntity build(HttpStatus httpStatus, String msg) {\n        Map\u003CString, Object> resultMap = new HashMap\u003C>();\n        resultMap.put(\"code\", httpStatus.value());\n        resultMap.put(\"msg\", msg);\n        return new ResponseEntity(resultMap, httpStatus);\n    }\n}\n```\n:::\n\n## æ—¥å¿—ç³»ç»Ÿ\n\nSpringBoot é»˜è®¤é‡‡ Logback è¿›è¡Œæ—¥å¿—è®°å½•ï¼Œå¹¶ä¸”é»˜è®¤è¾“å‡º info çº§åˆ«çš„æ—¥å¿—åˆ°æ§åˆ¶å°ã€‚\n\n**æ—¥å¿—çº§åˆ«**åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªï¼Œ`ERROR`ï¼Œ`WARN`ï¼Œ`INFO`ï¼Œ`DEBUG`ï¼Œ`FATAL`ï¼Œ`OFF`ï¼Œ`TRACE`.æ—¥å¿—ç­‰çº§è¶Šé«˜ï¼Œè¾“å‡ºçš„æ—¥å¿—è¶Šå¤šï¼Œæ¯”å¦‚åœ¨ info çº§åˆ«ä¸‹ï¼Œä¼šåŒæ—¶è¾“å‡º infoã€warnã€error ä¸‰ä¸ªçº§åˆ«çš„æ—¥å¿—ã€‚åˆ‡æ¢ç­‰çº§åªéœ€è¦åœ¨`application.xml`é…ç½®æ–‡ä»¶æŒ‡å®š`logging.level.root = xxx`å³å¯ï¼ˆyaml åŒç†ï¼‰ã€‚\n\nfor exampleï¼š\n\n```properties\nlogging.level.root=warn\nlogging.level.org.springframework.web=debug\nlogging.level.org.hibernate=error\n```\n\n:::tip\nTRACE çº§åˆ«å¯ä»¥è¿½è¸ªåˆ° web å®¹å™¨çš„æ—¥å¿—\n:::\n\n:::warning\nLogback æ²¡æœ‰ FATAL ç­‰çº§\n:::\n\n**æ–‡ä»¶æ—¥å¿—**é»˜è®¤æ˜¯æ²¡æœ‰æ‰“å¼€çš„ï¼ˆé»˜è®¤è¾“å‡ºåˆ°æ§åˆ¶å°ï¼‰ï¼Œéœ€è¦æ‰‹åŠ¨åœ¨é…ç½®æ–‡ä»¶æŒ‡å®š`logging.file.name`ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚\n\né»˜è®¤æƒ…å†µä¸‹åªä¼šä¿å­˜ 7 å¤©æ—¥å¿—ï¼Œç›¸å…³çš„é…ç½®ä¸º`logging.file.max-history`ã€‚\n\né»˜è®¤æƒ…å†µä¸‹æ—¥å¿—æ–‡ä»¶çš„å¤§å°é™åˆ¶ä¸º 10MBï¼Œç›¸å…³çš„é…ç½®ä¸º`logging.file.max-size`ã€‚\n\n`logging.file.total-size-cap`ï¼šè¯¥å±æ€§ç”¨äºé™åˆ¶å‹ç¼©æ–‡ä»¶çš„æ€»å¤§å°ã€‚ï¼ˆéš”å¤©å¯åŠ¨å‘ç°å‰ä¸€å¤©çš„æ—¥å¿—è¢«æ”¾è¿›`.gz`å‹ç¼©åŒ…ã€‚ï¼‰\n\n`logging.file.clean-history-on-start`ï¼šæ¸…é™¤å†å²æ—¥å¿—åœ¨åº”ç”¨å¯åŠ¨æ—¶ã€‚\n\n:::warning\næ—¥å¿—çš„é…ç½®æ–‡ä»¶ä¸å®é™…çš„æ—¥å¿—åŸºç¡€ç»“æ„æ— å…³ã€‚å› æ­¤ï¼ŒSpring Boot ä¸ä¼šç®¡ç†ç‰¹å®šçš„é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ Logback çš„`logback.configurationFile`ï¼‰ã€‚\n:::\n\n**æ—¥å¿—åˆ†ç»„**\n\nä¸¾ä¸ªä¾‹å­ï¼Œå°† tomcat çš„æ—¥å¿—å½’åˆ°ä¸€ç»„ï¼ŒåŒ…åéœ€è¦è‡ªå·±é…ç½®ï¼Œè®¾ç½®æ—¥å¿—çº§åˆ«ä¸º TRACE.\n\n```properties\nlogging.group.tomcat=org.apache.catalina, org.apache.coyote, org.apache.tomcat\nlogging.level.tomcat=TRACE\n```\n\nSpringBoot é»˜è®¤åŒ…å«äº† web å’Œ sql ç»„ï¼Œä»–ä»¬åŒ…å«çš„åŒ…å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n| **Name** | **Loggers**                                                                                                                                                                                                     |\n| -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| web      | `org.springframework.core.codec`, `org.springframework.http`, `org.springframework.web`, `org.springframework.boot.actuate.endpoint.web`, `org.springframework.boot.web.servlet.ServletContextInitializerBeans` |\n| sql      | `org.springframework.jdbc.core`, `org.hibernate.SQL`, `org.jooq.tools.LoggerListener`                                                                                                                           |\n\n**æ—¥å¿—å…³é—­é’©å­**ï¼ˆLog Shutdown Hookï¼‰ï¼Œå¯ä»¥è®©ä½ åœ¨å¯åŠ¨ç¨‹åºç»“æŸç«‹å³å…³é—­æ—¥å¿—è®°å½•ã€‚\n\n```properties\nlogging.register-shutdown-hook=true\n```\n\n**è‡ªå®šä¹‰æ—¥å¿—é…ç½®æ–‡ä»¶**ï¼ŒLogback çš„è‡ªå®šä¹‰é…ç½®æ–‡ä»¶åä¸º`logback-spring.xml`ï¼Œæ›´å¤šå‚è€ƒ[boot-features-custom-log-configuration](https://docs.spring.io/spring-boot/docs/2.3.10.RELEASE/reference/html/spring-boot-features.html#boot-features-custom-log-configuration)\n\n:::details{text=\"ä»¿ springboot é»˜è®¤æ—¥å¿—æ ¼å¼\"}\n\n1. æ·»åŠ  pid è½¬æ¢å™¨\n\n`ProcessIdConverter`\n\n```java\npublic class ProcessIdConverter extends ClassicConverter {\n\n    @Override\n    public String convert(ILoggingEvent iLoggingEvent) {\n        return ManagementFactory.getRuntimeMXBean().getName().split(\"@\")[0];\n    }\n}\n\n```\n\n2. æ³¨å†Œ pid key\n\n```xml\n\u003CconversionRule conversionWord=\"pid\"\n                    converterClass=\"xyz.ayay.servicebase.config.ProcessIdConverter\" />\n```\n\n3. ä¿®æ”¹ pattern\n\n```\n%yellow(%date{yyyy-MM-dd HH:mm:ss.SSS})  %highlight(%-5level) %magenta(%pid) --- [%15.15thread]  %-60.60cyan(%logger{40}) : %m%n\n```\n\n:::\n\nåŒæ—¶ Spring é»˜è®¤æä¾›äº†å¤§é‡çš„**Logback æ‰©å±•**ï¼Œè¯¦æƒ…å‚è€ƒ[boot-features-logback-extensions](https://docs.spring.io/spring-boot/docs/2.3.10.RELEASE/reference/html/spring-boot-features.html#boot-features-logback-extensions)\n\n:::tip\nå…·ä½“åœ¨ SpringBoot ä¸­ï¼Œåªéœ€è¦åœ¨ç±»å¤´ä½¿ç”¨`@Slf4j`æ³¨è§£ï¼Œå°±å¯ä»¥åœ¨ç±»ä¸­ä½¿ç”¨ log.xxx è®°å½•æ—¥å¿—äº†\n:::\n","post/2019/20191129/":"\r\n### å®‰è£…å¯åŠ¨\r\nå®‰è£…ç›´æ¥å»å®˜ç½‘ä¸‹è½½ç„¶åè§£å‹å³å¯\r\n\r\nwindowsæ­£å¸¸å°±æ˜¯é€šè¿‡binç›®å½•ä¸‹çš„`.\\activemq start`å‘½ä»¤å³å¯å¯åŠ¨ï¼ˆ5.10ä»¥å‰ä¸ç”¨åŠ startï¼‰\r\n\r\nLinuxåˆ™æ˜¯`./activemq start`\r\n\r\nç„¶åå¯ä»¥é€šè¿‡`localhost:8161/admin`è®¿é—®webæ§åˆ¶å°ï¼Œé»˜è®¤ç”¨æˆ·åå¯†ç éƒ½æ˜¯adminã€‚\r\n\r\n### å‘é€æµ‹è¯•\r\n```java\r\nimport javax.jms.Connection;\r\nimport javax.jms.ConnectionFactory;\r\nimport javax.jms.DeliveryMode;\r\nimport javax.jms.Destination;\r\nimport javax.jms.MessageProducer;\r\nimport javax.jms.Session;\r\nimport javax.jms.TextMessage;\r\n\r\nimport org.apache.activemq.ActiveMQConnectionFactory;\r\n\r\npublic class Sender {\r\n\r\n    public static final String USERNAME = ActiveMQConnectionFactory.DEFAULT_USER;\r\n\r\n    public static final String PASSWORD = ActiveMQConnectionFactory.DEFAULT_PASSWORD;\r\n\r\n    public static final String URL = \"tcp://127.0.0.1:61616\";\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        // ç¬¬ä¸€æ­¥ï¼šå»ºç«‹ConnectionFactoryå·¥å‚å¯¹è±¡ï¼Œéœ€è¦å¡«å…¥ç”¨æˆ·åï¼Œå¯†ç ï¼Œä»¥åŠè¿æ¥çš„åœ°å€ã€‚é»˜è®¤tcp://127.0.0.1:61616\r\n        ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(USERNAME, PASSWORD, URL);\r\n\r\n        // ç¬¬äºŒéƒ¨ï¼šé€šè¿‡ConnectionFactoryå·¥å‚å¯¹è±¡æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªConnectionè¿æ¥\r\n        // å¹¶ä¸”è°ƒç”¨Connectionçš„startå¯åŠ¨è¿æ¥ï¼Œ Connectioné»˜è®¤æ˜¯å…³é—­çš„ã€‚\r\n        Connection connection = connectionFactory.createConnection();\r\n        connection.start();\r\n\r\n        // ç¬¬ä¸‰éƒ¨ï¼šé€šè¿‡Connectionå¯¹è±¡åˆ›å»ºSessionä¼šè¯ï¼ˆä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡ï¼‰ï¼Œç”¨äºæ¥å—æ¶ˆæ¯\r\n        // å‚æ•°é…ç½®1ä¸ºæ˜¯å¦å¯ç”¨äº‹ç‰©ï¼Œå‚æ•°é…ç½®2ä¸ºç­¾æ”¶æ¨¡å¼ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºè‡ªåŠ¨ç­¾æ”¶ã€‚\r\n        Session session = connection.createSession(Boolean.FALSE, Session.AUTO_ACKNOWLEDGE);\r\n\r\n        // ç¬¬å››éƒ¨ï¼š é€šè¿‡Sessionåˆ›å»ºDestinationï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ç”¨æ¥æŒ‡å®šç”Ÿäº§æ¶ˆæ¯ç›®æ ‡å’Œæ¶ˆæ¯æ¥æºçš„å¯¹è±¡\r\n        // åœ¨ptpæ¨¡å¼ä¸­ï¼ŒDestinationè¢«ç§°åšä¸ºQueueï¼ˆé˜Ÿåˆ—ï¼‰ï¼Œåœ¨Pub/Subæ¨¡å¼ä¸‹ï¼ŒDestinationè¢«ç§°ä½œTopicï¼ˆä¸»é¢˜ï¼‰\r\n        Destination destination =  session.createQueue(\"helloworld-queue\");\r\n\r\n        // ç¬¬äº”æ­¥ï¼šæˆ‘ä»¬éœ€è¦é€šè¿‡Sessionå¯¹è±¡åˆ›å»ºæ¶ˆæ¯çš„å‘é€å’Œæ¥å—å¯¹è±¡ï¼Œï¼ˆç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼‰MessageProducer/MessageConsumer\r\n        MessageProducer producer = session.createProducer(destination);\r\n\r\n        // ç¬¬å…­æ­¥ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨MessageProducerçš„setDeliveryModeæ–¹æ³•ä¸ºå…¶è®¾ç½®æŒä¹…åŒ–ç‰¹æ€§å’ŒéæŒä¹…åŒ–ç‰¹æ€§ï¼ˆDeliveryModeï¼‰\r\n        producer.setDeliveryMode(DeliveryMode.PERSISTENT);\r\n\r\n        // ç¬¬ä¸ƒéƒ¨ï¼šæœ€åæˆ‘ä»¬ä½¿ç”¨jmsè§„èŒƒçš„TextMessageå½¢å¼åˆ›å»ºæ•°æ®ï¼ˆé€šè¿‡Sessionå¯¹è±¡ï¼‰ï¼Œ\r\n        // å¹¶ç”¨MessageProducerçš„sendæ–¹æ³•å‘é€æ•°æ®ï¼ŒåŒç†å®¢æˆ·ç«¯ä½¿ç”¨receiveæ–¹æ³•è¿›è¡Œæ¥å—æ•°æ®ã€‚\r\n        TextMessage message = session.createTextMessage(\"producer hello word!\");\r\n        producer.send(message);\r\n\r\n        // æœ€åä¸è¦å¿˜äº†å…³é—­èµ„æºã€‚\r\n        if (connection != null) {\r\n            connection.close();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n### æ¥æ”¶æµ‹è¯•\r\n```java\r\nimport javax.jms.Connection;\r\nimport javax.jms.ConnectionFactory;\r\nimport javax.jms.Destination;\r\nimport javax.jms.MessageConsumer;\r\nimport javax.jms.Session;\r\nimport javax.jms.TextMessage;\r\n\r\nimport org.apache.activemq.ActiveMQConnectionFactory;\r\n\r\npublic class Receiver {\r\n\r\n    public static final String USERNAME = ActiveMQConnectionFactory.DEFAULT_USER;\r\n\r\n    public static final String PASSWORD = ActiveMQConnectionFactory.DEFAULT_PASSWORD;\r\n\r\n    public static final String URL = \"tcp://127.0.0.1:61616\";\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        // ç¬¬ä¸€æ­¥ï¼šå»ºç«‹ConnectionFactoryå·¥å‚å¯¹è±¡ï¼Œéœ€è¦å¡«å…¥ç”¨æˆ·åï¼Œå¯†ç ï¼Œä»¥åŠè¿æ¥çš„åœ°å€ã€‚é»˜è®¤tcp://127.0.0.1:61616\r\n        ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(USERNAME, PASSWORD, URL);\r\n\r\n        // ç¬¬äºŒéƒ¨ï¼šé€šè¿‡ConnectionFactoryå·¥å‚å¯¹è±¡æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªConnectionè¿æ¥\r\n        // å¹¶ä¸”è°ƒç”¨Connectionçš„startå¯åŠ¨è¿æ¥ï¼Œ Connectioné»˜è®¤æ˜¯å…³é—­çš„ã€‚\r\n        Connection connection = connectionFactory.createConnection();\r\n        connection.start();\r\n\r\n        // ç¬¬ä¸‰éƒ¨ï¼šé€šè¿‡Connectionå¯¹è±¡åˆ›å»ºSessionä¼šè¯ï¼ˆä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡ï¼‰ï¼Œç”¨äºæ¥å—æ¶ˆæ¯\r\n        // å‚æ•°é…ç½®1ä¸ºæ˜¯å¦å¯ç”¨äº‹ç‰©ï¼Œå‚æ•°é…ç½®2ä¸ºç­¾æ”¶æ¨¡å¼ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºè‡ªåŠ¨ç­¾æ”¶ã€‚\r\n        Session session = connection.createSession(Boolean.FALSE, Session.AUTO_ACKNOWLEDGE);\r\n\r\n        // ç¬¬å››éƒ¨ï¼š é€šè¿‡Sessionåˆ›å»ºDestinationï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ç”¨æ¥æŒ‡å®šç”Ÿäº§æ¶ˆæ¯ç›®æ ‡å’Œæ¶ˆæ¯æ¥æºçš„å¯¹è±¡\r\n        // åœ¨ptpæ¨¡å¼ä¸­ï¼ŒDestinationè¢«ç§°åšä¸ºQueueï¼ˆé˜Ÿåˆ—ï¼‰ï¼Œåœ¨Pub/Subæ¨¡å¼ä¸‹ï¼ŒDestinationè¢«ç§°ä½œTopicï¼ˆä¸»é¢˜ï¼‰\r\n        // åˆ°æ­¤å¤„ä¸ºæ­¢ï¼Œå’Œç”Ÿäº§ç«¯çš„ä»£ç ä¸€æ ·\r\n        Destination destination =  session.createQueue(\"helloworld-queue\");\r\n\r\n        // ç¬¬äº”æ­¥ï¼šåˆ›å»ºMessageConsumerå¯¹è±¡\r\n        MessageConsumer consumer = session.createConsumer(destination);\r\n\r\n        // ç¬¬å…­æ­¥ï¼šæ¥å—message\r\n        TextMessage message = (TextMessage) consumer.receive();\r\n        System.out.println(message.getText());\r\n\r\n        // æœ€åä¸è¦å¿˜äº†å…³é—­èµ„æºã€‚\r\n        if (connection != null) {\r\n            connection.close();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n**æ¥å—ç»“æœ**\r\n>producer hello word!\r\n\r\n### æœ€å\r\nè‡³æ­¤ï¼Œå°±æ˜¯ActiveMQçš„åŸºæœ¬ä½¿ç”¨ï¼Œè‡³äºå…¶ä»–ç‰¹æ€§å¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](http://activemq.apache.org/components/classic/documentation)ã€‚\r\n","post/2019/20191202/":"\r\n### å•ä¾‹æ¨¡å¼\r\n\r\nå•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰æ˜¯ Java ä¸­æœ€ç®€å•çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚\r\n\r\nè¿™ç§æ¨¡å¼æ¶‰åŠåˆ°ä¸€ä¸ªå•ä¸€çš„ç±»ï¼Œè¯¥ç±»è´Ÿè´£åˆ›å»ºè‡ªå·±çš„å¯¹è±¡ï¼ŒåŒæ—¶ç¡®ä¿åªæœ‰å•ä¸ªå¯¹è±¡åˆ›å»ºã€‚è¿™ä¸ªç±»æä¾›äº†ä¸€ç§è®¿é—®å…¶å”¯ä¸€çš„å¯¹è±¡çš„æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ï¼Œä¸éœ€è¦å®ä¾‹åŒ–è¯¥ç±»çš„å¯¹è±¡ã€‚\r\n\r\n**æ³¨æ„ï¼š**\r\n\r\n- 1ã€å•ä¾‹ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ã€‚\r\n- 2ã€å•ä¾‹ç±»å¿…é¡»è‡ªå·±åˆ›å»ºè‡ªå·±çš„å”¯ä¸€å®ä¾‹ã€‚\r\n- 3ã€å•ä¾‹ç±»å¿…é¡»ç»™æ‰€æœ‰å…¶ä»–å¯¹è±¡æä¾›è¿™ä¸€å®ä¾‹ã€‚\r\n\r\n\r\n#### ä»‹ç»\r\n\r\n**æ„å›¾:** ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚\r\n**ä¸»è¦è§£å†³ï¼š** ä¸€ä¸ªå…¨å±€ä½¿ç”¨çš„ç±»é¢‘ç¹åœ°åˆ›å»ºä¸é”€æ¯ã€‚\r\n**ä½•æ—¶ä½¿ç”¨ï¼š** å½“æ‚¨æƒ³æ§åˆ¶å®ä¾‹æ•°ç›®ï¼ŒèŠ‚çœç³»ç»Ÿèµ„æºçš„æ—¶å€™ã€‚\r\n**å¦‚ä½•è§£å†³ï¼š** åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦å·²ç»æœ‰è¿™ä¸ªå•ä¾‹ï¼Œå¦‚æœæœ‰åˆ™è¿”å›ï¼Œå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºã€‚\r\n**å…³é”®ä»£ç ï¼š** æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ã€‚\r\n**åº”ç”¨å®ä¾‹ï¼š**\r\n\r\n- 1ã€ä¸€ä¸ªç­çº§åªæœ‰ä¸€ä¸ªç­ä¸»ä»»ã€‚\r\n- 2ã€Windows æ˜¯å¤šè¿›ç¨‹å¤šçº¿ç¨‹çš„ï¼Œåœ¨æ“ä½œä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå°±ä¸å¯é¿å…åœ°å‡ºç°å¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹åŒæ—¶æ“ä½œä¸€ä¸ªæ–‡ä»¶çš„ç°è±¡ï¼Œæ‰€ä»¥æ‰€æœ‰æ–‡ä»¶çš„å¤„ç†å¿…é¡»é€šè¿‡å”¯ä¸€çš„å®ä¾‹æ¥è¿›è¡Œã€‚\r\n- 3ã€ä¸€äº›è®¾å¤‡ç®¡ç†å™¨å¸¸å¸¸è®¾è®¡ä¸ºå•ä¾‹æ¨¡å¼ï¼Œæ¯”å¦‚ä¸€ä¸ªç”µè„‘æœ‰ä¸¤å°æ‰“å°æœºï¼Œåœ¨è¾“å‡ºçš„æ—¶å€™å°±è¦å¤„ç†ä¸èƒ½ä¸¤å°æ‰“å°æœºæ‰“å°åŒä¸€ä¸ªæ–‡ä»¶ã€‚\r\n\r\n**ä¼˜ç‚¹ï¼š** \r\n- 1ã€åœ¨å†…å­˜é‡Œåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå‡å°‘äº†å†…å­˜çš„å¼€é”€ï¼Œå°¤å…¶æ˜¯é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯å®ä¾‹ï¼ˆæ¯”å¦‚ç®¡ç†å­¦é™¢é¦–é¡µé¡µé¢ç¼“å­˜ï¼‰ã€‚\r\n- 2ã€é¿å…å¯¹èµ„æºçš„å¤šé‡å ç”¨ï¼ˆæ¯”å¦‚å†™æ–‡ä»¶æ“ä½œï¼‰ã€‚   \r\n\r\n**ç¼ºç‚¹ï¼š** æ²¡æœ‰æ¥å£ï¼Œä¸èƒ½ç»§æ‰¿ï¼Œä¸å•ä¸€èŒè´£åŸåˆ™å†²çªï¼Œä¸€ä¸ªç±»åº”è¯¥åªå…³å¿ƒå†…éƒ¨é€»è¾‘ï¼Œè€Œä¸å…³å¿ƒå¤–é¢æ€ä¹ˆæ ·æ¥å®ä¾‹åŒ–ã€‚\r\n\r\n**ä½¿ç”¨åœºæ™¯ï¼š** \r\n- 1ã€è¦æ±‚ç”Ÿäº§å”¯ä¸€åºåˆ—å·ã€‚\r\n- 2ã€WEB ä¸­çš„è®¡æ•°å™¨ï¼Œä¸ç”¨æ¯æ¬¡åˆ·æ–°éƒ½åœ¨æ•°æ®åº“é‡ŒåŠ ä¸€æ¬¡ï¼Œç”¨å•ä¾‹å…ˆç¼“å­˜èµ·æ¥ã€‚\r\n- 3ã€åˆ›å»ºçš„ä¸€ä¸ªå¯¹è±¡éœ€è¦æ¶ˆè€—çš„èµ„æºè¿‡å¤šï¼Œæ¯”å¦‚ I/O ä¸æ•°æ®åº“çš„è¿æ¥ç­‰ã€‚\r\n\r\n\u003Cfont size='2'> **æ³¨æ„äº‹é¡¹ï¼š** getInstance() æ–¹æ³•ä¸­éœ€è¦ä½¿ç”¨åŒæ­¥é” synchronized (Singleton.class) é˜²æ­¢å¤šçº¿ç¨‹åŒæ—¶è¿›å…¥é€ æˆ instance è¢«å¤šæ¬¡å®ä¾‹åŒ–ã€‚\u003C/font>\r\n\r\n#### å®ç°\r\næˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª SingleObject ç±»ã€‚SingleObject ç±»æœ‰å®ƒçš„ç§æœ‰æ„é€ å‡½æ•°å’Œæœ¬èº«çš„ä¸€ä¸ªé™æ€å®ä¾‹ã€‚   \r\nSingleObject ç±»æä¾›äº†ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œä¾›å¤–ç•Œè·å–å®ƒçš„é™æ€å®ä¾‹ã€‚SingletonPatternDemoï¼Œæˆ‘ä»¬çš„æ¼”ç¤ºç±»ä½¿ç”¨ SingleObject ç±»æ¥è·å– SingleObject å¯¹è±¡ã€‚\r\n\r\n![img](https://alightyoung.gitee.io/static/img/32.jpg)\r\n\r\n**æ­¥éª¤ 1**\r\n\r\nåˆ›å»ºä¸€ä¸ª Singleton ç±»ã€‚\r\n```java\r\npublic class SingleObject {\r\n \r\n   //åˆ›å»º SingleObject çš„ä¸€ä¸ªå¯¹è±¡\r\n   private static SingleObject instance = new SingleObject();\r\n \r\n   //è®©æ„é€ å‡½æ•°ä¸º privateï¼Œè¿™æ ·è¯¥ç±»å°±ä¸ä¼šè¢«å®ä¾‹åŒ–\r\n   private SingleObject(){}\r\n \r\n   //è·å–å”¯ä¸€å¯ç”¨çš„å¯¹è±¡\r\n   public static SingleObject getInstance(){\r\n      return instance;\r\n   }\r\n \r\n   public void showMessage(){\r\n      System.out.println(\"Hello World!\");\r\n   }\r\n}\r\n```\r\n\r\n**æ­¥éª¤ 2**\r\n\r\nä» singleton ç±»è·å–å”¯ä¸€çš„å¯¹è±¡ã€‚\r\n``` java\r\npublic class SingletonPatternDemo {\r\n   public static void main(String[] args) {\r\n \r\n      //ä¸åˆæ³•çš„æ„é€ å‡½æ•°\r\n      //ç¼–è¯‘æ—¶é”™è¯¯ï¼šæ„é€ å‡½æ•° SingleObject() æ˜¯ä¸å¯è§çš„\r\n      //SingleObject object = new SingleObject();\r\n \r\n      //è·å–å”¯ä¸€å¯ç”¨çš„å¯¹è±¡\r\n      SingleObject object = SingleObject.getInstance();\r\n \r\n      //æ˜¾ç¤ºæ¶ˆæ¯\r\n      object.showMessage();\r\n   }\r\n}\r\n```\r\n\r\n**æ­¥éª¤ 3**\r\n\r\næ‰§è¡Œç¨‹åºï¼Œè¾“å‡ºç»“æœï¼š\r\n``` java\r\nHello World!\r\n```\r\n\r\n### å•ä¾‹æ¨¡å¼çš„å‡ ç§å®ç°æ–¹å¼\r\n\r\nå•ä¾‹æ¨¡å¼çš„å®ç°æœ‰å¤šç§æ–¹å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\r\n\r\n#### 1ã€æ‡’æ±‰å¼ï¼Œçº¿ç¨‹ä¸å®‰å…¨\r\n\r\n**æ˜¯å¦ Lazy åˆå§‹åŒ–ï¼š** æ˜¯\r\n**æ˜¯å¦å¤šçº¿ç¨‹å®‰å…¨ï¼š** å¦\r\n**å®ç°éš¾åº¦ï¼š** æ˜“\r\n**æè¿°ï¼š** è¿™ç§æ–¹å¼æ˜¯æœ€åŸºæœ¬çš„å®ç°æ–¹å¼ï¼Œè¿™ç§å®ç°æœ€å¤§çš„é—®é¢˜å°±æ˜¯ä¸æ”¯æŒå¤šçº¿ç¨‹ã€‚å› ä¸ºæ²¡æœ‰åŠ é” synchronizedï¼Œæ‰€ä»¥ä¸¥æ ¼æ„ä¹‰ä¸Šå®ƒå¹¶ä¸ç®—å•ä¾‹æ¨¡å¼ã€‚è¿™ç§æ–¹å¼ lazy loading å¾ˆæ˜æ˜¾ï¼Œä¸è¦æ±‚çº¿ç¨‹å®‰å…¨ï¼Œåœ¨å¤šçº¿ç¨‹ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚\r\n> å®ä¾‹\r\n``` java\r\npublic class Singleton {  \r\n    private static Singleton instance;  \r\n    private Singleton (){}  \r\n  \r\n    public static Singleton getInstance() {  \r\n    if (instance == null) {  \r\n        instance = new Singleton();  \r\n    }  \r\n    return instance;  \r\n    }  \r\n}\r\n```\r\n\r\næ¥ä¸‹æ¥ä»‹ç»çš„å‡ ç§å®ç°æ–¹å¼éƒ½æ”¯æŒå¤šçº¿ç¨‹ï¼Œä½†æ˜¯åœ¨æ€§èƒ½ä¸Šæœ‰æ‰€å·®å¼‚ã€‚\r\n\r\n#### 2ã€æ‡’æ±‰å¼ï¼Œçº¿ç¨‹å®‰å…¨\r\n\r\n**æ˜¯å¦ Lazy åˆå§‹åŒ–ï¼š** æ˜¯\r\n**æ˜¯å¦å¤šçº¿ç¨‹å®‰å…¨ï¼š** æ˜¯\r\n**å®ç°éš¾åº¦ï¼š** æ˜“\r\n**æè¿°ï¼š** è¿™ç§æ–¹å¼å…·å¤‡å¾ˆå¥½çš„ lazy loadingï¼Œèƒ½å¤Ÿåœ¨å¤šçº¿ç¨‹ä¸­å¾ˆå¥½çš„å·¥ä½œï¼Œä½†æ˜¯ï¼Œæ•ˆç‡å¾ˆä½ï¼Œ99% æƒ…å†µä¸‹ä¸éœ€è¦åŒæ­¥ã€‚\r\nä¼˜ç‚¹ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨æ‰åˆå§‹åŒ–ï¼Œé¿å…å†…å­˜æµªè´¹ã€‚\r\nç¼ºç‚¹ï¼šå¿…é¡»åŠ é” synchronized æ‰èƒ½ä¿è¯å•ä¾‹ï¼Œä½†åŠ é”ä¼šå½±å“æ•ˆç‡ã€‚\r\ngetInstance() çš„æ€§èƒ½å¯¹åº”ç”¨ç¨‹åºä¸æ˜¯å¾ˆå…³é”®ï¼ˆè¯¥æ–¹æ³•ä½¿ç”¨ä¸å¤ªé¢‘ç¹ï¼‰ã€‚\r\n\r\n``` java\r\npublic class Singleton {  \r\n    private static Singleton instance;  \r\n    private Singleton (){}  \r\n    public static synchronized Singleton getInstance() {  \r\n    if (instance == null) {  \r\n        instance = new Singleton();  \r\n    }  \r\n    return instance;  \r\n    }  \r\n}\r\n```\r\n\r\n#### 3ã€é¥¿æ±‰å¼\r\n\r\n**æ˜¯å¦ Lazy åˆå§‹åŒ–ï¼š** å¦\r\n**æ˜¯å¦å¤šçº¿ç¨‹å®‰å…¨ï¼š** æ˜¯\r\n**å®ç°éš¾åº¦ï¼š** æ˜“\r\n**æè¿°ï¼š** è¿™ç§æ–¹å¼æ¯”è¾ƒå¸¸ç”¨ï¼Œä½†å®¹æ˜“äº§ç”Ÿåƒåœ¾å¯¹è±¡ã€‚\r\nä¼˜ç‚¹ï¼šæ²¡æœ‰åŠ é”ï¼Œæ‰§è¡Œæ•ˆç‡ä¼šæé«˜ã€‚\r\nç¼ºç‚¹ï¼šç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–ï¼Œæµªè´¹å†…å­˜ã€‚\r\nå®ƒåŸºäº classloader æœºåˆ¶é¿å…äº†å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜ï¼Œä¸è¿‡ï¼Œinstance åœ¨ç±»è£…è½½æ—¶å°±å®ä¾‹åŒ–ï¼Œè™½ç„¶å¯¼è‡´ç±»è£…è½½çš„åŸå› æœ‰å¾ˆå¤šç§ï¼Œåœ¨å•ä¾‹æ¨¡å¼ä¸­å¤§å¤šæ•°éƒ½æ˜¯è°ƒç”¨ getInstance æ–¹æ³•ï¼Œ ä½†æ˜¯ä¹Ÿä¸èƒ½ç¡®å®šæœ‰å…¶ä»–çš„æ–¹å¼ï¼ˆæˆ–è€…å…¶ä»–çš„é™æ€æ–¹æ³•ï¼‰å¯¼è‡´ç±»è£…è½½ï¼Œè¿™æ—¶å€™åˆå§‹åŒ– instance æ˜¾ç„¶æ²¡æœ‰è¾¾åˆ° lazy loading çš„æ•ˆæœã€‚\r\n\r\n```java\r\npublic class Singleton {  \r\n    private static Singleton instance = new Singleton();  \r\n    private Singleton (){}  \r\n    public static Singleton getInstance() {  \r\n    return instance;  \r\n    }  \r\n}\r\n```\r\n\r\n#### 4ã€åŒæ£€é”/åŒé‡æ ¡éªŒé”ï¼ˆDCLï¼Œå³ double-checked lockingï¼‰\r\n\r\n**JDK ç‰ˆæœ¬ï¼š** JDK1.5 èµ·\r\n**æ˜¯å¦ Lazy åˆå§‹åŒ–ï¼š** æ˜¯\r\n**æ˜¯å¦å¤šçº¿ç¨‹å®‰å…¨ï¼š** æ˜¯\r\n**å®ç°éš¾åº¦ï¼š** è¾ƒå¤æ‚\r\n**æè¿°ï¼š** è¿™ç§æ–¹å¼é‡‡ç”¨åŒé”æœºåˆ¶ï¼Œå®‰å…¨ä¸”åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹èƒ½ä¿æŒé«˜æ€§èƒ½ã€‚getInstance() çš„æ€§èƒ½å¯¹åº”ç”¨ç¨‹åºå¾ˆå…³é”®ã€‚\r\n\r\n```java\r\npublic class Singleton {  \r\n    private volatile static Singleton singleton;  \r\n    private Singleton (){}  \r\n    public static Singleton getSingleton() {  \r\n    if (singleton == null) {  \r\n        synchronized (Singleton.class) {  \r\n        if (singleton == null) {  \r\n            singleton = new Singleton();  \r\n        }  \r\n        }  \r\n    }  \r\n    return singleton;  \r\n    }  \r\n}\r\n```\r\n\r\n#### 5ã€ç™»è®°å¼/é™æ€å†…éƒ¨ç±»\r\n\r\n**æ˜¯å¦ Lazy åˆå§‹åŒ–ï¼š** æ˜¯\r\n**æ˜¯å¦å¤šçº¿ç¨‹å®‰å…¨ï¼š** æ˜¯\r\n**å®ç°éš¾åº¦ï¼š** ä¸€èˆ¬\r\n**æè¿°ï¼š** è¿™ç§æ–¹å¼èƒ½è¾¾åˆ°åŒæ£€é”æ–¹å¼ä¸€æ ·çš„åŠŸæ•ˆï¼Œä½†å®ç°æ›´ç®€å•ã€‚å¯¹é™æ€åŸŸä½¿ç”¨å»¶è¿Ÿåˆå§‹åŒ–ï¼Œåº”ä½¿ç”¨è¿™ç§æ–¹å¼è€Œä¸æ˜¯åŒæ£€é”æ–¹å¼ã€‚è¿™ç§æ–¹å¼åªé€‚ç”¨äºé™æ€åŸŸçš„æƒ…å†µï¼ŒåŒæ£€é”æ–¹å¼å¯åœ¨å®ä¾‹åŸŸéœ€è¦å»¶è¿Ÿåˆå§‹åŒ–æ—¶ä½¿ç”¨ã€‚\r\nè¿™ç§æ–¹å¼åŒæ ·åˆ©ç”¨äº† classloader æœºåˆ¶æ¥ä¿è¯åˆå§‹åŒ– instance æ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå®ƒè·Ÿç¬¬ 3 ç§æ–¹å¼ä¸åŒçš„æ˜¯ï¼šç¬¬ 3 ç§æ–¹å¼åªè¦ Singleton ç±»è¢«è£…è½½äº†ï¼Œé‚£ä¹ˆ instance å°±ä¼šè¢«å®ä¾‹åŒ–ï¼ˆæ²¡æœ‰è¾¾åˆ° lazy loading æ•ˆæœï¼‰ï¼Œè€Œè¿™ç§æ–¹å¼æ˜¯ Singleton ç±»è¢«è£…è½½äº†ï¼Œinstance ä¸ä¸€å®šè¢«åˆå§‹åŒ–ã€‚å› ä¸º SingletonHolder ç±»æ²¡æœ‰è¢«ä¸»åŠ¨ä½¿ç”¨ï¼Œåªæœ‰é€šè¿‡æ˜¾å¼è°ƒç”¨ getInstance æ–¹æ³•æ—¶ï¼Œæ‰ä¼šæ˜¾å¼è£…è½½ SingletonHolder ç±»ï¼Œä»è€Œå®ä¾‹åŒ– instanceã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœå®ä¾‹åŒ– instance å¾ˆæ¶ˆè€—èµ„æºï¼Œæ‰€ä»¥æƒ³è®©å®ƒå»¶è¿ŸåŠ è½½ï¼Œå¦å¤–ä¸€æ–¹é¢ï¼Œåˆä¸å¸Œæœ›åœ¨ Singleton ç±»åŠ è½½æ—¶å°±å®ä¾‹åŒ–ï¼Œå› ä¸ºä¸èƒ½ç¡®ä¿ Singleton ç±»è¿˜å¯èƒ½åœ¨å…¶ä»–çš„åœ°æ–¹è¢«ä¸»åŠ¨ä½¿ç”¨ä»è€Œè¢«åŠ è½½ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å®ä¾‹åŒ– instance æ˜¾ç„¶æ˜¯ä¸åˆé€‚çš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œè¿™ç§æ–¹å¼ç›¸æ¯”ç¬¬ 3 ç§æ–¹å¼å°±æ˜¾å¾—å¾ˆåˆç†ã€‚\r\n\r\n```java\r\npublic class Singleton {  \r\n    private static class SingletonHolder {  \r\n    private static final Singleton INSTANCE = new Singleton();  \r\n    }  \r\n    private Singleton (){}  \r\n    public static final Singleton getInstance() {  \r\n    return SingletonHolder.INSTANCE;  \r\n    }  \r\n}\r\n```\r\n\r\n#### 6ã€æšä¸¾\r\n\r\n**JDK ç‰ˆæœ¬ï¼š** JDK1.5 èµ·\r\n\r\n**æ˜¯å¦ Lazy åˆå§‹åŒ–ï¼š** å¦\r\n\r\n**æ˜¯å¦å¤šçº¿ç¨‹å®‰å…¨ï¼š** æ˜¯\r\n\r\n**å®ç°éš¾åº¦ï¼š** æ˜“\r\n\r\n**æè¿°ï¼š** è¿™ç§å®ç°æ–¹å¼è¿˜æ²¡æœ‰è¢«å¹¿æ³›é‡‡ç”¨ï¼Œä½†è¿™æ˜¯å®ç°å•ä¾‹æ¨¡å¼çš„æœ€ä½³æ–¹æ³•ã€‚å®ƒæ›´ç®€æ´ï¼Œè‡ªåŠ¨æ”¯æŒåºåˆ—åŒ–æœºåˆ¶ï¼Œç»å¯¹é˜²æ­¢å¤šæ¬¡å®ä¾‹åŒ–ã€‚\r\nè¿™ç§æ–¹å¼æ˜¯ Effective Java ä½œè€… Josh Bloch æå€¡çš„æ–¹å¼ï¼Œå®ƒä¸ä»…èƒ½é¿å…å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè€Œä¸”è¿˜è‡ªåŠ¨æ”¯æŒåºåˆ—åŒ–æœºåˆ¶ï¼Œé˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œç»å¯¹é˜²æ­¢å¤šæ¬¡å®ä¾‹åŒ–ã€‚ä¸è¿‡ï¼Œç”±äº JDK1.5 ä¹‹åæ‰åŠ å…¥ enum ç‰¹æ€§ï¼Œç”¨è¿™ç§æ–¹å¼å†™ä¸å…è®©äººæ„Ÿè§‰ç”Ÿç–ï¼Œåœ¨å®é™…å·¥ä½œä¸­ï¼Œä¹Ÿå¾ˆå°‘ç”¨ã€‚\r\nä¸èƒ½é€šè¿‡ reflection attack æ¥è°ƒç”¨ç§æœ‰æ„é€ æ–¹æ³•ã€‚\r\n\r\n```java\r\npublic enum Singleton {  \r\n    INSTANCE;  \r\n    public void whateverMethod() {  \r\n    }  \r\n}\r\n```\r\n\r\n**ç»éªŒä¹‹è°ˆï¼š** ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸å»ºè®®ä½¿ç”¨ç¬¬ 1 ç§å’Œç¬¬ 2 ç§æ‡’æ±‰æ–¹å¼ï¼Œå»ºè®®ä½¿ç”¨ç¬¬ 3 ç§é¥¿æ±‰æ–¹å¼ã€‚åªæœ‰åœ¨è¦æ˜ç¡®å®ç° lazy loading æ•ˆæœæ—¶ï¼Œæ‰ä¼šä½¿ç”¨ç¬¬ 5 ç§ç™»è®°æ–¹å¼ã€‚å¦‚æœæ¶‰åŠåˆ°ååºåˆ—åŒ–åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ç¬¬ 6 ç§æšä¸¾æ–¹å¼ã€‚å¦‚æœæœ‰å…¶ä»–ç‰¹æ®Šçš„éœ€æ±‚ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ç¬¬ 4 ç§åŒæ£€é”æ–¹å¼ã€‚","post/2019/20191206/":"\r\n### Githubä¸‰æ–¹ç™»å½•ç®€è¿°\r\n\r\n- ~~ç¬¬ä¸€æ­¥å…ˆå»githubå®ŒæˆOAuth APP çš„æ³¨å†Œï¼Œæ³¨å†Œå¥½ä¹‹åä¼šçœ‹åˆ°Client IDå’ŒClient Secretã€‚~~\r\n- ç¬¬ä¸€æ­¥å¯ä»¥å…ˆäº†è§£ä¸€ä¸‹[OAuth2.0](https://www.baidu.com/s?wd=oauth2.0)\r\n- æµ‹è¯•ä»£ç å·²ä¸Šä¼ ï¼ˆç®€å•å®ç° ä¸ºé˜²æ­¢CSRFè¿˜éœ€è¦ä¸€äº›å¢åŠ stateè¿›è¡Œå®‰å…¨æ ¡éªŒ æµ‹è¯•ä»£ç æœªè¡¥å……ï¼‰ ç»†èŠ‚å‚è€ƒgitä»“åº“ä»£ç  [ä¼ é€é—¨](https://gitee.com/AlightYoung/sample/tree/master/Java/github-login-demo)","post/2019/20191210/":"\r\n### åå‘ä»£ç†\r\n\r\nè¿™ä¸ªåŠŸèƒ½å¯èƒ½æœ€ä¸ºå¸¸è§,åªéœ€è¦åœ¨server çš„locationæœ€ååŠ ä¸Šä¸€ä¸ªproxy_passå±æ€§ï¼Œç„¶ånginxå°±å¯ä»¥å¸®ä½ è½¬å‘åˆ°ä½ æƒ³è½¬å‘åˆ°çš„å…¶ä»–ç½‘ç»œåœ°å€ï¼Œæˆ–è€…æœ¬åœ°çš„å…¶ä»–ç«¯å£ï¼ˆä¾‹å¦‚ç›‘å¬æœ¬åœ°80ç«¯å£è½¬å‘åˆ°8080ç«¯å£ï¼Œç›‘å¬æœ¬åœ°80åˆ°baidué¦–é¡µï¼‰ï¼Œååˆ†ç®€ä¾¿ã€‚\r\n\r\n### è´Ÿè½½å‡è¡¡\r\ntodo...","post/2019/20191215/":"\n\n:::tip\næ¨èknife4j\n:::\n\n### Knife4j\nKnife4jçš„å‰èº«æ˜¯swagger-bootstrap-uiï¼Œå‰èº«swagger-bootstrap-uiæ˜¯ä¸€ä¸ªçº¯swagger-uiçš„uiçš®è‚¤é¡¹ç›®ã€‚\n\néšç€æ—¶é—´çš„æ¨ç§»ï¼Œé¡¹ç›®å¼€å§‹ä»ä¸€ä¸ªSwaggerçš„UIæ–¹æ¡ˆè¿›åŒ–ä¸ºä¸€ä¸ªä¸ºSwaggeræ¥å£æ–‡æ¡£æœåŠ¡çš„é€šç”¨æ€§è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤æ”¹åä¸ºKnife4jã€‚\n\nä¸‹é¢è®°å½•äº†Knife4jä¸SpringBootçš„é›†æˆï¼Œç»†èŠ‚å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://doc.xiaominfo.com/knife4j/)\n\n`pom.xml`ï¼šé¡¹ç›®ä¾èµ–\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>com.github.xiaoymin\u003C/groupId>\n    \u003CartifactId>knife4j-spring-boot-starter\u003C/artifactId>\n    \u003Cversion>3.0.2\u003C/version>\n\u003C/dependency>\n```\n\n`Knife4jConfiguration`ï¼šé…ç½®ç±»\n\n```java\n@Configuration\n@EnableSwagger2\npublic class Knife4jConfiguration {\n\n    @Bean(value = \"defaultApi2\")\n    public Docket defaultApi2() {\n        Docket docket=new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(new ApiInfoBuilder()\n                        .description(\"default description\")\n                        .termsOfServiceUrl(\"url\")\n                        .contact(new Contact(\"name\",\"url\",\"email\"))\n                        .version(\"1.0\")\n                        .build())\n                .groupName(\"default group name\")\n                .select()\n                // base package of controller\n                .apis(RequestHandlerSelectors.basePackage(\"com.xxx.xxx.controller\"))\n                .paths(PathSelectors.any())\n                .build();\n        return docket;\n    }\n}\n```\n\n**Controlleræ³¨è§£è¯´æ˜**\n\n1. `@Api(tags = \"xxæ¨¡å—\")`ï¼šControllerè§£é‡Šï¼Œæ ‡æ³¨åœ¨Controllerå¤´éƒ¨ã€‚\n2. `@ApiImplicitParam(name = \"\",value = \"\",required = true)`ï¼šAPIå‚æ•°è§£é‡Šï¼Œæ ‡æ³¨åœ¨Controlleræ–¹æ³•ä¸Šã€‚\n3. `@ApiOperation(value = \"\")`ï¼šAPIè§£é‡Šï¼Œæ ‡æ³¨åœ¨Controlleræ–¹æ³•ä¸Šã€‚\n\n**å®ä½“ç±»æ³¨è§£è¯´æ˜**\n\n1. `@ApiModel`ï¼šä½œç”¨äºç±»ä¸Šï¼Œè§£é‡Šå®ä½“ç±»\n2. `@ApiModelProperty`ï¼šç”¨äºå±æ€§ä¸Šï¼Œè§£é‡Šå±æ€§\n\næœ€åï¼Œå¯åŠ¨é¡¹ç›®ï¼Œæ‰“å¼€`http://localhost:{your server port}/doc.html`æŸ¥çœ‹æ•ˆæœå³å¯ã€‚\n\n\n---\n\n\n### Swagger\n\nSwaggeræ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç è½¯ä»¶æ¡†æ¶ï¼Œç”±å¤§å‹å·¥å…·ç”Ÿæ€ç³»ç»Ÿæ”¯æŒï¼Œå¯å¸®åŠ©å¼€å‘äººå‘˜è®¾è®¡ï¼Œæ„å»ºï¼Œè®°å½•å’Œä½¿ç”¨RESTful WebæœåŠ¡ã€‚å°½ç®¡å¤§å¤šæ•°ç”¨æˆ·é€šè¿‡Swagger UIå·¥å…·è¯†åˆ«Swaggerï¼Œä½†æ˜¯Swaggerå·¥å…·é›†åŒ…æ‹¬å¯¹è‡ªåŠ¨æ–‡æ¡£ï¼Œä»£ç ç”Ÿæˆå’Œæµ‹è¯•ç”¨ä¾‹ç”Ÿæˆçš„æ”¯æŒã€‚\n\nè‡³äºæœ‰äººè€ƒè™‘swaggerå¯¹ä»£ç çš„å…¥ä¾µæ€§ï¼Œè¿™ä¸ªå°±è§ä»è§æ™ºäº†ã€‚æ­¤å¤„æä¾›ä¸€ä¸ªç®€å•çš„demoä»¥ä¾›ç®€å•é›†æˆå‚è€ƒ [giteeä»“åº“åœ°å€](https://gitee.com/AlightYoung/sample/tree/master/Java/springboot-with-swagger)\n\n:::details{text=\"zuulç¯å¢ƒä¸‹ä¸swaggerçš„æ•´åˆ\"}\nzuulå¯åŠ¨ç±»åŠ ä¸Š@EnableSwagger2Docæ³¨è§£\n\nç›´æ¥åœ¨å¯åŠ¨ç±»ä¸‹ç¼–å†™é…ç½®\n```java\n@Component\n@Primary\nclass DocumentationConfig implements SwaggerResourcesProvider {\n    @Override\n    public List\u003CSwaggerResource> get() {\n        List resources = new ArrayList\u003C>();\n        // é€šè¿‡æœåŠ¡åˆ«åè·å–swagger api\n        resources.add(swaggerResource(\"app-alight-member\", \"/app-alight-member/v2/api-docs\", \"2.0\"));\n        resources.add(swaggerResource(\"app-alight-weixin\", \"/app-alight-weixin/v2/api-docs\", \"2.0\"));\n        return resources;\n    }\n\n    private SwaggerResource swaggerResource(String name, String location, String version) {\n        SwaggerResource swaggerResource = new SwaggerResource();\n        swaggerResource.setName(name);\n        swaggerResource.setLocation(location);\n        swaggerResource.setSwaggerVersion(version);\n        return swaggerResource;\n    }\n```\n:::\n","post/2019/20191220/":"\r\n### ç¯å¢ƒ\r\n\r\n- é˜¿é‡Œäº‘ ECS 2c 4g\r\n- CentOS Linux release 7.7.1908 (Core)\r\n- éç”Ÿäº§ç¯å¢ƒï¼Œå·²å¼€å¯å…¨éƒ¨ç«¯å£\r\n\r\nä»¥ä¸‹æ˜¯å®˜æ–¹å»ºè®®\r\n\r\n**GitLab Installation**\r\n\r\nWe strongly recommend downloading the Omnibus package installation since it is quicker to install, easier to upgrade, and it contains features to enhance reliability not found in other methods. We also strongly recommend at least 4GB of free RAM to run GitLab.\r\n\r\n\r\n### gitlabç§æœæ­å»º\r\n\r\n#### å®‰è£…å’Œé…ç½®å¿…è¦çš„ä¾èµ–é¡¹\r\n\r\nåœ¨CentOS 7ï¼ˆå’ŒRedHat / Oracle / Scientific Linux 7ï¼‰ä¸Šï¼Œä»¥ä¸‹å‘½ä»¤è¿˜å°†åœ¨ç³»ç»Ÿé˜²ç«å¢™ä¸­æ‰“å¼€HTTPï¼ŒHTTPSå’ŒSSHè®¿é—®ã€‚\r\n```bash\r\nsudo yum install -y curl policycoreutils-python openssh-server\r\nsudo systemctl enable sshd\r\nsudo systemctl start sshd\r\n\r\nsudo firewall-cmd --permanent --add-service=http\r\nsudo firewall-cmd --permanent --add-service=https\r\nsudo systemctl reload firewalld\r\n```\r\næ¥ä¸‹æ¥ï¼Œå®‰è£…Postfixå‘é€é€šçŸ¥ç”µå­é‚®ä»¶ã€‚å¦‚æœè¦ä½¿ç”¨å…¶ä»–è§£å†³æ–¹æ¡ˆå‘é€ç”µå­é‚®ä»¶ï¼Œè¯·è·³è¿‡æ­¤æ­¥éª¤å¹¶åœ¨å®‰è£…GitLabä¹‹åé…ç½®å¤–éƒ¨SMTPæœåŠ¡å™¨ã€‚\r\n```bash\r\nsudo yum install postfix\r\nsudo systemctl enable postfix\r\nsudo systemctl start postfix\r\n```\r\n> æ³¨ï¼šæ­¤å¤„åœ¨`systemctl start postfix`å‘ç”Ÿä¸€ä¸ªé”™è¯¯\r\n>> Job for postfix.service failed because the control process exited with error code. See \"systemctl status postfix.service\" and \"journalctl -xe\" for details.\r\n\r\n>ä¸ªäººè§£å†³åŠæ³•\r\næ‰§è¡Œsystemctl status postfix.service,å‘ç°Failed to start Postfix Mail Transport Agent.ç„¶åä¿®æ”¹é…ç½®æ–‡ä»¶`vim /etc/postfix/main.cf` åŸæœ¬æ­¤å¤„ä¸º`inet_protocols = all`ï¼Œä¿®æ”¹æˆä»¥ä¸‹ï¼Œé—®é¢˜å¾—ä»¥è§£å†³\r\n>>`inet_protocols = ipv4`\r\n`inet_interfaces = all`\r\n\r\n~~åœ¨Postfixå®‰è£…è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€ä¸ªé…ç½®å±å¹•ã€‚é€‰æ‹©â€œ Internetç½‘ç«™â€ï¼Œç„¶åæŒ‰Enterã€‚ä½¿ç”¨æœåŠ¡å™¨çš„å¤–éƒ¨DNSä½œä¸ºâ€œé‚®ä»¶åâ€ï¼Œç„¶åæŒ‰Enterã€‚å¦‚æœå‡ºç°å…¶ä»–å±å¹•ï¼Œè¯·ç»§ç»­æŒ‰Enteræ¥å—é»˜è®¤è®¾ç½®ã€‚~~\r\n\r\n#### æ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“å¹¶å®‰è£…è½¯ä»¶åŒ…\r\n\r\næ·»åŠ GitLabè½¯ä»¶åŒ…å­˜å‚¨åº“ã€‚è¿™é‡Œé¢å°±æœ‰ä¸ªé€‰æ‹©äº†,ç¤¾åŒºç‰ˆæˆ–è€…ä¼ä¸šç‰ˆ\r\n\r\nå®˜æ–¹æ˜¯è¿™ä¹ˆå»ºè®®çš„\r\n\r\nå¦‚æœæ‚¨æœ‰å…´è¶£ä½¿ç”¨GitLabï¼Œå³ä½¿æ‚¨ä¸ç¡®å®šæ˜¯å¦ä¼šè®¢é˜…GitLab Enterprise Editionè®¸å¯è¯ ï¼Œæˆ‘ä»¬ä¹Ÿå»ºè®®æ‚¨ ä¸‹è½½å¹¶å®‰è£…GitLab Enterprise Editionã€‚æ‚¨ä»ç„¶å¯ä»¥ä½¿ç”¨GitLabç¤¾åŒºç‰ˆçš„æ‰€æœ‰åŠŸèƒ½ï¼Œè€Œæ— éœ€è®¸å¯è¯æˆ–æ³¨å†Œã€‚\r\n\r\næ‰€ä»¥è‡³äºä½ æƒ³å®‰è£…ä»€ä¹ˆç‰ˆæœ¬ è‡ªè¡Œé€‰æ‹© ä»¥ä¸‹éƒ½ä¼šæœ‰æ³¨é‡Š\r\n\r\n\r\n```bash\r\n# ä¼ä¸šç‰ˆå°±æ˜¯gitlab-eeï¼Œåº”è¯¥å¾ˆå¥½åŒºåˆ†\r\ncurl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash\r\n# ç¤¾åŒºç‰ˆgitlab-ce\r\ncurl -sS https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash\r\n```\r\næ¥ä¸‹æ¥ï¼Œå®‰è£…GitLabè½¯ä»¶åŒ…ã€‚å°†https://gitlab.example.comæ›´æ”¹ä¸ºæ‚¨è¦è®¿é—®GitLabå®ä¾‹çš„URLã€‚å®‰è£…å°†è‡ªåŠ¨é…ç½®å¹¶åœ¨è¯¥URLä¸Šå¯åŠ¨GitLabã€‚\r\n\r\nå¯¹äºhttps://URLï¼ŒGitLabå°†è‡ªåŠ¨é€šè¿‡Let's Encryptè¯·æ±‚è¯ä¹¦ï¼Œè¿™éœ€è¦å…¥ç«™HTTPè®¿é—®å’Œæœ‰æ•ˆçš„ä¸»æœºåã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±çš„è¯ä¹¦æˆ–ä»…ä½¿ç”¨http://ã€‚\r\n\r\nè¿™é‡Œæˆ‘ä¸ºäº†æ–¹ä¾¿ç›´æ¥ç”¨httpåŠ ä¸Šå¤–ç½‘ipäº†ï¼Œå¯ä»¥è‡ªå·±æ ¹æ®éœ€æ±‚è°ƒæ•´\r\n\r\n```bash\r\n# ä¼ä¸šç‰ˆ\r\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" yum install -y gitlab-ee\r\n# ç¤¾åŒºç‰ˆ\r\nsudo EXTERNAL_URL=\"https://gitlab.example.com\" yum install -y gitlab-ce\r\n```\r\nè¿™é‡Œä¸å‡ºæ„å¤–çš„è¯ï¼Œè¦ä¸‹è½½å¥½ä¹…ï¼Œæˆ‘çš„å®‰è£…å¤§å°ä¸º1.6gã€‚é™å¾…ç‰‡åˆ»...\r\n\r\nå…¶å®ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨å®˜æ–¹åœ°å€ä¸‹è½½ï¼Œæ¯”å¦‚é…ç½®æ¸…åæºï¼Œé€Ÿåº¦åº”è¯¥èƒ½å¿«ä¸Šä¸å°‘ï¼Œ[ä¼ é€é—¨](https://mirror.tuna.tsinghua.edu.cn/help/gitlab-ce/)\r\n\r\n#### æµè§ˆåˆ°ä¸»æœºåå¹¶ç™»å½•\r\n\r\nç®€å•æ¥è¯´ï¼Œåœ¨å®‰è£…å®Œæˆä¹‹åï¼Œç†è®ºä¸Šå°±å¯ä»¥ç›´æ¥è¾“å…¥http://ipè¿›è¡Œè®¿é—®ï¼Œåˆæ¬¡éœ€è¦è®¾ç½®å¯†ç ï¼Œé»˜è®¤ç”¨æˆ·åä¸ºrootï¼Œç„¶åå³å¯ä»¥ç™»å½•åˆ°gitlabçš„webç®¡ç†ç•Œé¢äº†ï¼Œä¹‹åçš„å¤§å®¶å°±éƒ½çŸ¥é“äº†ï¼Œä¸å¤šèµ˜è¿°ã€‚\r\n\r\n#### é…ç½®\r\n\r\nè‡³äºé…ç½®ï¼Œæ¯”å¦‚ä¿®æ”¹ç«¯å£å·(é»˜è®¤80)ï¼Œå¯ä»¥å»ä¿®æ”¹é…ç½®æ–‡ä»¶`/etc/gitlab/gitlab.rb`ï¼Œå…·ä½“ç™¾åº¦ï¼Œè¿™é‡Œä¸è´´äº†ã€‚\r\n\r\ngitlab-ctlå¸¸ç”¨å‘½ä»¤\r\n\r\n1.  é‡æ–°åŠ è½½é…ç½®å¹¶å¯åŠ¨\r\n`sudo gitlab-ctl reconfigure`\r\n2. é‡å¯gitlab\r\n`sudo gitlab-ctl restart`\r\n3. æŸ¥çœ‹gitlabè¿è¡ŒçŠ¶æ€\r\n`sudo gitlab-ctl status`\r\n4. åœæ­¢gitlabæœåŠ¡\r\n`sudo gitlab-ctl stop`\r\n5. æŸ¥çœ‹gitlabè¿è¡Œæ—¥å¿—\r\n`sudo gitlab-ctl tail`\r\n\r\næ›´å¤šgitlab-ctlç”¨æ³•ç›´æ¥è¾“å…¥gitlab-ctlï¼Œä¸‹é¢éƒ½ä¼šåˆ—ä¸¾å‡ºæ¥ã€‚\r\n\r\n#### æœ€å\r\n\r\nä»¥ä¸Šå†…å®¹å¾ˆå¤šéƒ½æ˜¯å®˜æ–¹æ–‡æ¡£æœºç¿»è¿‡æ¥çš„ï¼Œå…¶å®å®˜æ–¹æ–‡æ¡£éå¸¸è¯¦ç»†ï¼Œæä¾›äº†å¾ˆå¤šå¾ˆå¤šçš„å®‰è£…æ–‡æ¡£ï¼Œè¿˜æœ‰dockerçš„å®‰è£…æ–¹å¼ï¼Œä½†æ˜¯æˆ‘ä¸å–œæ¬¢dockerï¼Œå°±æ²¡æœ‰ç”¨dockerå®‰è£…äº†ï¼Œæœ‰å…´è¶£çš„æˆ–è€…çœ‹å®Œè¯¥æ–‡ç« ä»æ²¡æœ‰è§£å†³é—®é¢˜çš„ï¼Œå¯ä»¥ç›´æ¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚[ä¼ é€é—¨](https://about.gitlab.com/install/)","post/2019/20191228/":"\r\n### åˆ†é¡µæŸ¥è¯¢\r\n\r\nåˆ†é¡µæŸ¥è¯¢æ˜¯å‰åç«¯éƒ½å¸¸è§çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºç‰©ç†åˆ†é¡µå’Œé€»è¾‘åˆ†é¡µã€‚\r\n\r\nç‰©ç†ç‰©ä¸šï¼šç‰©ç†åˆ†é¡µä¾èµ–çš„æ˜¯æŸä¸€ç‰©ç†å®ä½“ï¼Œè¿™ä¸ªç‰©ç†å®ä½“å°±æ˜¯æ•°æ®åº“ï¼Œæ¯”å¦‚MySQLçš„limit offsetå…³é”®å­—ï¼Œå°±å¯ä»¥æŸ¥è¯¢å‡ºä¸€ä¸ªæŒ‡å®šçš„åŒºé—´ã€‚\r\n\r\né€»è¾‘åˆ†é¡µï¼šé€»è¾‘åˆ†é¡µå°±æ˜¯ä¸€æ¬¡æ€§å°†æ•°æ®å…¨éƒ¨æŸ¥å‡ºæ¥ï¼Œè¿›è¡Œé€»è¾‘åˆ’åˆ†é¡µæ•°ä¸æ¯é¡µçš„æ•°é‡ã€‚\r\n\r\n#### ç‰©ç†vsé€»è¾‘\r\n\r\n##### 1.æ•°æ®åº“å‹åŠ›\r\n\r\nç‰©ç†åˆ†é¡µæ¯æ¬¡éƒ½è®¿é—®æ•°æ®åº“ï¼Œé€»è¾‘åˆ†é¡µåªè®¿é—®ä¸€æ¬¡æ•°æ®åº“ï¼Œç‰©ç†åˆ†é¡µå¯¹æ•°æ®åº“é€ æˆçš„è´Ÿæ‹…å¤§ã€‚\r\n\r\n##### 2.æœåŠ¡å™¨è´Ÿæ‹…\r\n\r\né€»è¾‘åˆ†é¡µä¸€æ¬¡æ€§å°†æ•°æ®è¯»å–åˆ°å†…å­˜ï¼Œå ç”¨äº†è¾ƒå¤§çš„å†…å®¹ç©ºé—´ï¼Œç‰©ç†åˆ†é¡µæ¯æ¬¡åªè¯»å–ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå ç”¨å†…å­˜ç©ºé—´è¾ƒå°ã€‚\r\n\r\n#####  3.å®æ—¶æ€§\r\n\r\né€»è¾‘åˆ†é¡µä¸€æ¬¡æ€§å°†æ•°æ®è¯»å–åˆ°å†…å­˜ï¼Œæ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œæ•°æ®åº“çš„æœ€æ–°çŠ¶æ€ä¸èƒ½å®æ—¶åæ˜ åˆ°æ“ä½œä¸­ï¼Œå®æ—¶æ€§å·®ã€‚ç‰©ç†åˆ†é¡µæ¯æ¬¡éœ€è¦æ•°æ®æ—¶éƒ½è®¿é—®æ•°æ®åº“ï¼Œèƒ½å¤Ÿè·å–æ•°æ®åº“çš„æœ€æ–°çŠ¶æ€ï¼Œå®æ—¶æ€§å¼ºã€‚\r\n\r\n##### 4.é€‚ç”¨åœºåˆ\r\n\r\né€»è¾‘åˆ†é¡µä¸»è¦ç”¨äºæ•°æ®é‡ä¸å¤§ã€æ•°æ®ç¨³å®šçš„åœºåˆï¼Œç‰©ç†åˆ†é¡µä¸»è¦ç”¨äºæ•°æ®é‡è¾ƒå¤§ã€æ›´æ–°é¢‘ç¹çš„åœºåˆã€‚\r\n\r\n#### å®ç°æ–¹å¼\r\n\r\nå…·ä½“å‚è€ƒä»£ç ï¼Œåç«¯é‡‡ç”¨pagehelperï¼ˆç‰©ç†ï¼‰ï¼Œå‰ç«¯é‡‡ç”¨bootstraptableï¼ˆé€»è¾‘ï¼‰ï¼Œå½“è®©ä½ ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨åŠ è½½å…¨éƒ¨æ•°æ®çš„é€»è¾‘åˆ†é¡µï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæ•°æ®è¿›è¡Œæ•°æ®å±•ç¤ºï¼Œçœ‹éœ€æ±‚å§ã€‚\r\n\r\nä»£ç å‚è€ƒ----[ä¼ é€é—¨](https://gitee.com/AlightYoung/sample/tree/master/Java/pagination)\r\n\r\n","post/2020/20200101/":"\r\n### spring security\r\nSpring Securityæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”é«˜åº¦å¯å®šåˆ¶çš„èº«ä»½éªŒè¯å’Œè®¿é—®æ§åˆ¶æ¡†æ¶ã€‚å®ƒæ˜¯ç”¨äºä¿æŠ¤åŸºäºSpringçš„åº”ç”¨ç¨‹åºçš„å®é™…æ ‡å‡†ã€‚\r\n\r\nSpring Securityæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œè‡´åŠ›äºä¸ºJavaåº”ç”¨ç¨‹åºæä¾›èº«ä»½éªŒè¯å’Œæˆæƒã€‚ä¸æ‰€æœ‰Springé¡¹ç›®ä¸€æ ·ï¼ŒSpring Securityçš„çœŸæ­£å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥è½»æ¾æ‰©å±•ä»¥æ»¡è¶³è‡ªå®šä¹‰è¦æ±‚ã€‚\r\n\r\n#### ç®€å•è®¤è¯æˆæƒ\r\n\r\nè¿™é‡Œæä¾›äº†ä¸€ä¸ªç®€å•çš„demoï¼Œç¯å¢ƒæ˜¯springboot+security+mybatisçš„ä¸€ä¸ªç®€å•çš„è®¤è¯æˆæƒdemoï¼Œ[gitä»“åº“](https://gitee.com/AlightYoung/sample/tree/master/Java/springboot2-security5-mybatis)","post/2020/20200108/":"\r\n### Mybatis Generator\r\n\r\n#### ä»‹ç»\r\nMyBatisç”Ÿæˆå™¨ï¼ˆMBGï¼‰æ˜¯MyBatis MyBatisçš„ä»£ç ç”Ÿæˆå™¨ã€‚å®ƒå°†ä¸ºMyBatisçš„æ‰€æœ‰ç‰ˆæœ¬ç”Ÿæˆä»£ç ã€‚å®ƒå°†å¯¹ä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ•°æ®åº“è¡¨è¿›è¡Œå†…éƒ¨æ£€æŸ¥ï¼Œå¹¶å°†ç”Ÿæˆå¯ç”¨äºè®¿é—®è¡¨çš„å·¥ä»¶ã€‚è¿™å‡è½»äº†è®¾ç½®å¯¹è±¡å’Œé…ç½®æ–‡ä»¶ä»¥ä¸æ•°æ®åº“è¡¨è¿›è¡Œäº¤äº’çš„éº»çƒ¦ã€‚MBGè¯•å›¾å¯¹ç®€å•CRUDï¼ˆåˆ›å»ºï¼Œæ£€ç´¢ï¼Œæ›´æ–°ï¼Œåˆ é™¤ï¼‰çš„å¤§éƒ¨åˆ†æ•°æ®åº“æ“ä½œäº§ç”Ÿé‡å¤§å½±å“ã€‚æ‚¨ä»å°†éœ€è¦æ‰‹å·¥ç¼–å†™SQLå’Œå¯¹è±¡ä»£ç ä»¥è¿›è¡Œè”æ¥æŸ¥è¯¢æˆ–å­˜å‚¨è¿‡ç¨‹ã€‚\r\n\r\n#### ç®€å•é…ç½®åŠæ•ˆæœ\r\nå¤§è‡´æ­¥éª¤ï¼š\r\n- å¯¼å…¥mavenæ’ä»¶\r\n```xml\r\n\u003Cplugin>\r\n    \u003CgroupId>org.mybatis.generator\u003C/groupId>\r\n    \u003CartifactId>mybatis-generator-maven-plugin\u003C/artifactId>\r\n    \u003Cversion>1.4.0\u003C/version>\r\n    \u003Cdependencies>\r\n        \u003Cdependency>\r\n            \u003CgroupId>mysql\u003C/groupId>\r\n            \u003CartifactId>mysql-connector-java\u003C/artifactId>\r\n            \u003Cversion>5.1.47\u003C/version>\r\n        \u003C/dependency>\r\n        \u003Cdependency>\r\n            \u003CgroupId>org.mybatis.generator\u003C/groupId>\r\n            \u003CartifactId>mybatis-generator-maven-plugin\u003C/artifactId>\r\n            \u003Cversion>1.4.0\u003C/version>\r\n        \u003C/dependency>\r\n        \u003Cdependency>\r\n            \u003CgroupId>org.mybatis.generator\u003C/groupId>\r\n            \u003CartifactId>mybatis-generator-core\u003C/artifactId>\r\n            \u003Cversion>1.4.0\u003C/version>\r\n        \u003C/dependency>\r\n    \u003C/dependencies>\r\n    \u003Cexecutions>\r\n        \u003Cexecution>\r\n            \u003Cid>Generate MyBatis Artifacts\u003C/id>\r\n            \u003Cphase>package\u003C/phase>\r\n            \u003Cgoals>\r\n                \u003Cgoal>generate\u003C/goal>\r\n            \u003C/goals>\r\n        \u003C/execution>\r\n    \u003C/executions>\r\n    \u003Cconfiguration>\r\n        \u003C!--å…è®¸ç§»åŠ¨ç”Ÿæˆçš„æ–‡ä»¶ -->\r\n        \u003Cverbose>true\u003C/verbose>\r\n        \u003C!-- æ˜¯å¦è¦†ç›– -->\r\n        \u003Coverwrite>false\u003C/overwrite>\r\n        \u003C!-- è‡ªåŠ¨ç”Ÿæˆçš„é…ç½® -->\r\n        \u003CconfigurationFile>\r\n            src/main/resources/mybatis-generator.xml\r\n        \u003C/configurationFile>\r\n    \u003C/configuration>\r\n\u003C/plugin>\r\n```\r\n- mbgé…ç½®æ–‡ä»¶\r\n```xml\r\n\u003C?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\u003C!DOCTYPE generatorConfiguration\r\n        PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\r\n        \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\r\n\u003CgeneratorConfiguration>\r\n    \u003C!--mysql è¿æ¥æ•°æ®åº“jar è¿™é‡Œé€‰æ‹©è‡ªå·±æœ¬åœ°ä½ç½®-->\r\n    \u003CclassPathEntry\r\n            location=\"/Users/alight/.m2/repository/mysql/mysql-connector-java/5.1.47/mysql-connector-java-5.1.47.jar\"/>\r\n    \u003Ccontext id=\"testTables\" targetRuntime=\"MyBatis3\">\r\n        \u003CcommentGenerator>\r\n            \u003C!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Š trueï¼šæ˜¯ ï¼š false:å¦ -->\r\n            \u003Cproperty name=\"suppressAllComments\" value=\"true\"/>\r\n        \u003C/commentGenerator>\r\n        \u003C!--æ•°æ®åº“è¿æ¥çš„ä¿¡æ¯ï¼šé©±åŠ¨ç±»ã€è¿æ¥åœ°å€ã€ç”¨æˆ·åã€å¯†ç  -->\r\n        \u003CjdbcConnection driverClass=\"com.mysql.jdbc.Driver\"\r\n                        connectionURL=\"jdbc:mysql://localhost:3306/test?serverTimezone=UTC\" userId=\"root\"\r\n                        password=\"123456\">\r\n        \u003C/jdbcConnection>\r\n        \u003C!-- é»˜è®¤falseï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integerï¼Œä¸º trueæ—¶æŠŠJDBC DECIMAL å’Œ\r\n           NUMERIC ç±»å‹è§£æä¸ºjava.math.BigDecimal -->\r\n        \u003CjavaTypeResolver>\r\n            \u003Cproperty name=\"forceBigDecimals\" value=\"false\"/>\r\n        \u003C/javaTypeResolver>\r\n\r\n        \u003C!-- targetProject:ç”Ÿæˆè¡¨å®ä½“ç±»çš„ä½ç½® -->\r\n        \u003CjavaModelGenerator targetPackage=\"com.example.demo.entity\"\r\n                            targetProject=\"src/main/java\">\r\n            \u003C!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ -->\r\n            \u003Cproperty name=\"enableSubPackages\" value=\"false\"/>\r\n            \u003C!-- ä»æ•°æ®åº“è¿”å›çš„å€¼è¢«æ¸…ç†å‰åçš„ç©ºæ ¼ -->\r\n            \u003Cproperty name=\"trimStrings\" value=\"true\"/>\r\n        \u003C/javaModelGenerator>\r\n        \u003C!-- targetProject:mapperæ˜ å°„æ–‡ä»¶ç”Ÿæˆçš„ä½ç½®\r\n           å¦‚æœmavenå·¥ç¨‹åªæ˜¯å•ç‹¬çš„ä¸€ä¸ªå·¥ç¨‹ï¼ŒtargetProject=\"src/main/java\"\r\n           è‹¥æœmavenå·¥ç¨‹æ˜¯åˆ†æ¨¡å—çš„å·¥ç¨‹ï¼ŒtargetProject=\"æ‰€å±æ¨¡å—çš„åç§°\"ï¼Œä¾‹å¦‚ï¼š\r\n           targetProject=\"ecps-manager-mapper\"ï¼Œä¸‹åŒ-->\r\n        \u003CsqlMapGenerator targetPackage=\"mapper\"\r\n                         targetProject=\"src/main/resources\">\r\n            \u003C!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ -->\r\n            \u003Cproperty name=\"enableSubPackages\" value=\"false\"/>\r\n        \u003C/sqlMapGenerator>\r\n        \u003C!-- targetPackageï¼šmapperæ¥å£ç”Ÿæˆçš„ä½ç½® -->\r\n        \u003CjavaClientGenerator type=\"XMLMAPPER\"\r\n                             targetPackage=\"com.example.demo.mapper\"\r\n                             targetProject=\"src/main/java\">\r\n            \u003C!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ -->\r\n            \u003Cproperty name=\"enableSubPackages\" value=\"false\"/>\r\n        \u003C/javaClientGenerator>\r\n        \u003C!-- æŒ‡å®šæ•°æ®åº“è¡¨  å¤šä¸ªè¡¨ç¤º,å¯ç”¨å¤šä¸ªtableæ ‡ç­¾-->\r\n        \u003Ctable tableName=\"t_user\"\r\n               enableCountByExample=\"false\"\r\n               enableUpdateByExample=\"false\"\r\n               enableDeleteByExample=\"false\"\r\n               enableSelectByExample=\"false\"\r\n               selectByExampleQueryId=\"false\">\r\n        \u003C/table>\r\n        \u003Ctable tableName=\"t_user_roles\"/>\r\n    \u003C/context>\r\n\u003C/generatorConfiguration>\r\n```\r\n- è¿è¡Œmavenæ’ä»¶å³å¯\r\n![img3](https://alightyoung.gitee.io/static/img/3.png)\r\n\r\n- æ•ˆæœ\r\n![img2](https://alightyoung.gitee.io/static/img/2.png)\r\n\r\nä»£ç å‚è€ƒ:[gitä»“åº“](https://gitee.com/AlightYoung/sample/tree/master/Java/springboot&mbg)\r\n\r\n","post/2020/20200115/":"\r\n\r\n## Centos 7\r\n\r\n### ç¯å¢ƒ\r\n\r\n- é˜¿é‡Œäº‘ecs\r\n- centos7.7\r\n\r\n### å®‰è£…é…ç½®\r\n\r\n- æ–°å»º `/etc/yum.repos.d/mysql-community.repo`\r\n- æŠŠè¿™äº›å†…å®¹å¤åˆ¶åˆ°ä¸Šé¢çš„repoæ–‡ä»¶é‡Œ\r\n\r\n```properties\r\n[mysql-connectors-community]\r\nname=MySQL Connectors Community\r\nbaseurl=https://mirrors.tuna.tsinghua.edu.cn/mysql/yum/mysql-connectors-community-el7-x86_64/\r\nenabled=1\r\ngpgcheck=1\r\ngpgkey=https://repo.mysql.com/RPM-GPG-KEY-mysql\r\n\r\n[mysql-tools-community]\r\nname=MySQL Tools Community\r\nbaseurl=https://mirrors.tuna.tsinghua.edu.cn/mysql/yum/mysql-tools-community-el7-x86_64/\r\nenabled=1\r\ngpgcheck=1\r\ngpgkey=https://repo.mysql.com/RPM-GPG-KEY-mysql\r\n\r\n[mysql-5.6-community]\r\nname=MySQL 5.6 Community Server\r\nbaseurl=https://mirrors.tuna.tsinghua.edu.cn/mysql/yum/mysql-5.6-community-el7-x86_64/\r\nenabled=0\r\ngpgcheck=1\r\ngpgkey=https://repo.mysql.com/RPM-GPG-KEY-mysql\r\n\r\n[mysql-5.7-community]\r\nname=MySQL 5.7 Community Server\r\nbaseurl=https://mirrors.tuna.tsinghua.edu.cn/mysql/yum/mysql-5.7-community-el7-x86_64/\r\nenabled=1\r\ngpgcheck=1\r\ngpgkey=https://repo.mysql.com/RPM-GPG-KEY-mysql\r\n\r\n[mysql-8.0-community]\r\nname=MySQL 8.0 Community Server\r\nbaseurl=https://mirrors.tuna.tsinghua.edu.cn/mysql/yum/mysql-8.0-community-el7-x86_64/\r\nenabled=1\r\ngpgcheck=1\r\ngpgkey=https://repo.mysql.com/RPM-GPG-KEY-mysql\r\n```\r\n\r\nè¿™é‡Œè¯´ä¸€ä¸‹ï¼Œå¦‚æœå‡†å¤‡ä¸‹5.7ç‰ˆæœ¬ï¼Œå°±æŠŠ8.0çš„enabledæ”¹ä¸º0,æˆ‘è¿™é‡Œè£…çš„æ˜¯5.7\r\n\r\n- æ‰§è¡Œ `yum makecache & yum repolist all | grep mysql` \r\nåº”è¯¥å°±èƒ½çœ‹åˆ° MySQL 5.7 Community Server(è¿˜æœ‰5.6 å’Œ8.0çš„ç‰ˆæœ¬)\r\n\r\n- æ‰§è¡Œ `yum -y install mysql-community-server`\r\nä¸€ä¼šåº”è¯¥å°±èƒ½å®‰è£…å®Œï¼Œå› ä¸ºä¸Šé¢é…ç½®çš„æ˜¯æ¸…åçš„æºï¼Œé€Ÿåº¦è¿˜æ˜¯å¯ä»¥çš„ã€‚\r\n\r\n- å®‰è£…å¥½ä¹‹åï¼Œæ‰§è¡Œ `systemctl start mysqld.service `\r\n\r\n- ç„¶åæ˜¯`systemctl status mysqld.service`\r\næ­£å¸¸åº”è¯¥æ˜¯èƒ½çœ‹åˆ°active/runningå­—çœ¼çš„\r\n\r\n- è·å–æ•°æ®åº“å®‰è£…æ—¶ç”Ÿæˆçš„ä¸´æ—¶å¯†ç  `grep \"password\" /var/log/mysqld.log`\r\nå¦‚æœæ‰§è¡Œå‘½ä»¤åï¼Œæ²¡æœ‰è¾“å‡ºä¿¡æ¯ï¼Œæ‰§è¡Œ`rm -rf /var/lib/mysql`ï¼Œé‡å¯msyqlæœåŠ¡ `systemctl restart mysqld`,ç„¶åå†æ¬¡è·å–è¯•è¯•ã€‚\r\n\r\n- ä½¿ç”¨ä¸´æ—¶å¯†ç ç™»å½•mysql\r\n`mysql -u root -p`--->è¾“å…¥ä¸´æ—¶å¯†ç --->ç™»å½•åˆ°mysql cliã€‚\r\n\r\n- ä¿®æ”¹å¯†ç \r\n`ALTER USER 'root'@'localhost' IDENTIFIED BY 'new password';`\r\nè¿™è¾¹æµ‹è¯•å·²ç»æœ‰å®‰å…¨ç­–ç•¥äº†ï¼Œåƒ123456çš„å¯†ç å·²ç»ä¸èƒ½é€šè¿‡äº†ï¼Œå»ºè®®æ”¹ä¸ªç¨å¾®å¤æ‚ç‚¹çš„ã€‚\r\nä¸æƒ³æ”¹çš„è¯å¯ä»¥ä¿®æ”¹å¯†ç å®‰å…¨ç­–ç•¥\r\n`set global validate_password_policy=LOW;`\r\n`set global validate_password_length=6; `\r\n\r\nç„¶åå‘ç°å¯ä»¥è®¾ç½®123456æˆåŠŸäº†\r\n\r\nä¹‹å`quit`å‘½ä»¤é€€å‡ºï¼Œæµ‹è¯•æ–°å¯†ç èƒ½å¦ç™»å½•å³å¯ã€‚\r\n\r\n- `grant all privileges on *.* to root@\"%\" identified by \"new password\";`\r\nè¯¥å‘½ä»¤ç”¨äºç”Ÿæˆä¸€ä¸ªå¯ä»¥è¿œç¨‹ç™»å½•çš„rootç”¨æˆ·,ç„¶ånavicatè¿œç¨‹ç™»å½•æµ‹è¯•ä¸€ä¸‹å°±è¡Œäº†ã€‚\r\n\r\n- è‡³äºé…ç½®æ–‡ä»¶ï¼Œåœ¨`/etc/my.cnf`\r\n\r\nå·®ä¸å¤šå°±è¿™äº›äº†ã€‚\r\n\r\n\r\n## Ubuntu 20.04\r\n\r\n- ç¯å¢ƒï¼šè…¾è®¯äº‘è½»é‡æœåŠ¡å™¨\r\n- mysql  Ver 8.0.27-0ubuntu0.20.04.1 for Linux on x86_64 ((Ubuntu))\r\n- æ—¶é—´ï¼š2021/11/17\r\n\r\n``` shell\r\n# install\r\nsudo apt install mysql-server\r\n# server will auto running after installed\r\n# temporary user and password: /etc/mysql/debian.cnfï¼Œ also can check /var/log/mysql/error.log\r\n# login to mysql client and setting root password and remote user \r\n\r\n# update root password to 123456, you can change it to other if you would like\r\nuse mysql;\r\n# the default plugin\r\nalter user 'root'@'localhost' identified with mysql_native_password by '123456';\r\nupdate user set host = '%' where user = 'root' and host = 'localhost'\r\nflush privileges;\r\nflush hostsl\r\n\r\n# check it\r\n# select user, host, authentication_string, plugin from mysql.user;\r\n\r\n# some useful command\r\n# status\r\nmysql> status\r\nsudo service mysql status\r\nsudo ss -tap | grep mysql\r\n# restart \r\nsudo service mysql restart\r\n# log\r\nsudo journalctl -u mysql\r\n```\r\n\r\n***note bind-address*** on /etc/mysql/mysql.conf.d/mysqld.cnf if existed\r\n\r\n``` shell\r\n[mysql]\r\n# bind-address          = 127.0.0.1\r\n# mysqlx-bind-address   = 127.0.0.1\r\n```\r\n","post/2020/20200122/":"\r\n### ç¯å¢ƒå‡†å¤‡\r\n\r\n- centos7æœ¬åœ°è™šæ‹Ÿæœº\r\n- 3gå†…å­˜\r\n- jdk1.8\r\n- MySQL 5.7\r\n\r\n### å‰è¨€\r\n\r\nä»¥ä¸‹å†…å®¹åªæœ‰æœ€ç®€å•çš„æœ¬åœ°æµ‹è¯•æ•™ç¨‹ï¼Œä¸åŒ…æ‹¬å¾ˆå¤šç»†èŠ‚ï¼Œå¦‚æœæ˜¯å‡†å¤‡è§£å†³ä¸€äº›ç»†èŠ‚æ€§é—®é¢˜ï¼Œè¿˜æ˜¯å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://github.com/ctripcorp/apollo/wiki/%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97)\r\n\r\n### æ•°æ®åº“åˆ›å»º\r\n\r\né¦–å…ˆéœ€è¦éƒ¨ç½²ä¸¤ä¸ªæ•°æ®åº“ã€‚\r\n\r\nå®˜æ–¹æä¾›äº†sqlæ–‡ä»¶ï¼Œç›´æ¥å¯¼å…¥å°±è¡Œäº†ã€‚\r\n\r\nåˆ›å»ºapolloportaldbçš„sqlæ–‡ä»¶\r\n[apolloportaldb.sql](https://github.com/ctripcorp/apollo/blob/master/scripts/sql/apolloportaldb.sql)\r\n\r\nåˆ›å»ºapolloconfigdbçš„sqlæ–‡ä»¶\r\n[apolloconfigdb.sql](https://github.com/ctripcorp/apollo/blob/master/scripts/sql/apolloconfigdb.sql)\r\n\r\n### è·å–å®‰è£…åŒ…\r\n\r\nè¿™é‡Œæ”¾å·²ç»æ‰“åŒ…å¥½çš„å®‰è£…çš„ï¼Œå®˜æ–¹è¿˜æä¾›äº†æºç æ„å»ºæ–¹å¼\r\n\r\n[ä¸‹è½½åœ°å€](https://github.com/ctripcorp/apollo/releases)\r\n\r\nè¿™é‡Œä¸»è¦ä¸‹è½½è¿™ä¸‰ä¸ªæ–‡ä»¶\r\n```xml\r\napollo-adminservice-*.*.*-github.zip\r\napollo-configservice-*.*.*-github.zip\r\napollo-portal-*.*.*-github.zip\r\n```\r\n\r\næ¥ä¸‹æ¥å°±è¦è§£å‹ä¿®æ”¹é…ç½®æ–‡ä»¶\r\n\r\nè¿™ä¸‰ä¸ªæ–‡ä»¶å¤¹é‡Œé¢éƒ½æœ‰`config/application-github.properties`,é‡Œé¢éœ€è¦é…ç½®æ•°æ®åº“é“¾æ¥ï¼Œç”¨æˆ·åï¼Œå¯†ç ï¼Œæ”¹æˆè‡ªå·±çš„å°±è¡Œäº†ã€‚\r\n\r\nè¿˜æœ‰ä¸ª`meta service`æ²¡é…ç½®(portalé‡Œé¢)ï¼Œå› ä¸ºä¸»è¦æ˜¯æœ¬åœ°æµ‹è¯•ï¼Œæˆ‘å°±æ²¡æ”¹ï¼Œéœ€è¦çš„å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚\r\n\r\n### éƒ¨ç½²\r\n\r\néƒ¨ç½²å…¶å®æŒºç®€å•çš„ï¼ˆä¸é…ç½®jvmå‚æ•°ä»€ä¹ˆçš„ï¼‰,ä¸¢åˆ°æœåŠ¡å™¨é‡Œå»å°±è¡Œäº†ã€‚\r\n\r\nåˆšæ‰çš„ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢éƒ½æœ‰`scripts`\r\n\r\né‡Œé¢éƒ½æœ‰`startup.sh`å’Œ`shutdown.sh`\r\n\r\nä½†æ˜¯sftpä¸¢è¿›å»å¯èƒ½æ²¡æœ‰executeæƒé™ï¼Œåœ¨`scripts`ä¸‹æ‰§è¡Œ`chmod +x s*`å°±è¡Œäº†ã€‚\r\n\r\nè¿™ä¸‰ä¸ªè¿›ç¨‹è·‘èµ·æ¥å°±å¯ä»¥é€šè¿‡ipï¼š8080çœ‹åˆ°eurekaçš„webç•Œé¢ï¼Œipï¼š8070è¿›å…¥apolloçš„webç®¡ç†ç•Œé¢ï¼Œé»˜è®¤ç”¨æˆ·åæ˜¯apolloï¼Œå¯†ç æ˜¯adminï¼Œä¹‹åçš„åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå’Œspringcloudçš„æ•´åˆå°±ä¸å¤šèµ˜è¿°äº†ã€‚\r\n\r\noverï¼","post/2020/20200130/":"\r\n### å‰è¨€\r\n\r\nè¿™é‡Œæä¾›ä¸¤ç§æ–¹å¼å®‰è£…\r\n- é€šè¿‡yumè¿›è¡Œå®‰è£…ï¼ˆæ— éœ€é…ç½®ç¯å¢ƒå˜é‡ï¼‰\r\n- é€šè¿‡tar.gzå‹ç¼©æ ¼å¼è¿›è¡Œå®‰è£…ï¼ˆéœ€æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡ï¼‰\r\n\r\n### é€šè¿‡yumå®‰è£…\r\n\r\nè¿™é‡Œè¯´ä¸€ä¸‹åºŸè¯ã€‚\r\n\r\nä¿®æ”¹é»˜è®¤yumæºä¸ºé˜¿é‡Œçš„yumæºï¼ˆå¦‚å·²é…ç½®å¯ä»¥è·³è¿‡ï¼‰\r\n\r\nè¯¦ç»†ç§»æ­¥ [å®˜æ–¹è¯´æ˜](https://developer.aliyun.com/mirror/centos)\r\n\r\næŸ¥æ‰¾å…·ä½“åŒ…å\r\n`yum search jdk`\r\n\r\nå®‰è£…openjdk8\r\n`yum install -y java-1.8.0-openjdk-devel.x86_64`\r\n\r\næŸ¥çœ‹ç¯å¢ƒæ˜¯å¦ç”Ÿæ•ˆ\r\n`java -version`\r\n`javac -version`\r\n\r\n### é€šè¿‡å‹ç¼©åŒ…å®‰è£…\r\n\r\n1. æŠŠä¹‹å‰åœ¨oracleå®˜æ–¹ä¸‹è½½çš„å‹ç¼©åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œä¹Ÿå¯ä»¥ç”¨openjdk\r\n2. `tar zxvf åŒ…å` è¿›è¡Œè§£å‹ï¼Œä¹‹å`rm åŒ…å`åˆ æ‰å‹ç¼©åŒ…\r\n3. ç¼–è¾‘ç”¨æˆ·ç›®å½•ä¸‹çš„.bashrc\r\nä»¥ä¸‹æ˜¯æˆ‘çš„æ¨¡æ¿,è¿™é‡Œæˆ‘æŠŠåŒ…ç›´æ¥è§£å‹åˆ°äº†`/root`ä¸‹ï¼Œè¿™ä¸ªæ ¹æ®è‡ªå·±éœ€æ±‚å˜åŠ¨\r\n```bash\r\nexport JAVA_HOME=\"/root/jdk1.8.0_241\"\r\nexport PATH=\"$PATH:$JAVA_HOME/bin/\"\r\n```\r\n4. ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ`source ~/.bashrc`\r\n\r\nä¹‹ååŒæ ·å¯ä»¥æŸ¥çœ‹ç‰ˆæœ¬çœ‹æœ‰æ²¡æœ‰ç”Ÿæ•ˆã€‚\r\n\r\n","post/2020/20200605/":"\r\n## SQLè¯­å¥ \r\n\r\n```sql\r\n/* æŸ¥è¯¢æ•°æ®åº“ â€˜mammothcodeâ€™ æ‰€æœ‰è¡¨æ³¨é‡Š */\r\nSELECT TABLE_NAME,TABLE_COMMENT FROM information_schema.TABLES WHERE table_schema='mammothcode';\r\n```\r\n\r\n```sql\r\n/* æŸ¥è¯¢æ•°æ®åº“ â€˜mammothcodeâ€™ ä¸‹è¡¨ â€˜t_adminuserâ€™ æ‰€æœ‰å­—æ®µæ³¨é‡Š */\r\nSELECT COLUMN_NAME,column_comment FROM INFORMATION_SCHEMA.Columns WHERE table_name='t_adminuser' AND table_schema='mammothcode'\r\n```\r\n\r\n```sql\r\n/* ä¸€æ¬¡æ€§æŸ¥è¯¢æ•°æ®åº“ \"mammothcode\" ä¸‹è¡¨æ³¨é‡Šä»¥åŠå¯¹åº”è¡¨å­—æ®µæ³¨é‡Š*/\r\nSELECT t.TABLE_NAME,t.TABLE_COMMENT,c.COLUMN_NAME,c.COLUMN_TYPE,c.COLUMN_COMMENT FROM information_schema.TABLES t,INFORMATION_SCHEMA.Columns c WHERE c.TABLE_NAME=t.TABLE_NAME AND t.`TABLE_SCHEMA`='mammothcode'\r\n```\r\n","post/2020/20200606/":"\r\n### æ—¶é—´æˆ³/date/stringè½¬æ¢\r\n\r\n```java\r\n// è·å–å½“å‰æ—¶é—´æˆ³\r\nlong l = System.currentTimeMillis(); // l=1589854992924\r\n// æ—¶é—´æˆ³è½¬date\r\nDate date = new Date(l); // date=Tue May 19 10:23:12 CST 2020\r\n// \"yyyy-MM-dd hh:mm:ss\"æ ¼å¼è½¬date\r\nString s = \"2020-01-01 00:00:00\";\r\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\r\nDate parse = sdf.parse(s);// parse=Wed Jan 01 00:00:00 CST 2020\r\n// dateè·å–æ—¶é—´æˆ³\r\nlong time = parse.getTime(); // time=1577808000000\r\n// dateè¾“å‡ºæŒ‡å®šæ ¼å¼\r\nString format = sdf.format(parse);//format=2020-01-01 00:00:00\r\n// calendar å®ç°dateå¢åŠ ä¸€å¤©\r\nDate stratTime = simpleDateFormat.parse(\"2020-01-01\");\r\nCalendar calendar = Calendar.getInstance();\r\ncalendar.setTime(stratTime);\r\n// ä¹Ÿå¯å¢åŠ å¹´/æœˆ\r\ncalendar.add(Calendar.DAY_OF_WEEK,1);\r\nDate endTime = calendar.getTime();\r\n```\r\né¡ºå¸¦è®°å½•ä¸¤ä¸ªç©ºå€¼åˆ¤æ–­å†™æ³•\r\n```java\r\nInteger a = Optional.ofNullable(null).orElse(new Integer(1)); // a=1\r\nInteger a = getA()==null?1:getA();\r\n```\r\n\r\n\r\n","post/2020/20200607/":"\r\n### å®¹å™¨\r\nJavaçš„å®¹å™¨/é›†åˆå¤§è‡´å¯ä»¥åˆ†ä¸ºarray,list,map,set\r\n\r\n#### Arrayæ’åº\r\n```java\r\nint[] arr = {5,2,66,3,7};\r\nArrays.sort(arr);\r\n// print 2 3 5 7 66\r\n```\r\n\r\n#### List/Setæ’åº\r\n\r\n```java\r\n// åŸºæœ¬ç±»å‹\r\nCollections.sort(list);\r\n// å¯¹è±¡\r\nList\u003CUser> userList = new ArrayList();\r\nuserList.sort(Comparator.comparing(user::getCreateTime));\r\n//è¿™é‡Œçš„å†™æ³•éœ€è¦jdk8+ å¯ä»¥æ ¹æ®ä»»ä½•å­—æ®µè¿›è¡Œè‡ªç„¶æ’åº\r\n// setæ’åºè€ƒè™‘æ”¾åˆ°treeSetæˆ–è€…è½¬æˆlist\r\n```\r\n\r\n#### Mapæ’åº\r\n\r\n```java\r\n// ä»¥ä¸‹æ–¹æ³•å‡å¯è®©mapçš„entry/key/valueæŒ‰ç…§è‡ªç„¶æ’åºè¾“å‡º å¯¹è±¡çš„è¯å¯ä»¥å†è€ƒè™‘ä½¿ç”¨ä»¥ä¸Šlistæ’åºçš„æ–¹å¼è¿›è¡Œå†æ’\r\nMap.entrySet();\r\nMap.keySet();\r\nMap.valueSet();\r\n```\r\n\r\n","post/2020/20200608/":"\nç®€å•çš„è¯´ Node.js å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScriptã€‚\n\nNode.js æ˜¯ä¸€ä¸ªåŸºäºChrome JavaScript è¿è¡Œæ—¶å»ºç«‹çš„ä¸€ä¸ªå¹³å°ã€‚\n\nNode.jsæ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨I/OæœåŠ¡ç«¯JavaScriptç¯å¢ƒï¼ŒåŸºäºGoogleçš„V8å¼•æ“ï¼ŒV8å¼•æ“æ‰§è¡ŒJavascriptçš„é€Ÿåº¦éå¸¸å¿«ï¼Œæ€§èƒ½éå¸¸å¥½ã€‚\n\n#### ç¯å¢ƒå®‰è£…\n\nè¿™ä¸ªä¸å¤šè¯´äº†,æ‰“å¼€[å®˜ç½‘](https://nodejs.org/zh-cn/)å°±çŸ¥é“äº†\n\nå®‰è£…å®Œä¹‹åå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦æˆåŠŸ\n\n```bash\n# æŸ¥çœ‹nodeç‰ˆæœ¬\nnode -v\n# æŸ¥çœ‹npmç‰ˆæœ¬\nnpm -v\n```\n\n\n\n#### node & npm\n\nåœ¨å®‰è£…å®Œç¯å¢ƒä¹‹å,å…ˆåˆæ­¥äº†è§£ä¸€ä¸‹`node`å’Œ`npm`\n\nä¸€èˆ¬æ¥è¯´`node`ç”¨æ¥è¿›å…¥nodeçš„JavaScriptç¯å¢ƒ(REPL),å¯ä»¥åœ¨ç»ˆç«¯ä¸­æµ‹è¯•JavaScript,æˆ–è€…ç›´æ¥`node index.js`å»æ‰§è¡Œä¸€æ®µjs.\n\nè€Œ`npm`åˆ™æ˜¯ä¸ªåŒ…ç®¡ç†å™¨,ç®€å•åœ°è¯´,ä½ å¯ä»¥ç”¨å®ƒä¸‹è½½å®‰è£…ä¸€äº›åˆ«äººå‘å¸ƒçš„åŒ….ä½ è¿˜å¯ä»¥å»å¯åŠ¨ä¸€ä¸ªé¡¹ç›®.\n\n> ä¸€èˆ¬æ¥è¯´npmçš„ä»“åº“æºæ˜¯å›½å¤–çš„,æ‰€ä»¥ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä¼šæ›¿æ¢æºæ¥æ”¹å–„ä¸‹è½½çš„é€Ÿåº¦,è¿™é‡Œå®‰åˆ©ä¸€ä¸‹nrm,å®ƒå¯ä»¥è½»æ˜“çš„åˆ‡æ¢ä»“åº“ä½¿ç”¨çš„æº\n\n```bash\n# å®‰è£…\nnpm install -g nrm\n# ä½¿ç”¨è¯´æ˜\n# æŸ¥çœ‹æºå¯é€‰é¡¹\nnrm ls\n# å¤§æ¦‚ä¼šå‡ºç°ä¸€ä¸‹è¿™äº›\n* npm -----  https://registry.npmjs.org/\n  yarn ----- https://registry.yarnpkg.com\n  cnpm ----  http://r.cnpmjs.org/\n  taobao --  https://registry.npm.taobao.org/\n  nj ------  https://registry.nodejitsu.com/\n  skimdb -- https://skimdb.npmjs.com/registry\n# åˆ‡æ¢åˆ°taobaoæº\nnrm use taobao\n# æç¤ºä»¥ä¸‹åˆ™è¯´æ˜æˆåŠŸ\nRegistry has been set to: https://registry.npm.taobao.org/\n# æ¢å›åŸæ¥çš„æº\nnrm use npm\n```\n\n#### REPL\n\n(Read Eval Print Loop:äº¤äº’å¼è§£é‡Šå™¨)\n\nä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„`node`æŒ‡ä»¤è¿›å…¥çš„JavaScriptç¯å¢ƒ\n\nå®ƒå¯ä»¥æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š\n\n- **è¯»å–** - è¯»å–ç”¨æˆ·è¾“å…¥ï¼Œè§£æè¾“å…¥äº†Javascript æ•°æ®ç»“æ„å¹¶å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚\n- **æ‰§è¡Œ** - æ‰§è¡Œè¾“å…¥çš„æ•°æ®ç»“æ„\n- **æ‰“å°** - è¾“å‡ºç»“æœ\n- **å¾ªç¯** - å¾ªç¯æ“ä½œä»¥ä¸Šæ­¥éª¤ç›´åˆ°ç”¨æˆ·ä¸¤æ¬¡æŒ‰ä¸‹ **ctrl-c** æŒ‰é’®é€€å‡ºã€‚\n\n**Example**\n\n```bash\n$ node\n> let a = 1\nundefined\n> console.log(a)\n1\n```\n\n##### REPL å‘½ä»¤\n\n- `ctrl + c` - é€€å‡ºå½“å‰ç»ˆç«¯ã€‚\n- `ctrl + c æŒ‰ä¸‹ä¸¤æ¬¡` - é€€å‡º Node REPLã€‚\n- `ctrl + d` - é€€å‡º Node REPL.\n- `å‘ä¸Š/å‘ä¸‹ é”®` - æŸ¥çœ‹è¾“å…¥çš„å†å²å‘½ä»¤\n- `tab ` - åˆ—å‡ºå½“å‰å‘½ä»¤\n- `.help` - åˆ—å‡ºä½¿ç”¨å‘½ä»¤\n- `.break` - é€€å‡ºå¤šè¡Œè¡¨è¾¾å¼\n- `.clear` - é€€å‡ºå¤šè¡Œè¡¨è¾¾å¼\n- `.save filename` - ä¿å­˜å½“å‰çš„ Node REPL ä¼šè¯åˆ°æŒ‡å®šæ–‡ä»¶\n- `.load filename` - è½½å…¥å½“å‰ Node REPL ä¼šè¯çš„æ–‡ä»¶å†…å®¹ã€‚\n\n#### æ¨¡å—ç³»ç»Ÿ\n\nrequireå¸¸ç”¨æ¥å¯¼å…¥å½“å‰å·¥ç¨‹ä¸‹node_modulesä¸­çš„æ¨¡å—\n\n```javascript\n// å¯¼å…¥è¯»å–æ–‡ä»¶æ¨¡å—\nvar fs = require(\"fs\");\nvar data = fs.readFileSync('input.txt');\n```\n\n#### æœ€å\n\nä¸ç”¨å¥½å¥‡ä¸ºå•¥æ²¡æœ‰äº†,å› ä¸ºå¾ˆå¤šä¸œè¥¿çš„å†…å®¹éƒ½å¯ä»¥å•ç‹¬å†™ä¸€ç¯‡åšå®¢äº†,æ·±å…¥çœ‹çš„è¯,å®˜æ–¹æ–‡æ¡£ç»å¯¹æ˜¯ä¸äºŒé€‰æ‹©(æ¨èæœ‰åŸºç¡€çš„æƒ…å†µä¸‹çœ‹)\n\nç°åœ¨ä½ å¯ä»¥å»äº†è§£apiå’Œå„ç§æ¨¡å—äº†,æ„Ÿå…´è¶£çš„è¯è¿˜å¯ä»¥äº†è§£ä¸€ä¸‹express/koa.å€¼å¾—ä¸€æçš„æ˜¯,å¦‚æœä½ æ˜¯å‰ç«¯å¼€å‘è€…,æƒ³å®ç°ä¸€äº›åŠŸèƒ½ç®€å•çš„åç«¯çš„è¯,node.jsç»å¯¹æ»¡è¶³ä½ çš„è¦æ±‚.\n\n---\n\nè´´ä¸€ä¸‹å½“æ—¶ç”¨expresså†™çš„demo,å½“æ—¶ä¸ä¼šes6,å†™äº†å¾ˆå¤šå›è°ƒåœ°ç‹± T_T\n\n```javascript\n//express_demo.js æ–‡ä»¶\nvar url = require('url');\nvar ejs = require('ejs');\nvar querystring = require('querystring');\nconst express = require('express');\nconst fs = require('fs');\nconst util = require('util');\nvar mysql = require('mysql');\n\nconst app = express();\n\nvar connection = mysql.createConnection({\n    host: 'localhost',\n    user: 'root',\n    password: 'pwd',\n    database: 'databaseName'\n});\nconnection.connect();\n\n// é™æ€æ–‡ä»¶é…ç½® å¤šä¸ªéœ€é‡å¤æ·»åŠ \n// app.use(express.static('css'));\n\n// renderå¼•æ“\napp.set('views', 'views');\napp.set('view engine', 'html');\napp.engine('html', ejs.renderFile)\n// index\napp.get(['/', '/index'], function (req, res) {\n    res.sendFile(__dirname+'/views/index.html');\n})\n// è·³è½¬page\napp.get('/page/:pageId', function (req, res) {\n    const page = 'page' + req.params.pageId;\n    const file = 'views/'+page+'.html';\n    fs.access(file, fs.constants.F_OK | fs.constants.W_OK, (err) => {\n        if (err) {\n            res.render('pnf');\n        }else{\n            res.render(page);\n        }\n    });\n})\napp.use(function (req, res, next) {\n    res.status(404).send(\"404 Not Found\")\n})\n// è·å–æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨\napp.get('/getalluser', function (req, res) {\n    connection.query('select * from user', function (error, results) {\n        if (error) throw error;\n        res.send(util.inspect(results, true));\n    });\n})\n// æŸ¥è¯¢æŒ‡å®šå®¢æˆ·ä¿¡æ¯\napp.get('/getuser', function (req, res) {\n    const params = url.parse(req.url, true).query;\n    const addSql = 'select * from user where id = ?';\n    const addSqlParams = [params.id];\n    connection.query(addSql, addSqlParams, function (error, result) {\n        if (error) throw error;\n        res.send(util.inspect(result, true));\n    });\n})\n// æ–°å¢ç”¨æˆ·\napp.post('/adduser', function (req, res) {\n    // å®šä¹‰äº†ä¸€ä¸ªpostå˜é‡ï¼Œç”¨äºæš‚å­˜è¯·æ±‚ä½“çš„ä¿¡æ¯\n    let body = '';\n    // é€šè¿‡reqçš„dataäº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œæ¯å½“æ¥å—åˆ°è¯·æ±‚ä½“çš„æ•°æ®ï¼Œå°±ç´¯åŠ åˆ°postå˜é‡ä¸­\n    req.on('data', function (chunk) {\n        body += chunk;\n    });\n    // åœ¨endäº‹ä»¶è§¦å‘åï¼Œé€šè¿‡querystring.parseå°†postè§£æä¸ºçœŸæ­£çš„POSTè¯·æ±‚æ ¼å¼ï¼Œç„¶åå‘å®¢æˆ·ç«¯è¿”å›ã€‚\n    req.on('end', function () {\n        body = querystring.parse(body);\n        const addSql = 'insert into user(`name`,head_image,phone,pwd,email,create_time) values(?,?,?,?,?,now())';\n        const addSqlParams = [body.name, body.headImage, body.phone, body.pwd, body.email];\n        connection.query(addSql, addSqlParams, function (err, result) {\n            if (err) {\n                return result;\n            }\n            res.send('insert success');\n        });\n    });\n})\n// ä¿®æ”¹ç”¨æˆ·\napp.put('/updateuser', function (req, res) {\n    // å®šä¹‰äº†ä¸€ä¸ªpostå˜é‡ï¼Œç”¨äºæš‚å­˜è¯·æ±‚ä½“çš„ä¿¡æ¯\n    let body = '';\n    // é€šè¿‡reqçš„dataäº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œæ¯å½“æ¥å—åˆ°è¯·æ±‚ä½“çš„æ•°æ®ï¼Œå°±ç´¯åŠ åˆ°postå˜é‡ä¸­\n    req.on('data', function (chunk) {\n        body += chunk;\n    });\n    // åœ¨endäº‹ä»¶è§¦å‘åï¼Œé€šè¿‡querystring.parseå°†postè§£æä¸ºçœŸæ­£çš„POSTè¯·æ±‚æ ¼å¼ï¼Œç„¶åå‘å®¢æˆ·ç«¯è¿”å›ã€‚\n    req.on('end', function () {\n        body = querystring.parse(body);\n        if (!body.id) {\n            res.send('å‚æ•°é”™è¯¯');\n            return;\n        }\n        const addSql = 'select * from user where id = ?';\n        const addSqlParams = [body.id];\n        connection.query(addSql, addSqlParams, function (error, result) {\n            if (error) throw error;\n            let resultElement = result[0];\n            if (body.name) {\n                resultElement.name = body.name;\n            }\n            if (body.headImage) {\n                resultElement.head_image = body.headImage;\n            }\n            if (body.phone) {\n                resultElement.phone = body.phone;\n            }\n            if (body.pwd) {\n                resultElement.pwd = body.pwd;\n            }\n            if (body.email) {\n                resultElement.email = body.email;\n            }\n            const modSql = 'update user set name = ?,head_image = ?,phone = ?,pwd = ?,email =? where id = ?';\n            const modSqlParams = [resultElement.name, resultElement.head_image, resultElement.phone, resultElement.pwd, resultElement.email, resultElement.id];\n            connection.query(modSql, modSqlParams, function (err, result) {\n                if (err) {\n                    return result;\n                }\n                res.send('update success ' + result.affectedRows + ' row');\n            });\n        });\n    });\n})\n// åˆ é™¤ç”¨æˆ·\napp.delete('/deleteuser', function (req, res) {\n    console.log('-------------------------------');\n    let body = '';\n    req.on('data', function (chunk) {\n        body += chunk;\n    })\n    req.on('end', function () {\n        body = querystring.parse(body);\n        if (!body.id) {\n            res.send('å‚æ•°é”™è¯¯');\n            return;\n        }\n        const deleteSql = 'delete from user where id = ?';\n        const deleteParams = [body.id];\n        connection.query(deleteSql, deleteParams, function (error, result) {\n            if (error) return;\n            res.send('delete success ' + result.affectedRows + ' row');\n        })\n\n    })\n\n})\n// å¼€å¯æœåŠ¡\nconst server = app.listen(8081, function () {\n\n    const host = server.address().address;\n    const port = server.address().port;\n\n    console.log(\"åº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%s\", host, port)\n\n});\n```\n","post/2020/20200609/":"\r\n#### let&const\r\n\r\n| å…³é”®å­— | æ˜¯å¦å¯é‡å¤å£°æ˜ | å®šä¹‰å˜/å¸¸é‡ |   ä½œç”¨åŸŸ   |\r\n| :----: | :------------: | :---------: | :--------: |\r\n|  let   |       å¦       |     å˜      | å—çº§ä½œç”¨åŸŸ |\r\n| const  |       å¦       |     å¸¸      | å—çº§ä½œç”¨åŸŸ |\r\n\r\n#### ç®­å¤´å‡½æ•°\r\n\r\n```javascript\r\nlet double = function(a){\r\n    return 2*a;\r\n}\r\n// ç­‰ä»·äº\r\nlet double = (a)=>{\r\n    return 2*a;\r\n}\r\n// å½“å‚æ•°åªæœ‰ä¸€ä¸ªå¯ä»¥çœç•¥æ‹¬å·\r\nlet double = a=>{\r\n    return 2*a;\r\n}\r\n// å½“è¿”å›åªæœ‰ä¸€ä¸ªå¯ä»¥çœç•¥èŠ±æ‹¬å·+return\r\nlet double = a=>2*a\r\n```\r\n\r\n#### å‡½æ•°-å‚æ•°\r\n\r\n##### RestParameter\r\n\r\n```javascript\r\n// 1.æ”¶é›†å‚æ•°\r\nfunction alert(a,b,...args){\r\n\talert(args);\r\n}\r\nshow(1,2,3,4,5) // alert 3,4,5\r\n// RestParameterå¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°\r\n\r\n// 2. æ•°ç»„å±•å¼€\r\nlet show = (a,b,c)=>{\r\n    alert(a);\r\n    alert(b);\r\n    alert(c);\r\n}\r\n// show(1,2,3);\r\n//ç­‰ä»·äº\r\nlet arr = [1,2,3];\r\nshow(...arr);\r\n```\r\n\r\n##### é»˜è®¤å‚æ•°\r\n\r\n```javascript\r\nlet show = (a,b=10,c=5)=>{\r\n\treturn a+b+c;\r\n}\r\nshow(1); // 16\r\n```\r\n\r\n#### è§£æ„èµ‹å€¼\r\n\r\n>- å·¦å³ä¸¤è¾¹ç»“æ„å¿…é¡»ä¸€è‡´\r\n>- å³è¾¹ä¸ºå®é™…å‚æ•°\r\n>- å£°æ˜ä¸èµ‹å€¼ä¸å¯æ‹†å¼€\r\n\r\n```javascript\r\nlet arr = [1,2,3];\r\na= arr[0];\r\na= arr[1];\r\na= arr[2];\r\n// ç­‰ä»·äº\r\nlet[a,b,c] = [1,2,3];\r\n// å…¶ä»–ç±»å‹åªéœ€ä¸¤è¾¹ç»“æ„ä¿æŒä¸€è‡´å³å¯\r\n```\r\n\r\n#### æ•°ç»„\r\n\r\n>1. map\r\n>2. reduce\r\n>3. filter\r\n>4. forEach\r\n\r\n```javascript\r\n// map æ˜ å°„\r\nlet arr = [1,2,3];\r\nlet res = arr.map(item=>item>=2?'good':'bad');// bad good good\r\n// reduce æ±‡æ€»\r\nlet res = arr.reduce((temp,item,index)=>temp+item); // æ±‚å’Œ 6\r\nlet res = res/arr.length // å¹³å‡æ•°  2\r\n// filter\r\nlet res = arr.filter(item=>{\r\n    if(item>2){\r\n        return true;\r\n    }else{\r\n        return false;\r\n    }\r\n}) // 3\r\n// forEach\r\narr.forEach((item,index)=>{\r\n    console.log(item,index);\r\n}) // 1 0 ,2 1,3 2\r\n```\r\n\r\n#### å­—ç¬¦ä¸²\r\n\r\n>1. startsWith --- åˆ¤æ–­åœ°å€åè®®\r\n>2. endsWith --- åˆ¤æ–­æ–‡ä»¶ç±»å‹\r\n>3. æ¨¡æ¿å­—ç¬¦ä¸² `` --- ä¸¤ä¸ªåå•å¼•å·\r\n\r\n#### é¢å‘å¯¹è±¡\r\n\r\n```javascript\r\nclass User{\r\n    constructor(name,pwd){\r\n        this.name = name;\r\n        this.pwd = pwd;\r\n    }\r\n    showName(){alert(this.name);}\r\n    showPwd(){alert(this.pwd);}\r\n}\r\nlet u1 = new User('name','pwd');\r\nu1.showName(); // name\r\nu1.showPwd(); // pwd\r\n// ç»§æ‰¿\r\nclass Vip extends User{\r\n    constructor(name,pwd,level){\r\n        super(name,pwd);\r\n        this.level = level;\r\n    }\r\n    showLevel(){alert(this.level);}\r\n}\r\nlet v1 = new Vip('name','pwd','level');\r\nv1.showLevel(); // level\r\n```\r\n\r\n#### JSON\r\n\r\n>```javascript\r\n>// è½¬æ¢å­—ç¬¦ä¸²\r\n>let json = {a:1,b:2}\r\n>let url = 'localhost/get?data='+encodeURIComponent(JSON.stringify(json));\r\n>// è§£æ\r\n>let jsonstr = '{\"a\":1,\"b\":2}';\r\n>JSON.parse(jsonstr);\r\n>// å½“jsonåå­—å€¼ä¸€æ ·å¯ä»¥çœ ç•¥å€¼\r\n>let a = 1;\r\n>let b = 2;\r\n>let json = {a:a,b:b}\r\n>// ç­‰ä»·äº\r\n>let json = {a,b}\r\n>let json = {\r\n>    a:1;\r\n>    show:function(){...}\r\n>\t// ç®€å†™\r\n>\tshow(){...}\r\n>}\r\n>```\r\n\r\n#### Promise\r\n\r\n```javascript\r\nlet p = new Promise((resolve,reject)=>{\r\n    // å¼‚æ­¥ä»£ç  åœ¨è¯·æ±‚æˆåŠŸè°ƒç”¨resolve å¤±è´¥è°ƒç”¨reject\r\n    $.ajax({\r\n        url:'arr.txt',\r\n        dataType:'json',\r\n        success(arr){\r\n            resolve(arr);\r\n        },\r\n        error(err){\r\n            reject(err);\r\n        }\r\n    })\r\n})\r\np.then(function(arr){\r\n    console.log(arr);\r\n},function(err){\r\n    console.log(err);\r\n})\r\n// å¤šå¼‚æ­¥ç»“æœåˆ¤æ–­\r\nlet p1 = new Promise((resolve,reject)=>{\r\n    // å¼‚æ­¥ä»£ç  åœ¨è¯·æ±‚æˆåŠŸè°ƒç”¨resolve å¤±è´¥è°ƒç”¨reject\r\n    ...\r\n});\r\nlet p2 = new Promise((resolve,reject)=>{\r\n    // å¼‚æ­¥ä»£ç  åœ¨è¯·æ±‚æˆåŠŸè°ƒç”¨resolve å¤±è´¥è°ƒç”¨reject\r\n   ...\r\n})\r\nPromise.all([p1,p2]).then(res=>{},err=>{});\r\n// ç«äº‰èµ„æº\r\nPromise.race(\r\n\t// å¤šå¼‚æ­¥æ“ä½œ å–æœ€å…ˆè¿”å›çš„ä¿¡æ¯\r\n);\r\n```\r\n\r\n#### Generator\r\n\r\n```javascript\r\n// ç”Ÿæˆå™¨å‡½æ•° åœ¨functionå’Œæ–¹æ³•åä¹‹é—´åŠ ä¸ª*å·\r\nfunction* showGenerator(){\r\n    alert(1);\r\n    yield;\r\n    alert(2);\r\n}\r\n// è¿”å›ä¸€ä¸ªå¯¹è±¡ é€šè¿‡next()æ‰§è¡Œä¸‹ä¸€æ­¥ é‡åˆ°yieldæš‚åœ é»˜è®¤ä¸æ‰§è¡Œ\r\nlet genObj = showGenerator();\r\ngenObj.next(); // alert(1)\r\ngenObj.next(); // alert(2)\r\n\r\n// yield ä¼ å‚\r\nfunction* showGenerator(){\r\n    console.log(1);\r\n    let a = yield;\r\n    console.log(a); // 2\r\n    console.log(2);\r\n}\r\nlet genObj = showGenerator();\r\ngenObj.next(1);\r\ngenObj.next(2);\r\n\r\n// yieldè¿”å›ä¸­é—´ç»“æœ\r\nfunction* showGenerator(){\r\n    let a = 1;\r\n    yield a;\r\n    a = 2*a;\r\n    return a;\r\n}\r\nlet genObj = showGenerator();\r\nlet res1 = genObj.next(); // value:1 done:false\r\nlet res2 = genObj.next(); // value:2 done:true\r\n```\r\n\r\n#### Async --- Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚\r\n\r\nä½¿ç”¨Generator è¯»å–ä¸¤ä¸ªæ–‡ä»¶\r\n\r\n```javascript\r\nconst fs = require('fs');\r\n\r\nconst readFile = function (fileName) {\r\n  return new Promise(function (resolve, reject) {\r\n    fs.readFile(fileName, function(error, data) {\r\n      if (error) return reject(error);\r\n      resolve(data);\r\n    });\r\n  });\r\n};\r\n// genå‡½æ•°\r\nconst gen = function* () {\r\n  const f1 = yield readFile('/etc/fstab');\r\n  const f2 = yield readFile('/etc/shells');\r\n  console.log(f1.toString());\r\n  console.log(f2.toString());\r\n};\r\n// asyncå‡½æ•°\r\nconst asyncReadFile = async function () {\r\n  const f1 = await readFile('/etc/fstab');\r\n  const f2 = await readFile('/etc/shells');\r\n  console.log(f1.toString());\r\n  console.log(f2.toString());\r\n};\r\n```","post/2020/20200610/":"\r\n> Vue (è¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äº **view**) æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„**æ¸è¿›å¼æ¡†æ¶**ã€‚ä¸å…¶å®ƒå¤§å‹æ¡†æ¶ä¸åŒçš„æ˜¯ï¼ŒVue è¢«è®¾è®¡ä¸ºå¯ä»¥è‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨ã€‚Vue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè¿˜ä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆã€‚å¦ä¸€æ–¹é¢ï¼Œå½“ä¸[ç°ä»£åŒ–çš„å·¥å…·é“¾](https://cn.vuejs.org/v2/guide/single-file-components.html)ä»¥åŠå„ç§[æ”¯æŒç±»åº“](https://github.com/vuejs/awesome-vue#libraries--plugins)ç»“åˆä½¿ç”¨æ—¶ï¼ŒVue ä¹Ÿå®Œå…¨èƒ½å¤Ÿä¸ºå¤æ‚çš„å•é¡µåº”ç”¨æä¾›é©±åŠ¨ã€‚\r\n\r\n#### HelloWorld\r\n\r\n```html\r\n\u003C!--å¯¼å…¥js-->\r\n\u003Cscript src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\">\u003C/script>\r\n\u003C!--html-->\r\n\u003Cdiv id=\"app\">\r\n  {{ message }}\r\n\u003C/div>\r\n\u003C!--js-->\r\n\u003Cscript>\r\n    let app = new Vue({\r\n        el: '#app',\r\n        data: {\r\n            message: 'Hello Vue!'\r\n        }\r\n    })\r\n\u003C/script>\r\n```\r\n\r\n>Hello Vue!\r\n\r\n#### æ¡ä»¶å’Œå¾ªç¯\r\n\r\n- v-if\r\n- v-for\r\n\r\nExample\r\n\r\n```html\r\n\u003Cp v-if=\"seen\">test\u003C/p>\r\n\u003Col>\r\n  \u003Cli v-for=\"todo in todos\">\r\n    {{ todo.msg }}\r\n  \u003C/li>\r\n\u003C/ol>\r\n\u003C!--js-->\r\n\u003Cscript>\r\n    let app = new Vue({\r\n        el: '#app',\r\n        data: {\r\n            seen:true,\r\n            todos:[\r\n                {\r\n                    id:1,\r\n                    msg:'1çš„å¾…åŠ'\r\n                }\r\n            ]\r\n        }\r\n    })\r\n\u003C/script>\r\n```\r\n\r\nv-forè¿­ä»£å¯¹è±¡å±æ€§\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Ch1>å¯¹è±¡å±æ€§è¿­ä»£\u003C/h1>\r\n    \u003Cdiv v-for=\"(value, key) in obj\">\r\n        {{ key }} : {{ value }}\r\n    \u003C/div>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            obj: {\r\n                id:'id',\r\n                title: \"title\"\r\n            },\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n\r\n\r\n#### è¡¨å•æ•°æ®ç»‘å®š\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Cp>input {{input}}\u003C/p>\r\n    \u003Cinput v-model=\"input\">\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            input: ''\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n è¡¨å•å¤é€‰æ¡†ç»‘å®š\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Cp>check {{check}}\u003C/p>\r\n    \u003Clabel for=\"a\">a\u003C/label>\r\n    \u003Cinput type=\"checkbox\" id=\"a\" v-model=\"check\" value=\"a\">\r\n    \u003Clabel for=\"b\">b\u003C/label>\r\n    \u003Cinput type=\"checkbox\" id=\"b\" v-model=\"check\" value=\"b\">\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            check: []\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n è¡¨å•å•é€‰æŒ‰é’®\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Cp>sex {{sex}}\u003C/p>\r\n    \u003Cinput type=\"radio\" id=\"male\" value=\"ç”·\" v-model=\"sex\">\r\n    \u003Clabel for=\"male\">ç”·\u003C/label>\r\n    \u003Cbr>\r\n    \u003Cinput type=\"radio\" id=\"female\" value=\"å¥³\" v-model=\"sex\">\r\n    \u003Clabel for=\"female\">å¥³\u003C/label>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            sex:'',\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\nä¸‹æ‹‰æ¡†\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Cp>select {{select}}\u003C/p>\r\n    \u003Cselect v-model=\"select\" style=\"width:210px;\">\r\n        \u003Coption value=\"1\">a\u003C/option>\r\n        \u003Coption value=\"2\">b\u003C/option>\r\n        \u003Coption value=\"3\">c\u003C/option>\r\n        \u003Coption value=\"4\">d\u003C/option>\r\n        \u003Coption value=\"5\">e\u003C/option>\r\n    \u003C/select>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            select:'',\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n\r\n\r\n#### äº‹ä»¶\r\n\r\nv-onä¸ºé¡µé¢å…ƒç´ ç»‘å®šå„ç§äº‹ä»¶ã€‚ï¼ˆkeydown, keyup, click, dbclick, load, etd.ï¼‰\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Cp>ç‚¹å‡»äº†ï¼š{{clickNum}}\u003C/p>\r\n    \u003Cbutton v-on:click=\"btnClick('1')\">1\u003C/button>\r\n    \u003Cbutton @click=\"btnClick('2')\">2\u003C/button>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            clickNum: ''\r\n        },\r\n        methods: {num\r\n            btnClick: function(num){\r\n                this.clickNum = num;\r\n            },\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n####  ç»„ä»¶\r\n\r\nå®šä¹‰ä¸€ä¸ªå¯å¤ç”¨çš„ä»£ç å—\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n  \u003Col>\r\n    \u003Ctodo v-for=\"todo in todos\" v-bind:todo=\"todo\">\u003C/todo>\r\n  \u003C/ol>\r\n\u003C/div>\r\n\u003Cscript>\r\n// å®šä¹‰å…¨å±€ç»„ä»¶\r\nVue.component('todo', {\r\n  props: ['todo'],\r\n  template: '\u003Cli>{{ todo }}\u003C/li>'\r\n});\r\n// å®šä¹‰ç»„ä»¶\r\nlet todoComponent = '\u003Cli>{{todo}}\u003C/li>'\r\nvar myApp = new Vue({\r\n    el: '#myApp',\r\n    data: {\r\n    todos: [\r\n        'todo1',\r\n        'todo2',\r\n        'todo3'\r\n    ]\r\n  },\r\n    // å±€éƒ¨ç»„ä»¶\r\n    components: {\r\n        'todo': todoComponent\r\n    },\r\n    \r\n});\r\n\u003C/script>\r\n```\r\n\r\n#### è¿‡æ»¤å™¨\r\n\r\næ ¼å¼åŒ–å˜é‡å†…å®¹çš„è¾“å‡ºã€‚ï¼ˆæ—¥æœŸæ ¼å¼åŒ–ï¼Œå­—æ¯å¤§å°å†™ï¼Œæ•°å­—å†è®¡ç®—ç­‰ç­‰ï¼‰\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Cp>{{message}}\u003C/p>\r\n    \u003Cp>{{message | upMsg }}\u003C/p>\r\n    \u003Cp>{{num}}=({{num | topercentage}})ã€‚\u003C/p>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            msg: 'hello world',\r\n            num: 0.6\r\n        },\r\n        filters: {\r\n            upMsg: function(value){\r\n                return value.toUpperCase();\r\n            },\r\n            topercentage: function(value){\r\n                return value * 100 + '%';\r\n            },\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n####  è®¡ç®—å±æ€§\r\n\r\nå¤„ç†å…ƒæ•°æ®ï¼Œä¾¿äºè¿›è¡ŒäºŒæ¬¡åˆ©ç”¨\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    {{num}}{{twoNum}}\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            num: 1\r\n        },\r\n        computed: {\r\n            twoNum: function(){\r\n                return this.num * 2;\r\n            }\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\nsetter : è®¾ç½®è®¡ç®—å±æ€§ï¼ŒåŒæ­¥æ›´æ–°å…ƒæ•°æ®çš„å€¼\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    num:{{num}}\r\n    \u003Cbr>\r\n    price:{{price}}\r\n    \u003Cbutton @click=\"btnClick(200)\">price+200--->num+1\u003C/button>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            num: 1\r\n        },\r\n        computed: {\r\n            price: {\r\n                get:function () {\r\n                    return this.num * 200\r\n                },\r\n                set:function (price) {\r\n                    this.num = price / 200\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            btnClick:function (price) {\r\n                this.price += 200;\r\n            }\r\n        }\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n####  è§‚å¯Ÿå±æ€§\r\n\r\nä¸computedå±æ€§ç±»ä¼¼ï¼Œç”¨äºè§‚å¯Ÿå˜é‡çš„å˜åŒ–ï¼Œç„¶åè¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Cp>{{price}}\u003C/p>\r\n    \u003Cbutton @click=\"btnClick(1)\">num+1\u003C/button>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            num: 0,\r\n            price:0,\r\n        },\r\n        watch: {\r\n            num: function(newVal, oldVal){\r\n                this.price = 200 * newVal;\r\n            },\r\n        },\r\n        methods: {\r\n            btnClick: function(n){\r\n                this.num += n;\r\n            },\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n#### Classç»‘å®š\r\n\r\n```html\r\n\u003Cstyle>\r\n    .red{\r\n        color: red;\r\n    }\r\n    .blue{\r\n        color: blue;\r\n    }\r\n\u003C/style>\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Cdiv v-bind:class=\"{red:isRed}\">red\u003C/div>\r\n    \u003Cdiv :class=\"{blue:isBlue}\">blue\u003C/div>\r\n    \u003Cbutton @click=\"btnClick\">true/false\u003C/button>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            isRed: true,\r\n            isBlue: true,\r\n        },\r\n        methods: {\r\n            btnClick: function(){\r\n                this.isRed = !this.isRed;\r\n                this.isBlue = !this.isBlue;\r\n            },\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\nç»‘å®šå¯¹è±¡\r\n\r\n```html\r\n\u003Cstyle>\r\n    .red{\r\n        color: red;\r\n    }\r\n\u003C/style>\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Cdiv :class=\"color\">color\u003C/div>\r\n    \u003Cbutton @click=\"btnClick\">true/false\u003C/button>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            color:{\r\n                red:true\r\n            }\r\n        },\r\n        methods: {\r\n            btnClick: function(){\r\n                this.color.red = !this.color.red;\r\n            },\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n####  æ¡ä»¶æ¸²æŸ“\r\n\r\n- v-if\r\n- v-else-if\r\n- v-else\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Ch1 v-if=\"score == 0\">socre==0\u003C/h1>\r\n    \u003Ch1 v-else-if=\"score \u003C 2\">{{score}},score\u003C2\u003C/h1>\r\n    \u003Ch1 v-else-if=\"score \u003C= 4\">{{score}},score\u003C=4\u003C/h1>\r\n    \u003Ch1 v-else>{{score}}, score==5\u003C/h1>\r\n    \u003Cbutton @click=\"btnClick\">get random score\u003C/button>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n        data: {\r\n            score: 0\r\n        },\r\n        methods: {\r\n            btnClick: function(){\r\n                this.score = Math.round(Math.random() * 5);\r\n            },\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n####  å…ƒç´ æ˜¾ç¤º\r\n\r\n- v-show\r\n\r\nv-showè®¾ç½®çš„æ ‡è®°åœ¨html DOMä¸­ä¸ä¼šæ¶ˆå¤±(ifæ˜¯åˆ é™¤dom,showæ˜¯æ”¹å˜display)\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Ch1 v-show=\"isShow\">show\u003C/h1>\r\n    \u003Cbutton @click=\"btnClick\">change show\u003C/button>\r\n\u003C/div>\r\n\u003Cscript>\r\n    var myApp = new Vue({\r\n        el: '#myApp', \r\n        data: {\r\n            isShow: true\r\n        },\r\n        methods: {\r\n            btnClick: function(){\r\n                this.isShow = !this.isShow;\r\n            },\r\n        },\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n####  è¡¨å•ä¿®é¥°ç¬¦\r\n\r\n- .lazy\r\n- .number\r\n- .trim\r\n\r\n#####  .lazy\r\n\r\nç”¨æˆ·è¾“å…¥å†…å®¹æ—¶ä¸åšç»‘å®šæ•°æ®çš„æ›´æ–°å¤„ç†ï¼Œåœ¨æ§ä»¶çš„onchangeäº‹ä»¶ä¸­æ›´æ–°ç»‘å®šçš„å˜é‡ã€‚\r\n\r\n```html\r\nç”¨æˆ·åï¼š\u003Cinput v-model.lazy=\"username\">\r\n```\r\n\r\n#####  .number\r\n\r\nå°†ç”¨æˆ·è¾“å…¥çš„å†…å®¹è½¬æ¢ä¸ºæ•°å€¼ç±»å‹ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥éæ•°å€¼çš„æ—¶å€™ï¼Œåˆ™è¿”å›NaNã€‚\r\n\r\n```html\r\nå¹´é¾„ï¼š\u003Cinput v-model.number=\"age\" type=\"number\">\r\n```\r\n\r\n##### .trim\r\n\r\nè‡ªåŠ¨å»æ‰ç”¨æˆ·è¾“å…¥å†…å®¹ä¸¤ç«¯çš„ç©ºæ ¼ã€‚\r\n\r\n```html\r\næ„è§ï¼š\u003Cinput v-model.trim=\"content\">\r\n```\r\n\r\n#### æ’æ§½\r\n\r\n>Vue å®ç°äº†ä¸€å¥—å†…å®¹åˆ†å‘çš„ APIï¼Œè¿™å¥— API çš„è®¾è®¡çµæ„Ÿæºè‡ª [Web Components è§„èŒƒè‰æ¡ˆ](https://github.com/w3c/webcomponents/blob/gh-pages/proposals/Slots-Proposal.md)ï¼Œå°† `\u003Cslot>` å…ƒç´ ä½œä¸ºæ‰¿è½½åˆ†å‘å†…å®¹çš„å‡ºå£ã€‚\r\n\r\n```html\r\n\u003Cdiv id=\"myApp\">\r\n    \u003Calert-box>111\u003C/alert-box>\r\n\u003C/div>\r\n\u003Cscript>\r\n    Vue.component('alert-box', {\r\n        template: `\r\n    \u003Cdiv class=\"demo-alert-box\">\r\n      \u003Cstrong>åé¢æ˜¯æ’æ§½å†…å®¹--->\u003C/strong>\r\n      \u003Cslot>\u003C/slot>\r\n    \u003C/div>\r\n  `\r\n    })\r\n    var myApp = new Vue({\r\n        el: '#myApp',\r\n    });\r\n\u003C/script>\r\n```\r\n\r\n```\r\nåé¢æ˜¯æ’æ§½å†…å®¹---> 111\r\n```\r\n\r\n#### æœ€å\r\n\r\næŒ‰ç…§æƒ¯ä¾‹,æœ€åé™„ä¸Š[å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/v2/guide/index.html)","post/2020/20200611/":"\r\nåœ¨äº†è§£Vue Routerä¹‹å‰,å…ˆç®€å•ä»‹ç»ä»¥ä¸‹Vue CLI.\r\n\r\nVue CLI æ˜¯ä¸€ä¸ªåŸºäº Vue.js è¿›è¡Œå¿«é€Ÿå¼€å‘çš„å®Œæ•´ç³»ç»Ÿ.åœ¨3.0ä¹‹åæä¾›äº†uiç®¡ç†é¡µé¢,ä½ å¯ä»¥å€Ÿæ­¤è½»æ¾åˆ›å»ºä¸€ä¸ªåŸºäºvueçš„é¡¹ç›®è„šæ‰‹æ¶å¹¶è¿›è¡Œç®¡ç†.\r\n\r\n#### åˆ›å»ºé¡¹ç›®\r\n\r\nåœ¨åˆ›å»ºé¡¹ç›®ä¹‹å‰,ä½ éœ€è¦å…ˆå®‰è£…vue cli.\r\n\r\n```bash\r\nnpm install -g @vue/cli\r\n# æŸ¥çœ‹ç‰ˆæœ¬\r\nvue --version\r\n```\r\n\r\nå®‰è£…å®Œæˆä¹‹å,ä¾¿å¯ä»¥è¿›è¡Œé¡¹ç›®çš„åˆå§‹åŒ–\r\n\r\n```bash\r\nvue create hello-world\r\n# or\r\nvue ui #æ¨è åŸºäºuiè¿˜å¯ä»¥è¿›è¡Œé¡¹ç›®çš„å¯åŠ¨,ç®¡ç†ä¸ç›‘æ§\r\n```\r\n\r\nç„¶åå°±å¯ä»¥å…ˆç†Ÿæ‚‰ä¸€ä¸‹é¡¹ç›®ç»“æ„\r\n\r\n>src/ä¸‹çš„ç»“æ„\r\n>\r\n>components åŠŸèƒ½ç»„ä»¶\r\n>\r\n>router è·¯ç”±é…ç½®\r\n>\r\n>store vuexçš„storeé…ç½®\r\n>\r\n>view é¡µé¢ç»„ä»¶\r\n\r\næ¥ä¸‹æ¥ä½ å°±å¯ä»¥åœ¨router/index.jsè¿›è¡Œè·¯ç”±çš„ç›¸å…³é…ç½®\r\n\r\n#### è·¯ç”±é…ç½®\r\n\r\né€šè¿‡vue clié»˜è®¤ä¼šç”Ÿæˆè¯¥è·¯ç”±é…ç½®\r\n\r\n```javascript\r\nimport Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\n  const routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    component: Home\r\n  },\r\n  {\r\n    path: '/about',\r\n    name: 'About',\r\n    // route level code-splitting\r\n    // this generates a separate chunk (about.[hash].js) for this route\r\n    // which is lazy-loaded when the route is visited.\r\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\nexport default router\r\n```\r\n\r\né€šè¿‡é…ç½®routers,å³å¯å®ç°è·¯ç”±åˆ°çš„ç»„ä»¶.\r\n\r\nç„¶åå†app.vueé…ç½®router viewç”¨äºæ¸²æŸ“å…·ä½“è·¯ç”±çš„ç»„ä»¶,ä»¥ä¸‹æ˜¯é»˜è®¤ç”Ÿæˆçš„`app.vue`\r\n\r\n```vue\r\n\u003Ctemplate>\r\n  \u003Cdiv id=\"app\">\r\n    \u003Cdiv id=\"nav\">\r\n      \u003Crouter-link to=\"/\">Home\u003C/router-link> |\r\n      \u003Crouter-link to=\"/about\">About\u003C/router-link>\r\n    \u003C/div>\r\n    \u003Crouter-view/>\r\n  \u003C/div>\r\n\u003C/template>\r\n\r\n\u003Cstyle>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\n#nav {\r\n  padding: 30px;\r\n}\r\n\r\n#nav a {\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n}\r\n\r\n#nav a.router-link-exact-active {\r\n  color: #42b983;\r\n}\r\n\u003C/style>\r\n```\r\n\r\nè‡³æ­¤,ä¸€ä¸ªæœ€ç®€å•çš„è·¯ç”±åŠŸèƒ½ä¾¿å®ç°äº†\r\n\r\nç»§ç»­æ·±å…¥äº†è§£--->[å®˜æ–¹æ–‡æ¡£](https://router.vuejs.org/zh/guide/)","post/2020/20200612/":"\r\n#### åŸºæœ¬æ¦‚å¿µ\r\n\r\nVuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„**çŠ¶æ€ç®¡ç†æ¨¡å¼**ã€‚ç®€å•çš„è¯´,å°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªç®¡ç†å…¨å±€ç»„ä»¶æ•°æ®çš„å®¹å™¨,å¹¶ä¸”æ˜¯å…¨å±€å•ä¾‹çš„,å¦‚æœä½ å¯¹Springçš„IOCæœ‰æ‰€äº†è§£çš„è¯,é‚£åº”è¯¥å¾ˆå¥½ç†è§£.\r\n\r\n#### state\r\n\r\nstate:ç®€å•çš„è¯´,å°±æ˜¯éœ€è¦å…¨å±€å…±äº«çš„æ•°æ® eg\r\n\r\n```javascript\r\n// vuex/index.js\r\nimport Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nVue.use(Vuex);\r\nexport default new Vuex.Store({\r\n  state:{\r\n    username:'alight',\r\n  }\r\n})\r\n// main.js\r\nimport store from  './vuex';\r\nVue.use(ElementUI);\r\nnew Vue({\r\n  el: '#app',\r\n  render: h => h(App),\r\n  router,\r\n  store\r\n});\r\n```\r\n\r\nç»„ä»¶ä¸­å¦‚ä½•è·å–storeçš„æ•°æ®\r\n\r\n```vue\r\n\u003C!--é€šè¿‡storeç›´æ¥è·å–å…·ä½“çš„state-->\r\n\u003Ctemplate>\r\n  \u003Cdiv>\r\n    {{$store.state.username}} \u003C!--alight-->\r\n  \u003C/div>\r\n\u003C/template>\r\n\u003C!--é€šè¿‡mapState-->\r\n\u003Ctemplate>\r\n  \u003Cdiv>\r\n    {{username}},{{age}} \u003C!--alight,18-->\r\n  \u003C/div>\r\n\u003C/template>\r\n\r\n\u003Cscript>\r\n  import {mapState} from 'vuex'\r\n  export default {\r\n    name: \"test\",\r\n    computed: {\r\n      ...mapState(['username', 'age'])\r\n    }\r\n  }\r\n\u003C/script>\r\n```\r\n\r\n#### Mutation\r\n\r\næ›´æ”¹ Vuex çš„ store ä¸­çš„stateçš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚\r\n\r\nå®šä¹‰mutationæ–¹æ³•\r\n\r\n```javascript\r\nexport default new Vuex.Store({\r\n\r\n  state:{\r\n    username:'zh',\r\n    age:18,\r\n    count:0\r\n  },\r\n  mutationns:{\r\n    addN(state,n){\r\n      state.count+=n\r\n    }\r\n  }\r\n })\r\n```\r\n\r\nè°ƒç”¨mutationæ–¹æ³•ä»¥åŠä¼ é€’å‚æ•°\r\n\r\n```vue\r\n\u003Ctemplate>\r\n  \u003Cdiv>\r\n    {{count}}\r\n    \u003Cel-button @click=\"addCount\">add count\u003C/el-button>\r\n  \u003C/div>\r\n\u003C/template>\r\n\r\n\u003Cscript>\r\n  import {mapState} from 'vuex'\r\n\r\n  export default {\r\n    name: \"test\",\r\n    computed: {\r\n      ...mapState(['count'])\r\n    },\r\n    methods:{\r\n      addCount(){\r\n        this.$store.commit('addN',3);\r\n      }\r\n    }\r\n  }\r\n\u003C/script>\r\n```\r\n\r\né€šè¿‡mapMutationsè§¦å‘mutation\r\n\r\n```javascript\r\nimport { mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  // ...\r\n  methods: {\r\n    ...mapMutations([\r\n      'increment', // å°† `this.increment()` æ˜ å°„ä¸º `this.$store.commit('increment')`\r\n\r\n      // `mapMutations` ä¹Ÿæ”¯æŒè½½è·ï¼š\r\n      'incrementBy' // å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.commit('incrementBy', amount)`\r\n    ]),\r\n    ...mapMutations({\r\n      add: 'increment' // å°† `this.add()` æ˜ å°„ä¸º `this.$store.commit('increment')`\r\n    })\r\n  }\r\n}\r\n```\r\n\r\n>#### Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°\r\n>\r\n>ä¸€æ¡é‡è¦çš„åŸåˆ™å°±æ˜¯è¦è®°ä½ **mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°**ã€‚ä¸ºä»€ä¹ˆï¼Ÿè¯·å‚è€ƒä¸‹é¢çš„ä¾‹å­ï¼š\r\n>\r\n>```javascript\r\n>mutations: {\r\n>  someMutation (state) {\r\n>    api.callAsyncMethod(() => {\r\n>      state.count++\r\n>    })\r\n>  }\r\n>}\r\n>```\r\n>\r\n>ç°åœ¨æƒ³è±¡ï¼Œæˆ‘ä»¬æ­£åœ¨ debug ä¸€ä¸ª app å¹¶ä¸”è§‚å¯Ÿ devtool ä¸­çš„ mutation æ—¥å¿—ã€‚æ¯ä¸€æ¡ mutation è¢«è®°å½•ï¼Œdevtools éƒ½éœ€è¦æ•æ‰åˆ°å‰ä¸€çŠ¶æ€å’Œåä¸€çŠ¶æ€çš„å¿«ç…§ã€‚ç„¶è€Œï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ mutation ä¸­çš„å¼‚æ­¥å‡½æ•°ä¸­çš„å›è°ƒè®©è¿™ä¸å¯èƒ½å®Œæˆï¼šå› ä¸ºå½“ mutation è§¦å‘çš„æ—¶å€™ï¼Œå›è°ƒå‡½æ•°è¿˜æ²¡æœ‰è¢«è°ƒç”¨ï¼Œdevtools ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å›è°ƒå‡½æ•°å®é™…ä¸Šè¢«è°ƒç”¨â€”â€”å®è´¨ä¸Šä»»ä½•åœ¨å›è°ƒå‡½æ•°ä¸­è¿›è¡Œçš„çŠ¶æ€çš„æ”¹å˜éƒ½æ˜¯ä¸å¯è¿½è¸ªçš„ã€‚\r\n\r\n#### Action\r\n\r\nAction ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š\r\n\r\n- Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚\r\n- Action å¯ä»¥åŒ…å«ä»»æ„**å¼‚æ­¥æ“ä½œ**ã€‚\r\n\r\n```javascript\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    count: 0\r\n  },\r\n  mutations: {\r\n    increment (state,n) {\r\n      state.count+=n\r\n    }\r\n  },\r\n  actions: {\r\n    // Action å‡½æ•°æ¥å—ä¸€ä¸ªä¸ store å®ä¾‹å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±æ€§çš„ context å¯¹è±¡\r\n    increment (context,n) {\r\n      context.commit('increment',n)\r\n    }\r\n  }\r\n})\r\n```\r\n\r\n```javascript\r\n// è§¦å‘action\r\nthis.$store.dispath('addAsync',5)\r\n// ä½¿ç”¨ mapActionsè§¦å‘\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  // ...\r\n  methods: {\r\n      ...mapActions([\r\n          'increment', // å°† `this.increment()` æ˜ å°„ä¸º `this.$store.dispatch('increment')`\r\n\r\n          // `mapActions` ä¹Ÿæ”¯æŒè½½è·ï¼š\r\n          'incrementBy' // å°† `this.incrementBy(amount)` æ˜ å°„ä¸º `this.$store.dispatch('incrementBy', amount)`\r\n      ]),\r\n      ...mapActions({\r\n          add: 'increment' // å°† `this.add()` æ˜ å°„ä¸º `this.$store.dispatch('increment')`\r\n      })\r\n  }\r\n}\r\n```\r\n\r\n#### Getter\r\n\r\n> Vuex å…è®¸æˆ‘ä»¬åœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ã€‚\r\n\r\n```javascript\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    todos: [\r\n      { id: 1, text: '...', done: true },\r\n      { id: 2, text: '...', done: false }\r\n    ]\r\n  },\r\n  getters: {\r\n    doneTodos: state => {\r\n      return state.todos.filter(todo => todo.done)\r\n    }\r\n  }\r\n})\r\n```\r\n\r\n#####  é€šè¿‡å±æ€§è®¿é—®\r\n\r\n```javascript\r\nstore.getters.doneTodos // -> [{ id: 1, text: '...', done: true }]\r\n```\r\n\r\n##### é€šè¿‡æ–¹æ³•è®¿é—®\r\n\r\n```javascript\r\ngetters: {\r\n  // ...\r\n  getTodoById: (state) => (id) => {\r\n    return state.todos.find(todo => todo.id === id)\r\n  }\r\n}\r\n```\r\n\r\n```javascript\r\nstore.getters.getTodoById(2) // -> { id: 2, text: '...', done: false }\r\n```\r\n\r\n\r\n\r\n##### mapGetters\r\n\r\n```javascript\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  // ...\r\n  computed: {\r\n  // ä½¿ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°† getter æ··å…¥ computed å¯¹è±¡ä¸­\r\n    ...mapGetters([\r\n      'doneTodosCount',\r\n      'anotherGetter',\r\n      // ...\r\n    ])\r\n  }\r\n}\r\n```\r\n\r\n#### Module\r\n\r\n> ç”±äºä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚\r\n>\r\n> ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆ**æ¨¡å—ï¼ˆmoduleï¼‰**ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ï¼š\r\n\r\n```javascript\r\nconst moduleA = {\r\n  state: () => ({ ... }),\r\n  mutations: { ... },\r\n  actions: { ... },\r\n  getters: { ... }\r\n}\r\n\r\nconst moduleB = {\r\n  state: () => ({ ... }),\r\n  mutations: { ... },\r\n  actions: { ... }\r\n}\r\n\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    a: moduleA,\r\n    b: moduleB\r\n  }\r\n})\r\n\r\nstore.state.a // -> moduleA çš„çŠ¶æ€\r\nstore.state.b // -> moduleB çš„çŠ¶æ€\r\n```\r\n\r\n... ...\r\n\r\n[å®˜æ–¹æ–‡æ¡£](https://vuex.vuejs.org/zh/)\r\n\r\n","post/2020/20200625/":"\r\næ¯›ç»ç’ƒï¼ˆç£¨ç ‚ç»ç’ƒã€åŠé€æ˜ï¼‰ç‰¹æ•ˆåœ¨è‹¹æœçš„ç”Ÿæ€ä¸­ä¸€ç›´ååˆ†å¸¸è§ï¼Œäº‹å®ä¸Šä½ ç°åœ¨ä¹Ÿèƒ½åœ¨éå¸¸å¤šçš„åœ°æ–¹çœ‹åˆ°è¿™ä¸ªç‰¹æ•ˆï¼Œå› ä¸ºå®ƒç¡®å®æ˜¯ä¸ªå¾ˆcoolçš„è®¾è®¡ï¼ˆè‹¹æœçš„è®¾è®¡iäº†iäº†ï¼‰ã€‚éšç€æµè§ˆå™¨å¯¹cssçš„æ”¯æŒè¶Šæ¥è¶Šå®Œå–„ï¼Œå½“ä»Šä½ å·²ç»å¯ä»¥åˆ©ç”¨cssåœ¨æœ€æ–°çš„æµè§ˆå™¨ä¸­å®ç°æ¯›ç»ç’ƒçš„æ•ˆæœäº†ã€‚\r\n\r\n#### æ­¥éª¤\r\n\r\né¦–å…ˆä½ éœ€è¦ä¸€ä¸ªç›’å­è½½ä½“\r\n\r\n```html\r\n\u003Cbody>\r\n    \u003Cbox>box content\u003C/box>\r\n\u003C/body>\r\n```\r\n\r\nç„¶åå¯ä»¥å¼€å¯cssè¿›è¡Œç‚¹ç¼€\r\n\r\n```css\r\n*{\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\nbody{\r\n    width: 100%;\r\n    height: 100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-image: url(\"bg.jpg\");\r\n    background-size: cover;\r\n    background-attachment: fixed;\r\n}\r\nbox{\r\n    width: 500px;\r\n    height: 300px;\r\n    padding: 2rem;\r\n    color: #f9f9f9;\r\n    background-color: rgba(0, 0, 0, .1);\r\n    box-shadow: 0 2px 4px rgba(255, 255, 255, .12), 0 0 6px rgba(255, 255, 255, .04);\r\n    border-radius: 10px;\r\n    box-sizing: border-box;\r\n    backdrop-filter: blur(20px);\r\n}\r\n```\r\n\r\nè£…é¥°ä¹‹åå¤§æ¦‚å°±æ˜¯è¿™ä¹ˆä¸€ä¸ªæ•ˆæœï¼Œå¥½åº·å°±å®Œäº†ï¼\r\n\r\n\u003Cimg src=\"https://alightyoung.gitee.io/static/img/36.png\"/>\r\n\r\n\r\n\r\nè¿™é‡Œå€¼å¾—ä¸€è¯´çš„æ˜¯`background-attachment`å’Œ`backdrop-filter`ã€‚\r\n\r\n`background-attachment` CSS å±æ€§å†³å®šèƒŒæ™¯å›¾åƒçš„ä½ç½®æ˜¯åœ¨è§†å£å†…å›ºå®šï¼Œæˆ–è€…éšç€åŒ…å«å®ƒçš„åŒºå—æ»šåŠ¨ã€‚\r\n\r\n`backdrop-filter` CSS å±æ€§å¯ä»¥è®©ä½ ä¸ºä¸€ä¸ªå…ƒç´ åé¢åŒºåŸŸæ·»åŠ å›¾å½¢æ•ˆæœï¼ˆå¦‚æ¨¡ç³Šæˆ–é¢œè‰²åç§»ï¼‰ã€‚ å› ä¸ºå®ƒé€‚ç”¨äºå…ƒç´ *èƒŒå*çš„æ‰€æœ‰å…ƒç´ ï¼Œä¸ºäº†çœ‹åˆ°æ•ˆæœï¼Œå¿…é¡»ä½¿å…ƒç´ æˆ–å…¶èƒŒæ™¯è‡³å°‘éƒ¨åˆ†é€æ˜ã€‚\r\n\r\nè¯´åˆ°`backdrop-filter`å°±é¡ºå¸¦è¯´ä¸€ä¸‹`filter`ï¼Œå› ä¸ºå®ƒä»¬çš„æ•ˆæœå·®ä¸å¤šï¼Œåªæ˜¯ä½œç”¨çš„å…ƒç´ ä¸åŒï¼Œbackdrop-filteråªä¼šå½±å“å…ƒç´ èƒŒåçš„å†…å®¹ï¼Œè€Œ`filter`æ˜¯ä½œç”¨äºè‡ªèº«ï¼ˆä¹Ÿå°±æ˜¯ä¼šå½±å“å†…å®¹çš„æ˜¾ç¤ºï¼‰\r\n\r\n\r\n\r\næ‰€ä»¥æ­¤å¤„çš„æ ¸å¿ƒåœ¨äºä½¿èƒŒæ™¯é¢œè‰²é€æ˜(rgba)çš„åŒæ—¶ï¼Œå†é€šè¿‡backdrop-filterä½¿èƒŒåçš„å›¾ç‰‡æ¨¡ç³Šå¤„ç†ï¼Œä»è€Œè¾¾åˆ°ä¸€ä¸ªæ¯›ç»ç’ƒçš„æ•ˆæœã€‚\r\n\r\n\r\n\r\n#### æœ€å\r\n\r\nä»Šå¤©ä¹Ÿæ˜¯ä¸åŠ¡æ­£ä¸šçš„ä¸€å¤© overã€‚\r\n\r\n","post/2020/20200628/":"\r\n### Sassç®€ä»‹\r\n\r\nSass æ˜¯ä¸€ç§ CSS çš„é¢„ç¼–è¯‘è¯­è¨€ã€‚å®ƒæä¾›äº† å˜é‡ï¼ˆvariablesï¼‰ã€åµŒå¥—ï¼ˆnested rulesï¼‰ã€ [æ··åˆï¼ˆmixinsï¼‰]ã€ å‡½æ•°ï¼ˆfunctionsï¼‰ç­‰åŠŸèƒ½ï¼Œå¹¶ä¸”å®Œå…¨å…¼å®¹ CSS è¯­æ³•ã€‚Sass èƒ½å¤Ÿå¸®åŠ©å¤æ‚çš„æ ·å¼è¡¨æ›´æœ‰æ¡ç†ï¼Œ å¹¶ä¸”æ˜“äºåœ¨é¡¹ç›®å†…éƒ¨æˆ–è·¨é¡¹ç›®å…±äº«è®¾è®¡ã€‚\r\n\r\n#### Sasså’ŒLess\r\n\r\nSasså’ŒLesséƒ½å±äºCSSé¢„å¤„ç†å™¨ã€‚ä½†æ˜¯Sassæ¯”Lessè¦æ›´åŠ å¼ºå¤§ã€‚\r\n\r\n#### Sassä¸Scss\r\n\r\nScss æ˜¯ Sass 3 å¼•å…¥æ–°çš„è¯­æ³•ï¼Œå…¶è¯­æ³•å®Œå…¨å…¼å®¹ CSS3ï¼Œå¹¶ä¸”ç»§æ‰¿äº† Sass çš„å¼ºå¤§åŠŸèƒ½ã€‚å¯ä»¥ç®€å•ç†è§£ä¸ºScssæ˜¯Sassçš„ä¸€ä¸ªå‡çº§ç‰ˆæœ¬ï¼Œå®Œå…¨å…¼å®¹sassä¹‹å‰çš„åŠŸèƒ½ï¼Œåˆæœ‰äº†äº›æ–°å¢èƒ½åŠ›ã€‚è¯­æ³•å½¢å¼ä¸Šæœ‰äº›è®¸ä¸åŒã€‚\r\n\r\n### å˜é‡\r\n\r\n`sass`è®©äººä»¬å—ç›Šçš„ä¸€ä¸ªé‡è¦ç‰¹æ€§å°±æ˜¯å®ƒä¸º`css`å¼•å…¥äº†å˜é‡ã€‚ä½ å¯ä»¥æŠŠåå¤ä½¿ç”¨çš„`css`å±æ€§å€¼ å®šä¹‰æˆå˜é‡ï¼Œç„¶åé€šè¿‡å˜é‡åæ¥å¼•ç”¨å®ƒä»¬ï¼Œè€Œæ— éœ€é‡å¤ä¹¦å†™è¿™ä¸€å±æ€§å€¼ã€‚æˆ–è€…ï¼Œå¯¹äºä»…ä½¿ç”¨è¿‡ä¸€ æ¬¡çš„å±æ€§å€¼ï¼Œä½ å¯ä»¥èµ‹äºˆå…¶ä¸€ä¸ªæ˜“æ‡‚çš„å˜é‡åï¼Œè®©äººä¸€çœ¼å°±çŸ¥é“è¿™ä¸ªå±æ€§å€¼çš„ç”¨é€”ã€‚\r\n\r\n#### å˜é‡å£°æ˜\r\n\r\n`sass`å˜é‡çš„å£°æ˜å’Œ`css`å±æ€§çš„å£°æ˜å¾ˆåƒï¼š\r\n\r\n```scss\r\n$highlight-color: #F90;\r\n```\r\n\r\n#### å˜é‡å¼•ç”¨\r\n\r\nå‡¡æ˜¯`css`å±æ€§çš„æ ‡å‡†å€¼ï¼ˆæ¯”å¦‚è¯´1pxæˆ–è€…boldï¼‰å¯å­˜åœ¨çš„åœ°æ–¹ï¼Œå˜é‡å°±å¯ä»¥ä½¿ç”¨ã€‚`css`ç”Ÿæˆæ—¶ï¼Œå˜é‡ä¼šè¢«å®ƒä»¬çš„å€¼æ‰€æ›¿ä»£ã€‚ä¹‹åï¼Œå¦‚æœä½ éœ€è¦ä¸€ä¸ªä¸åŒçš„å€¼ï¼Œåªéœ€è¦æ”¹å˜è¿™ä¸ªå˜é‡çš„å€¼ï¼Œåˆ™æ‰€æœ‰å¼•ç”¨æ­¤å˜é‡çš„åœ°æ–¹ç”Ÿæˆçš„å€¼éƒ½ä¼šéšä¹‹æ”¹å˜ã€‚\r\n\r\n```scss\r\n$highlight-color: #F90;\r\n.selected {\r\n  border: 1px solid $highlight-color;\r\n}\r\n\r\n//ç¼–è¯‘å\r\n\r\n.selected {\r\n  border: 1px solid #F90;\r\n}\r\n```\r\n\r\n### åµŒå¥—CSS è§„åˆ™\r\n\r\nscsså†™æ³•\r\n\r\n```scss\r\n#content {\r\n  article {\r\n    h1 { color: #333 }\r\n    p { margin-bottom: 1.4em }\r\n  }\r\n  aside { background-color: #EEE }\r\n}\r\n```\r\n\r\n==>\r\n\r\n```css\r\n /* ç¼–è¯‘å */css\r\n#content article h1 { color: #333 }\r\n#content article p { margin-bottom: 1.4em }\r\n#content aside { background-color: #EEE }\r\n```\r\n\r\n#### çˆ¶é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦&\r\n\r\n&ä¼šè¢«è§£é‡Šä¸ºçˆ¶é€‰æ‹©å™¨\r\n\r\n```scss\r\narticle a {\r\n  color: blue;\r\n  &:hover { color: red }\r\n}\r\n```\r\n\r\n==>\r\n\r\n```css\r\narticle a { color: blue }\r\narticle a:hover { color: red }\r\n```\r\n\r\n#### ç¾¤ç»„é€‰æ‹©å™¨çš„åµŒå¥—\r\n\r\n```scss\r\nnav, aside {\r\n  a {color: blue}\r\n}\r\n```\r\n\r\n==>\r\n\r\n```css\r\nnav a, aside a {color: blue}\r\n```\r\n\r\n#### å­ç»„åˆé€‰æ‹©å™¨å’ŒåŒå±‚ç»„åˆé€‰æ‹©å™¨ï¼š>ã€+å’Œ~\r\n\r\n```scss\r\narticle {\r\n  ~ article { border-top: 1px dashed #ccc }\r\n  > section { background: #eee }\r\n  dl > {\r\n    dt { color: #333 }\r\n    dd { color: #555 }\r\n  }\r\n  nav + & { margin-top: 0 }\r\n}\r\n```\r\n\r\n==>\r\n\r\n```css\r\narticle ~ article { border-top: 1px dashed #ccc }\r\narticle > footer { background: #eee }\r\narticle dl > dt { color: #333 }\r\narticle dl > dd { color: #555 }\r\nnav + article { margin-top: 0 }\r\n```\r\n\r\n#### åµŒå¥—å±æ€§\r\n\r\nEg.1\r\n\r\n```scss\r\nnav {\r\n  border: {\r\n  style: solid;\r\n  width: 1px;\r\n  color: #ccc;\r\n  }\r\n}\r\n```\r\n\r\n==>\r\n\r\n```css\r\nnav {\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-color: #ccc;\r\n}\r\n```\r\n\r\nEg.2\r\n\r\n```scss\r\nnav {\r\n  border: 1px solid #ccc {\r\n  left: 0px;\r\n  right: 0px;\r\n  }\r\n}\r\n```\r\n\r\n==>\r\n\r\n```css\r\nnav {\r\n  border: 1px solid #ccc;\r\n  border-left: 0px;\r\n  border-right: 0px;\r\n}\r\n```\r\n\r\n### å¯¼å…¥SASSæ–‡ä»¶\r\n\r\n`css`æœ‰ä¸€ä¸ªç‰¹åˆ«ä¸å¸¸ç”¨çš„ç‰¹æ€§ï¼Œå³`@import`è§„åˆ™ï¼Œå®ƒå…è®¸åœ¨ä¸€ä¸ª`css`æ–‡ä»¶ä¸­å¯¼å…¥å…¶ä»–`css`æ–‡ä»¶ã€‚ç„¶è€Œï¼Œåæœæ˜¯åªæœ‰æ‰§è¡Œåˆ°`@import`æ—¶ï¼Œæµè§ˆå™¨æ‰ä¼šå»ä¸‹è½½å…¶ä»–`css`æ–‡ä»¶ï¼Œè¿™å¯¼è‡´é¡µé¢åŠ è½½èµ·æ¥ç‰¹åˆ«æ…¢ã€‚\r\n\r\n`sass`ä¹Ÿæœ‰ä¸€ä¸ª`@import`è§„åˆ™ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œ`sass`çš„`@import`è§„åˆ™åœ¨ç”Ÿæˆ`css`æ–‡ä»¶æ—¶å°±æŠŠç›¸å…³æ–‡ä»¶å¯¼å…¥è¿›æ¥ã€‚è¿™æ„å‘³ç€æ‰€æœ‰ç›¸å…³çš„æ ·å¼è¢«å½’çº³åˆ°äº†åŒä¸€ä¸ª`css`æ–‡ä»¶ä¸­ï¼Œè€Œæ— éœ€å‘èµ·é¢å¤–çš„ä¸‹è½½è¯·æ±‚ã€‚å¦å¤–ï¼Œæ‰€æœ‰åœ¨è¢«å¯¼å…¥æ–‡ä»¶ä¸­å®šä¹‰çš„å˜é‡å’Œæ··åˆå™¨å‡å¯åœ¨å¯¼å…¥æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚\r\n\r\n#### ä½¿ç”¨SASSéƒ¨åˆ†æ–‡ä»¶\r\n\r\nå½“é€šè¿‡`@import`æŠŠ`sass`æ ·å¼åˆ†æ•£åˆ°å¤šä¸ªæ–‡ä»¶æ—¶ï¼Œä½ é€šå¸¸åªæƒ³ç”Ÿæˆå°‘æ•°å‡ ä¸ª`css`æ–‡ä»¶ã€‚é‚£äº›ä¸“é—¨ä¸º`@import`å‘½ä»¤è€Œç¼–å†™çš„`sass`æ–‡ä»¶ï¼Œå¹¶ä¸éœ€è¦ç”Ÿæˆå¯¹åº”çš„ç‹¬ç«‹`css`æ–‡ä»¶ï¼Œè¿™æ ·çš„`sass`æ–‡ä»¶ç§°ä¸ºå±€éƒ¨æ–‡ä»¶ã€‚å¯¹æ­¤ï¼Œ`sass`æœ‰ä¸€ä¸ªç‰¹æ®Šçš„çº¦å®šæ¥å‘½åè¿™äº›æ–‡ä»¶ï¼ˆ`sass`å±€éƒ¨æ–‡ä»¶çš„æ–‡ä»¶åä»¥ä¸‹åˆ’çº¿å¼€å¤´ã€‚ï¼‰\r\n\r\nä¸¾ä¾‹æ¥è¯´ï¼Œä½ æƒ³å¯¼å…¥`themes/_night-sky.scss`è¿™ä¸ªå±€éƒ¨æ–‡ä»¶é‡Œçš„å˜é‡ï¼Œä½ åªéœ€åœ¨æ ·å¼è¡¨ä¸­å†™`@import` `\"themes/night-sky\";`ã€‚\r\n\r\n####  é»˜è®¤å˜é‡å€¼\r\n\r\n`sass`çš„`!default`æ ‡ç­¾,å®ƒå¾ˆåƒ`css`å±æ€§ä¸­`!important`æ ‡ç­¾çš„å¯¹ç«‹é¢ï¼Œä¸åŒçš„æ˜¯`!default`ç”¨äºå˜é‡ï¼Œå«ä¹‰æ˜¯ï¼šå¦‚æœè¿™ä¸ªå˜é‡è¢«å£°æ˜èµ‹å€¼äº†ï¼Œé‚£å°±ç”¨å®ƒå£°æ˜çš„å€¼ï¼Œå¦åˆ™å°±ç”¨è¿™ä¸ªé»˜è®¤å€¼ã€‚\r\n\r\n```scss\r\n$fancybox-width: 400px !default;\r\n.fancybox {\r\nwidth: $fancybox-width;\r\n}\r\n```\r\n\r\nåœ¨ä¸Šä¾‹ä¸­ï¼Œå¦‚æœç”¨æˆ·åœ¨å¯¼å…¥ä½ çš„`sass`å±€éƒ¨æ–‡ä»¶ä¹‹å‰å£°æ˜äº†ä¸€ä¸ª`$fancybox-width`å˜é‡ï¼Œé‚£ä¹ˆä½ çš„å±€éƒ¨æ–‡ä»¶ä¸­å¯¹`$fancybox-width`èµ‹å€¼`400px`çš„æ“ä½œå°±æ— æ•ˆã€‚å¦‚æœç”¨æˆ·æ²¡æœ‰åšè¿™æ ·çš„å£°æ˜ï¼Œåˆ™`$fancybox-width`å°†é»˜è®¤ä¸º`400px`ã€‚\r\n\r\n#### åµŒå¥—å¯¼å…¥\r\n\r\n_blue-theme.scss\r\n\r\n```scss\r\naside {\r\n  background: blue;\r\n  color: white;\r\n}\r\n```\r\n\r\næŠŠå®ƒå¯¼å…¥åˆ°ä¸€ä¸ªCSSè§„åˆ™å†…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\r\n\r\n```scss\r\n.blue-theme {@import \"blue-theme\"}\r\n```\r\n\r\n==>\r\n\r\n```scss\r\n.blue-theme {\r\n  aside {\r\n    background: blue;\r\n    color: #fff;\r\n  }\r\n}\r\n```\r\n\r\n#### åŸç”Ÿçš„CSSå¯¼å…¥\r\n\r\nç”±äº`sass`å…¼å®¹åŸç”Ÿçš„`css`ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ”¯æŒåŸç”Ÿçš„`CSS@import`ã€‚å°½ç®¡é€šå¸¸åœ¨`sass`ä¸­ä½¿ç”¨`@import`æ—¶ï¼Œ`sass`ä¼šå°è¯•æ‰¾åˆ°å¯¹åº”çš„`sass`æ–‡ä»¶å¹¶å¯¼å…¥è¿›æ¥ï¼Œä½†åœ¨ä¸‹åˆ—ä¸‰ç§æƒ…å†µä¸‹ä¼šç”ŸæˆåŸç”Ÿçš„`CSS@import`ï¼Œå°½ç®¡è¿™ä¼šé€ æˆæµè§ˆå™¨è§£æ`css`æ—¶çš„é¢å¤–ä¸‹è½½ï¼š\r\n\r\n- è¢«å¯¼å…¥æ–‡ä»¶çš„åå­—ä»¥`.css`ç»“å°¾ï¼›\r\n- è¢«å¯¼å…¥æ–‡ä»¶çš„åå­—æ˜¯ä¸€ä¸ªURLåœ°å€ï¼ˆæ¯”å¦‚http://www.sass.hk/css/css.cssï¼‰ï¼Œç”±æ­¤å¯ç”¨è°·æ­Œå­—ä½“APIæä¾›çš„ç›¸åº”æœåŠ¡ï¼›\r\n- è¢«å¯¼å…¥æ–‡ä»¶çš„åå­—æ˜¯`CSS`çš„url()å€¼ã€‚\r\n\r\nè¿™å°±æ˜¯è¯´ï¼Œä½ ä¸èƒ½ç”¨`sass`çš„`@import`ç›´æ¥å¯¼å…¥ä¸€ä¸ªåŸå§‹çš„`css`æ–‡ä»¶ï¼Œå› ä¸º`sass`ä¼šè®¤ä¸ºä½ æƒ³ç”¨`css`åŸç”Ÿçš„`@import`ã€‚ä½†æ˜¯ï¼Œå› ä¸º`sass`çš„è¯­æ³•å®Œå…¨å…¼å®¹`css`ï¼Œæ‰€ä»¥ä½ å¯ä»¥æŠŠåŸå§‹çš„`css`æ–‡ä»¶æ”¹åä¸º`.scss`åç¼€ï¼Œå³å¯ç›´æ¥å¯¼å…¥äº†ã€‚\r\n\r\n### é™é»˜æ³¨é‡Š\r\n\r\n`sass`å¦å¤–æä¾›äº†ä¸€ç§ä¸åŒäº`css`æ ‡å‡†æ³¨é‡Šæ ¼å¼`/* ... */`çš„æ³¨é‡Šè¯­æ³•ï¼Œå³é™é»˜æ³¨é‡Šï¼Œå…¶å†…å®¹ä¸ä¼šå‡ºç°åœ¨ç”Ÿæˆçš„`css`æ–‡ä»¶ä¸­\r\n\r\n```scss\r\nbody {\r\n  color: #333; // è¿™ç§æ³¨é‡Šå†…å®¹ä¸ä¼šå‡ºç°åœ¨ç”Ÿæˆçš„cssæ–‡ä»¶ä¸­\r\n  padding: 0; /* è¿™ç§æ³¨é‡Šå†…å®¹ä¼šå‡ºç°åœ¨ç”Ÿæˆçš„cssæ–‡ä»¶ä¸­ */\r\n}\r\n```\r\n\r\n### æ··åˆå™¨\r\n\r\næ··åˆå™¨ä½¿ç”¨`@mixin`æ ‡è¯†ç¬¦å®šä¹‰ã€‚çœ‹ä¸Šå»å¾ˆåƒå…¶ä»–çš„`CSS @`æ ‡è¯†ç¬¦ï¼Œæ¯”å¦‚è¯´`@media`æˆ–è€…`@font-face`ã€‚è¿™ä¸ªæ ‡è¯†ç¬¦ç»™ä¸€å¤§æ®µæ ·å¼èµ‹äºˆä¸€ä¸ªåå­—ï¼Œè¿™æ ·ä½ å°±å¯ä»¥è½»æ˜“åœ°é€šè¿‡å¼•ç”¨è¿™ä¸ªåå­—é‡ç”¨è¿™æ®µæ ·å¼ã€‚\r\n\r\n\r\n\r\nå®šä¹‰æ··åˆå™¨\r\n\r\n```scss\r\n@mixin rounded-corners {\r\n  -moz-border-radius: 5px;\r\n  -webkit-border-radius: 5px;\r\n  border-radius: 5px;\r\n}\r\n```\r\n\r\nå¼•ç”¨æ··åˆå™¨\r\n\r\n```scss\r\nnotice {\r\n  background-color: green;\r\n  border: 2px solid #00aa00;\r\n  @include rounded-corners;\r\n}\r\n```\r\n\r\n==>\r\n\r\n```css\r\n.notice {\r\n  background-color: green;\r\n  border: 2px solid #00aa00;\r\n  -moz-border-radius: 5px;\r\n  -webkit-border-radius: 5px;\r\n  border-radius: 5px;\r\n}\r\n```\r\n\r\n#### ç»™æ··åˆå™¨ä¼ å‚\r\n\r\næ··åˆå™¨å¹¶ä¸ä¸€å®šæ€»å¾—ç”Ÿæˆç›¸åŒçš„æ ·å¼ã€‚å¯ä»¥é€šè¿‡åœ¨`@include`æ··åˆå™¨æ—¶ç»™æ··åˆå™¨ä¼ å‚ï¼Œæ¥å®šåˆ¶æ··åˆå™¨ç”Ÿæˆçš„ç²¾ç¡®æ ·å¼ã€‚å½“`@include`æ··åˆå™¨æ—¶ï¼Œå‚æ•°å…¶å®å°±æ˜¯å¯ä»¥èµ‹å€¼ç»™`css`å±æ€§å€¼çš„å˜é‡ã€‚\r\n\r\n```scss\r\n@mixin link-colors($normal, $hover, $visited) {\r\n  color: $normal;\r\n  &:hover { color: $hover; }\r\n  &:visited { color: $visited; }\r\n}\r\n```\r\n\r\nå½“æ··åˆå™¨è¢«`@include`æ—¶ï¼Œä½ å¯ä»¥æŠŠå®ƒå½“ä½œä¸€ä¸ª`css`å‡½æ•°æ¥ä¼ å‚ã€‚å¦‚æœä½ åƒä¸‹è¾¹è¿™æ ·å†™ï¼š\r\n\r\n```\r\na {\r\n  @include link-colors(blue, red, green);\r\n}\r\n```\r\n\r\n==>\r\n\r\n```css\r\na { color: blue; }\r\na:hover { color: red; }\r\na:visited { color: green; }\r\n```\r\n\r\nå½“ä½ @includeæ··åˆå™¨æ—¶ï¼Œæœ‰æ—¶å€™å¯èƒ½ä¼šå¾ˆéš¾åŒºåˆ†æ¯ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå‚æ•°ä¹‹é—´æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„é¡ºåºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ`sass`å…è®¸é€šè¿‡è¯­æ³•`$name: value`çš„å½¢å¼æŒ‡å®šæ¯ä¸ªå‚æ•°çš„å€¼ã€‚è¿™ç§å½¢å¼çš„ä¼ å‚ï¼Œå‚æ•°é¡ºåºå°±ä¸å¿…å†åœ¨ä¹äº†ï¼Œåªéœ€è¦ä¿è¯æ²¡æœ‰æ¼æ‰å‚æ•°å³å¯ï¼š\r\n\r\n```scss\r\na {\r\n    @include link-colors(\r\n      $normal: blue,\r\n      $visited: green,\r\n      $hover: red\r\n  );\r\n}\r\n```\r\n\r\n#### é»˜è®¤å‚æ•°å€¼\r\n\r\nä¸ºäº†åœ¨`@include`æ··åˆå™¨æ—¶ä¸å¿…ä¼ å…¥æ‰€æœ‰çš„å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‚æ•°æŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼ã€‚å‚æ•°é»˜è®¤å€¼ä½¿ç”¨`$name: default-value`çš„å£°æ˜å½¢å¼ï¼Œé»˜è®¤å€¼å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„`css`å±æ€§å€¼ï¼Œç”šè‡³æ˜¯å…¶ä»–å‚æ•°çš„å¼•ç”¨ã€‚\r\n\r\n### é€‰æ‹©å™¨ç»§æ‰¿\r\n\r\nä½¿ç”¨`sass`çš„æ—¶å€™ï¼Œæœ€åä¸€ä¸ªå‡å°‘é‡å¤çš„ä¸»è¦ç‰¹æ€§å°±æ˜¯é€‰æ‹©å™¨ç»§æ‰¿ã€‚åŸºäº`Nicole Sullivan`é¢å‘å¯¹è±¡çš„`css`çš„ç†å¿µï¼Œé€‰æ‹©å™¨ç»§æ‰¿æ˜¯è¯´ä¸€ä¸ªé€‰æ‹©å™¨å¯ä»¥ç»§æ‰¿ä¸ºå¦ä¸€ä¸ªé€‰æ‹©å™¨å®šä¹‰çš„æ‰€æœ‰æ ·å¼ã€‚è¿™ä¸ªé€šè¿‡`@extend`è¯­æ³•å®ç°ï¼Œå¦‚ä¸‹ä»£ç :\r\n\r\n```scss\r\n//é€šè¿‡é€‰æ‹©å™¨ç»§æ‰¿ç»§æ‰¿æ ·å¼\r\n.error {\r\n  border: 1px solid red;\r\n  background-color: #fdd;\r\n}\r\n.seriousError {\r\n  @extend .error;\r\n  border-width: 3px;\r\n}\r\n```\r\n\r\n`.seriousError`ä¸ä»…ä¼šç»§æ‰¿`.error`è‡ªèº«çš„æ‰€æœ‰æ ·å¼ï¼Œä»»ä½•è·Ÿ`.error`æœ‰å…³çš„ç»„åˆé€‰æ‹©å™¨æ ·å¼ä¹Ÿä¼šè¢«`.seriousError`ä»¥ç»„åˆé€‰æ‹©å™¨çš„å½¢å¼ç»§æ‰¿ï¼Œå¦‚ä¸‹ä»£ç :\r\n\r\n```scss\r\n//.seriousErrorä».errorç»§æ‰¿æ ·å¼\r\n.error a{  //åº”ç”¨åˆ°.seriousError a\r\n  color: red;\r\n  font-weight: 100;\r\n}\r\nh1.error { //åº”ç”¨åˆ°hl.seriousError\r\n  font-size: 1.2rem;\r\n}\r\n```\r\n\r\nå¦‚ä¸Šæ‰€ç¤ºï¼Œåœ¨`class=\"seriousError\"`çš„`html`å…ƒç´ å†…çš„è¶…é“¾æ¥ä¹Ÿä¼šå˜æˆçº¢è‰²å’Œç²—ä½“ã€‚\r\n\r\n#### ç»§æ‰¿çš„é«˜çº§ç”¨æ³•\r\n\r\nç•¥...æ„Ÿå…´è¶£çš„å‚è€ƒ[æ–‡æ¡£](https://www.sass.hk/guide/)\r\n\r\n### æœ€å\r\n\r\nè‡³æ­¤ï¼Œ`sass`æœ€åŸºæœ¬éƒ¨åˆ†å·²ç»ä»‹ç»å®Œäº†ï¼Œé€šè¿‡è¿™äº›åŸºç¡€çŸ¥è¯†ï¼Œä½ å·²ç»å¯ä»¥å°è¯•å»ä½¿ç”¨sassæ¥ç²¾ç®€ä½ çš„cssäº†ã€‚","post/2020/20200713/":"\n### picgo-ç®€ä»‹\nPicGo: ä¸€ä¸ªç”¨äºå¿«é€Ÿä¸Šä¼ å›¾ç‰‡å¹¶è·å–å›¾ç‰‡URLé“¾æ¥çš„å·¥å…·\n\nåˆ©ç”¨picgoï¼Œä½ å¯ä»¥è½»æ˜“çš„å°†æœ¬åœ°æˆ–æ˜¯ç½‘ç»œçš„å›¾ç‰‡ï¼Œä¸Šä¼ åˆ°ä½ çš„å›¾åºŠã€‚æœ¬ç¯‡åšå®¢ä¸»è¦åˆ†äº«å¦‚ä½•åˆ©ç”¨typora+ ~~gitee~~ github+picgoçš„æ–¹æ¡ˆå®ç°ä¸ªäººå›¾åºŠï¼Œä»æ­¤ä½ å†ä¹Ÿä¸ç”¨æ‹…å¿ƒåšå®¢å›¾ç‰‡çªç„¶å¤±æ•ˆäº†ã€‚\n\n:::danger\n**2020-10-29**\n\ngiteeçš„å¤–é“¾æœ‰é™åˆ¶,å¤§äº~~1M~~ï¼ˆå°æ–‡ä»¶å¯èƒ½ä¹Ÿä¼šï¼‰çš„å›¾ç‰‡æ— æ³•è®¿é—®(å¼ƒå‘)\n\næ¨èjsdelivr+githubå®ç°å›¾åºŠ(é€Ÿåº¦åŸºæœ¬1så†…)\n\nè¯¦æƒ…è§æ–‡æœ«\n:::\n\n### picgo-å®‰è£…\n\n[https://github.com/Molunerfinn/PicGo/releases](https://github.com/Molunerfinn/PicGo/releases)\n\nç›´æ¥åœ¨å®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å®‰è£…ç¨‹åºå³å¯ï¼Œå®‰è£…ä¹‹åæ‰“å¼€\n\nå› ä¸ºgiteeä¸åœ¨é»˜è®¤æ”¯æŒçš„å›¾åºŠé‡Œé¢ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œæ’ä»¶çš„ä¸‹è½½ï¼Œç›´æ¥ç‚¹å‡»æ’ä»¶è®¾ç½®ï¼Œæœç´¢gitee,ç„¶åå®‰è£…å³å¯ï¼ˆéœ€è¦nodejsç¯å¢ƒï¼Œå®‰è£…å¾ˆç®€å•ï¼‰\n\nå®‰è£…å®Œæˆä¹‹åï¼Œéœ€è¦åœ¨å›¾åºŠè®¾ç½®è¿›è¡Œç›¸å…³é…ç½®\n\nè¿™é‡Œè§£é‡Šä¸€ä¸‹å‡ ä¸ªé…ç½®\n\n- ownerï¼šä½ çš„giteeçš„åç§°\n- repoï¼šä½ ç”¨æ¥å­˜æ”¾å›¾ç‰‡çš„ä»“åº“åç§°ï¼ˆéœ€è¦å…¬å¼€çŠ¶æ€ä¸ºpublicï¼Œå¹¶åˆå§‹åŒ–masteråˆ†æ”¯ï¼‰\n- pathï¼šä»“åº“ä¸‹å­˜æ”¾å›¾ç‰‡çš„ç›®å½•ï¼Œå¯ä¸å¡«\n- tokenï¼šéœ€è¦åœ¨giteeçš„å¤´åƒhover->è®¾ç½®->ç§äººä»¤ç‰Œ->ç”Ÿæˆæ–°ä»¤ç‰Œè¿›è¡Œç”Ÿæˆï¼Œç„¶åç²˜è´´è¿‡æ¥ã€‚\n- messageï¼šcommitæäº¤çš„ä¿¡æ¯ï¼Œé»˜è®¤æ˜¯æµ‹è¯•\n\nå…¨éƒ¨é…ç½®å®Œåï¼Œè®¾ä¸ºé»˜è®¤å›¾åºŠï¼Œä»–ä¼šè‡ªåŠ¨ä¸Šä¼ ä¸ªæµ‹è¯•å›¾ç‰‡ä¸Šå»ï¼Œæ²¡é—®é¢˜çš„è¯å¯ä»¥è¿›å…¥åˆ°typoraç¯èŠ‚\n\n### typora-é…ç½®\n\nåœ¨typoraä¸­ï¼Œåå¥½è®¾ç½®->å›¾åƒï¼Œè®¾ç½®ä¸Šä¼ æœåŠ¡ä¸ºpicgo\n\nä¹‹ååªè¦ä½ åœ¨typoraç¼–å†™åšå®¢æ—¶ï¼Œåªéœ€è¦åœ¨æ’å…¥å›¾ç‰‡åå³é”®å°±ä¼šå‡ºç°ä¸Šä¼ å›¾ç‰‡é€‰é¡¹ï¼Œç‚¹å‡»ä¹‹åç›´æ¥ä¸Šä¼ åˆ°å›¾åºŠå¹¶ä¿®æ”¹å›¾ç‰‡urlä¸ºå›¾åºŠä¸­çš„urlï¼Œååˆ†ä¾¿æ·ã€‚\n\nè‡³æ­¤ï¼Œä¸ªäººå›¾åºŠä¾¿æ­å»ºå®Œæˆã€‚\n\n\n### github+jsdelivr\n\n:::tip\nå¼ºçƒˆæ¨èï¼ŒGitee åœ¨å¤§å›¾ç‰‡æ–‡ä»¶å¯èƒ½å¤–é“¾ä¼šè¢« 403ã€‚\n:::\n\n1. é¦–å…ˆæ–°å»ºä¸€ä¸ªgithub repo,ä¸»åˆ†æ”¯ä¸ºmaster,è¢«mainåˆ†æ”¯å¡äº†ä¸€å¤©(é»˜è®¤æ˜¯æ‰¾repo@master å¦‚æœæ˜¯mainå¾—åœ¨è‡ªå®šä¹‰åŸŸåé‚£åŠ ä¸Š@main)\n\n2. githubç”Ÿæˆ person access token\n\n3. picgoé…ç½®\n\n   ![image-20201029161923078](https://cdn.jsdelivr.net/gh/alightyoung/static/img/image-20201029161923078.png)\n\n","post/2020/20200725/":"\n## ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„\n\næ•°æ®ç»“æ„æ˜¯è®¡ç®—æœºå­˜å‚¨ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚æ•°æ®ç»“æ„æ˜¯æŒ‡ç›¸äº’ä¹‹é—´å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„æ•°æ®å…ƒç´ çš„é›†åˆã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç²¾å¿ƒé€‰æ‹©çš„æ•°æ®ç»“æ„å¯ä»¥å¸¦æ¥æ›´é«˜çš„è¿è¡Œæˆ–è€…å­˜å‚¨æ•ˆç‡ã€‚æ•°æ®ç»“æ„å¾€å¾€åŒé«˜æ•ˆçš„æ£€ç´¢ç®—æ³•å’Œç´¢å¼•æŠ€æœ¯æœ‰å…³ã€‚\n\nå¸¸è§çš„æ•°æ®ç»“æ„æœ‰\n\n- æ•°ç»„ï¼ˆArrayï¼‰\n- é“¾è¡¨ï¼ˆLinked listï¼‰\n- æ•£åˆ—è¡¨ï¼ˆHashï¼‰\n- é˜Ÿåˆ—ï¼ˆQueueï¼‰\n- æ ‘ï¼ˆTreeï¼‰\n- æ ˆï¼ˆStackï¼‰\n- å †ï¼ˆHeapï¼‰\n- å›¾ï¼ˆGraphï¼‰\n\n## æ•°æ®çš„é€»è¾‘ç»“æ„\n\næŒ‡åæ˜ æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­çš„é€»è¾‘å…³ç³»æ˜¯æŒ‡æ•°æ®å…ƒç´ ä¹‹é—´çš„å‰åé—´å…³ç³»ï¼Œè€Œä¸ä»–ä»¬åœ¨è®¡ç®—æœºä¸­çš„å­˜å‚¨ä½ç½®æ— å…³ã€‚é€»è¾‘ç»“æ„åŒ…æ‹¬ï¼š\n\n- é›†åˆï¼ˆæ•°æ®ç»“æ„ä¸­çš„å…ƒç´ ä¹‹é—´é™¤äº†â€œåŒå±ä¸€ä¸ªé›†åˆâ€ çš„ç›¸äº’å…³ç³»å¤–ï¼Œåˆ«æ— å…¶ä»–å…³ç³»ï¼‰\n- çº¿æ€§ç»“æ„ï¼ˆæ•°æ®ç»“æ„ä¸­çš„å…ƒç´ å­˜åœ¨ä¸€å¯¹ä¸€çš„ç›¸äº’å…³ç³»ï¼‰\n- æ ‘å½¢ç»“æ„ï¼ˆæ•°æ®ç»“æ„ä¸­çš„å…ƒç´ å­˜åœ¨ä¸€å¯¹å¤šçš„ç›¸äº’å…³ç³»ï¼‰\n- å›¾å½¢ç»“æ„ï¼ˆæ•°æ®ç»“æ„ä¸­çš„å…ƒç´ å­˜åœ¨å¤šå¯¹å¤šçš„ç›¸äº’å…³ç³»ï¼‰\n\n## æ•°æ®ç»“æ„åˆ†ç±»\n\næ•°æ®ç»“æ„æœ‰å¾ˆå¤šç§ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒæŒ‰ç…§æ•°æ®çš„é€»è¾‘ç»“æ„å¯¹å…¶è¿›è¡Œç®€å•çš„åˆ†ç±»ï¼ŒåŒ…æ‹¬**çº¿æ€§ç»“æ„**å’Œ**éçº¿æ€§ç»“æ„**ä¸¤ç±»ã€‚\n\n### çº¿æ€§ç»“æ„\n\nçº¿æ€§ç»“æ„å°±æ˜¯è¡¨ä¸­å„ä¸ªç»“ç‚¹å…·æœ‰çº¿æ€§å…³ç³»ã€‚å¦‚æœä»æ•°æ®ç»“æ„çš„è¯­è¨€æ¥æè¿°ï¼Œçº¿æ€§ç»“æ„åº”è¯¥åŒ…æ‹¬å¦‚ä¸‹å‡ ç‚¹ï¼š\n\n1. çº¿æ€§ç»“æ„æ˜¯éç©ºé›†ã€‚\n2. çº¿æ€§ç»“æ„æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå¼€å§‹ç»“ç‚¹å’Œä¸€ä¸ªç»ˆç«¯ç»“ç‚¹ã€‚\n3. çº¿æ€§ç»“æ„æ‰€æœ‰ç»“ç‚¹éƒ½æœ€å¤šåªæœ‰ä¸€ä¸ªç›´æ¥å‰è¶‹ç»“ç‚¹å’Œä¸€ä¸ªç›´æ¥åç»§ç»“ç‚¹ã€‚\n\nçº¿æ€§è¡¨å°±æ˜¯å…¸å‹çš„çº¿æ€§ç»“æ„ï¼Œè¿˜æœ‰æ ˆã€é˜Ÿåˆ—å’Œä¸²ç­‰éƒ½å±äºçº¿æ€§ç»“æ„ã€‚\n\n### éçº¿æ€§ç»“æ„\n\néçº¿æ€§ç»“æ„å°±æ˜¯è¡¨ä¸­å„ä¸ªç»“ç‚¹ä¹‹é—´å…·æœ‰å¤šä¸ªå¯¹åº”å…³ç³»ã€‚å¦‚æœä»æ•°æ®ç»“æ„çš„è¯­è¨€æ¥æè¿°ï¼Œéçº¿æ€§ç»“æ„åº”è¯¥åŒ…æ‹¬å¦‚ä¸‹å‡ ç‚¹ï¼š\n\n1. éçº¿æ€§ç»“æ„æ˜¯éç©ºé›†ã€‚\n2. éçº¿æ€§ç»“æ„çš„ä¸€ä¸ªç»“ç‚¹å¯èƒ½æœ‰å¤šä¸ªç›´æ¥å‰è¶‹ç»“ç‚¹å’Œå¤šä¸ªç›´æ¥åç»§ç»“ç‚¹ã€‚\n\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ•°ç»„ã€å¹¿ä¹‰è¡¨ã€æ ‘ç»“æ„å’Œå›¾ç»“æ„ç­‰æ•°æ®ç»“æ„éƒ½å±äºéçº¿æ€§ç»“æ„ã€‚\n\n## æ•°ç»„\n\næ•°ç»„æ˜¯ä¸€ç§èšåˆæ•°æ®ç±»å‹ï¼Œå®ƒæ˜¯å°†å…·æœ‰ç›¸åŒç±»å‹çš„è‹¥å¹²å˜é‡æœ‰åºåœ°ç»„ç»‡åœ¨ä¸€èµ·çš„é›†åˆã€‚æ•°ç»„å¯ä»¥è¯´æ˜¯æœ€åŸºæœ¬çš„æ•°æ®ç»“æ„ï¼Œåœ¨å„ç§ç¼–ç¨‹è¯­è¨€ä¸­éƒ½æœ‰å¯¹åº”ã€‚ä¸€ä¸ªæ•°ç»„å¯ä»¥åˆ†è§£ä¸ºå¤šä¸ªæ•°ç»„å…ƒç´ ï¼ŒæŒ‰ç…§æ•°æ®å…ƒç´ çš„ç±»å‹ï¼Œæ•°ç»„å¯ä»¥åˆ†ä¸ºæ•´å‹æ•°ç»„ã€å­—ç¬¦å‹æ•°ç»„ã€æµ®ç‚¹å‹æ•°ç»„ã€æŒ‡é’ˆæ•°ç»„å’Œç»“æ„æ•°ç»„ç­‰ã€‚æ•°ç»„è¿˜å¯ä»¥æœ‰ä¸€ç»´ã€äºŒç»´ä»¥åŠå¤šç»´ç­‰è¡¨ç°å½¢å¼ã€‚\n\n\n## é“¾è¡¨\n\né“¾è¡¨æ˜¯ä¸€ç§æ•°æ®å…ƒç´ æŒ‰ç…§é“¾å¼å­˜å‚¨ç»“æ„è¿›è¡Œå­˜å‚¨çš„æ•°æ®ç»“æ„ï¼Œè¿™ç§å­˜å‚¨ç»“æ„å…·æœ‰åœ¨ç‰©ç†ä¸Šå­˜åœ¨éè¿ç»­çš„ç‰¹ç‚¹ã€‚é“¾è¡¨ç”±ä¸€ç³»åˆ—æ•°æ®ç»“ç‚¹æ„æˆï¼Œæ¯ä¸ªæ•°æ®ç»“ç‚¹åŒ…æ‹¬æ•°æ®åŸŸå’ŒæŒ‡é’ˆåŸŸä¸¤éƒ¨åˆ†ã€‚å…¶ä¸­ï¼ŒæŒ‡é’ˆåŸŸä¿å­˜äº†æ•°æ®ç»“æ„ä¸­ä¸‹ä¸€ä¸ªå…ƒç´ å­˜æ”¾çš„åœ°å€ã€‚é“¾è¡¨ç»“æ„ä¸­æ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºæ¥å®ç°çš„ã€‚\n\n\n### è·³è¡¨ï¼ˆskiplistï¼‰\n\nå¢åŠ äº†å‘å‰æŒ‡é’ˆçš„é“¾è¡¨å«ä½œè·³è¡¨ã€‚è·³è¡¨å…¨ç§°å«åšè·³è·ƒè¡¨ï¼Œç®€ç§°è·³è¡¨ã€‚è·³è¡¨æ˜¯ä¸€ä¸ªéšæœºåŒ–çš„æ•°æ®ç»“æ„ï¼Œå®è´¨å°±æ˜¯ä¸€ç§å¯ä»¥è¿›è¡Œ**äºŒåˆ†æŸ¥æ‰¾**çš„æœ‰åºé“¾è¡¨ã€‚è·³è¡¨åœ¨åŸæœ‰çš„æœ‰åºé“¾è¡¨ä¸Šé¢å¢åŠ äº†**å¤šçº§ç´¢å¼•**ï¼Œé€šè¿‡ç´¢å¼•æ¥å®ç°å¿«é€ŸæŸ¥æ‰¾ã€‚è·³è¡¨ä¸ä»…èƒ½æé«˜æœç´¢æ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æé«˜æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ€§èƒ½ã€‚\n\n\n## æ•£åˆ—è¡¨\n\næ•£åˆ—è¡¨æºè‡ªäºæ•£åˆ—å‡½æ•°(Hash function)ï¼Œå…¶æ€æƒ³æ˜¯å¦‚æœåœ¨ç»“æ„ä¸­å­˜åœ¨å…³é”®å­—å’ŒTç›¸ç­‰çš„è®°å½•ï¼Œé‚£ä¹ˆå¿…å®šåœ¨F(T)çš„å­˜å‚¨ä½ç½®å¯ä»¥æ‰¾åˆ°è¯¥è®°å½•ï¼Œè¿™æ ·å°±å¯ä»¥ä¸ç”¨è¿›è¡Œæ¯”è¾ƒæ“ä½œè€Œç›´æ¥å–å¾—æ‰€æŸ¥è®°å½•ã€‚\n\n\n## é˜Ÿåˆ—\n\né˜Ÿåˆ—å’Œæ ˆç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„**çº¿æ€§è¡¨**ã€‚å’Œæ ˆä¸åŒçš„æ˜¯ï¼Œé˜Ÿåˆ—åªå…è®¸åœ¨è¡¨çš„ä¸€ç«¯è¿›è¡Œæ’å…¥æ“ä½œï¼Œè€Œåœ¨å¦ä¸€ç«¯è¿›è¡Œåˆ é™¤æ“ä½œã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿›è¡Œæ’å…¥æ“ä½œçš„ä¸€ç«¯ç§°ä¸ºé˜Ÿå°¾ï¼Œè¿›è¡Œåˆ é™¤æ“ä½œçš„ä¸€ç«¯ç§°ä¸ºé˜Ÿå¤´ã€‚é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ æ—¶ï¼Œç§°ä¸ºç©ºé˜Ÿåˆ—ã€‚\n\n\n## æ ‘\n\næ ‘æ˜¯å…¸å‹çš„**éçº¿æ€§ç»“æ„**ï¼Œå®ƒæ˜¯åŒ…æ‹¬ï¼Œ2ä¸ªç»“ç‚¹çš„æœ‰ç©·é›†åˆKã€‚åœ¨æ ‘ç»“æ„ä¸­ï¼Œ**æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹**ï¼Œè¯¥ç»“ç‚¹æ²¡æœ‰å‰é©±ç»“ç‚¹ã€‚åœ¨æ ‘ç»“æ„ä¸­çš„**å…¶ä»–ç»“ç‚¹**éƒ½**æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‰é©±ç»“ç‚¹**ï¼Œè€Œä¸”**å¯ä»¥æœ‰ä¸¤ä¸ªåç»§ç»“ç‚¹**ï¼Œmâ‰¥0ã€‚\n\n\n## æ ˆ\n\næ ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„**çº¿æ€§è¡¨**ï¼Œå®ƒåªèƒ½åœ¨ä¸€ä¸ªè¡¨çš„ä¸€ä¸ªå›ºå®šç«¯è¿›è¡Œæ•°æ®ç»“ç‚¹çš„æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚æ ˆæŒ‰ç…§**åè¿›å…ˆå‡º**çš„åŸåˆ™æ¥å­˜å‚¨æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…ˆæ’å…¥çš„æ•°æ®å°†è¢«å‹å…¥æ ˆåº•ï¼Œæœ€åæ’å…¥çš„æ•°æ®åœ¨æ ˆé¡¶ï¼Œè¯»å‡ºæ•°æ®æ—¶ï¼Œä»æ ˆé¡¶å¼€å§‹é€ä¸ªè¯»å‡ºã€‚æ ˆåœ¨æ±‡ç¼–è¯­è¨€ç¨‹åºä¸­ï¼Œç»å¸¸ç”¨äºé‡è¦æ•°æ®çš„ç°åœºä¿æŠ¤ã€‚æ ˆä¸­æ²¡æœ‰æ•°æ®æ—¶ï¼Œç§°ä¸ºç©ºæ ˆã€‚\n\n\n## å †\n\nå †æ˜¯ä¸€ç§ç‰¹æ®Šçš„**æ ‘å½¢æ•°æ®ç»“æ„**ï¼Œä¸€èˆ¬è®¨è®ºçš„å †éƒ½æ˜¯**äºŒå‰å †**ã€‚å †çš„ç‰¹ç‚¹æ˜¯**æ ¹ç»“ç‚¹**çš„å€¼æ˜¯æ‰€æœ‰ç»“ç‚¹ä¸­**æœ€å°**çš„**æˆ–**è€…**æœ€å¤§**çš„ï¼Œå¹¶ä¸”æ ¹ç»“ç‚¹çš„ä¸¤ä¸ªå­æ ‘ä¹Ÿæ˜¯ä¸€ä¸ªå †ç»“æ„ã€‚\n\nå †é€šå¸¸å¯ä»¥è¢«çœ‹åšä¸€æ£µæ ‘çš„æ•°ç»„å¯¹è±¡ã€‚\nå †çš„å…·ä½“å®ç°-èˆ¬ä¸é€šè¿‡æŒ‡é’ˆåŸŸï¼Œè€Œæ˜¯é€šè¿‡æ„å»ºä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸äºŒå‰æ ‘çš„çˆ¶å­ç»“ç‚¹è¿›è¡Œå¯¹åº”,\nå› æ­¤å †æ€»æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ã€‚\n\n\n## å›¾\n\nå›¾æ˜¯å¦ä¸€ç§**éçº¿æ€§æ•°æ®ç»“æ„**ã€‚åœ¨å›¾ç»“æ„ä¸­ï¼Œæ•°æ®ç»“ç‚¹ä¸€èˆ¬ç§°ä¸º**é¡¶ç‚¹**ï¼Œè€Œ**è¾¹**æ˜¯**é¡¶ç‚¹**çš„**æœ‰åºå¶å¯¹**ã€‚å¦‚æœä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºè¿™ä¸¤ä¸ªé¡¶ç‚¹å…·æœ‰ç›¸é‚»å…³ç³»ã€‚\n\n\n## ç»“è¯­\n\nè‡³æ­¤ï¼Œå¯¹äºæ•°æ®ç»“æ„çš„åŸºæœ¬æ¦‚å¿µä½ å¯èƒ½å·²ç»æœ‰äº†ä¸€å®šçš„ç†è§£\n\næ›´å¤šæ•°æ®ç»“æ„çš„å…·ä½“åº”ç”¨ä»¥åŠå®ç°åŸç†ï¼Œå¯ä»¥æ‰¾æ›´åŠ æƒå¨çš„èµ„æ–™è¿›è¡Œè¯¦ç»†å­¦ä¹ ã€‚\n","post/2020/20200731/":"\r\n## ç®€ä»‹\r\n\r\nç®—æ³•ï¼ˆAlgorithmï¼‰æ˜¯æŒ‡è§£é¢˜æ–¹æ¡ˆçš„å‡†ç¡®è€Œå®Œæ•´çš„æè¿°ï¼Œæ˜¯**ä¸€ç³»åˆ—è§£å†³é—®é¢˜çš„æ¸…æ™°æŒ‡ä»¤**ï¼Œç®—æ³•ä»£è¡¨ç€ç”¨ç³»ç»Ÿçš„æ–¹æ³•æè¿°è§£å†³é—®é¢˜çš„ç­–ç•¥æœºåˆ¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œèƒ½å¤Ÿå¯¹ä¸€å®šè§„èŒƒçš„è¾“å…¥ï¼Œåœ¨æœ‰é™æ—¶é—´å†…è·å¾—æ‰€è¦æ±‚çš„è¾“å‡ºã€‚å¦‚æœä¸€ä¸ªç®—æ³•æœ‰ç¼ºé™·ï¼Œæˆ–ä¸é€‚åˆäºæŸä¸ªé—®é¢˜ï¼Œæ‰§è¡Œè¿™ä¸ªç®—æ³•å°†ä¸ä¼šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸åŒçš„ç®—æ³•å¯èƒ½ç”¨ä¸åŒçš„æ—¶é—´ã€ç©ºé—´æˆ–æ•ˆç‡æ¥å®ŒæˆåŒæ ·çš„ä»»åŠ¡ã€‚ä¸€ä¸ªç®—æ³•çš„ä¼˜åŠ£å¯ä»¥ç”¨**ç©ºé—´å¤æ‚åº¦**ä¸**æ—¶é—´å¤æ‚åº¦**æ¥è¡¡é‡ã€‚\r\n\r\n## ç‰¹å¾\r\n\r\nä¸€ä¸ªç®—æ³•åº”è¯¥å…·æœ‰ä»¥ä¸‹äº”ä¸ªé‡è¦çš„ç‰¹å¾ï¼š\r\n\r\n### æœ‰ç©·æ€§ï¼ˆFinitenessï¼‰\r\n\r\nç®—æ³•çš„æœ‰ç©·æ€§æ˜¯æŒ‡ç®—æ³•å¿…é¡»èƒ½åœ¨æ‰§è¡Œæœ‰é™ä¸ªæ­¥éª¤ä¹‹åç»ˆæ­¢\r\n\r\n### ç¡®åˆ‡æ€§ï¼ˆDefinitenessï¼‰\r\n\r\nç®—æ³•çš„æ¯ä¸€æ­¥éª¤å¿…é¡»æœ‰ç¡®åˆ‡çš„å®šä¹‰\r\n\r\n### è¾“å…¥é¡¹ï¼ˆinputï¼‰\r\n\r\nä¸€ä¸ªç®—æ³•æœ‰0ä¸ªæˆ–å¤šä¸ªè¾“å…¥ï¼Œä»¥åˆ»ç”»è¿ç®—å¯¹è±¡çš„åˆå§‹æƒ…å†µï¼Œæ‰€è°“0ä¸ªè¾“å…¥æ˜¯æŒ‡ç®—æ³•æœ¬èº«å®šå‡ºäº†åˆå§‹æ¡ä»¶\r\n\r\n### è¾“å‡ºé¡¹ï¼ˆoutputï¼‰\r\n\r\nä¸€ä¸ªç®—æ³•æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºï¼Œä»¥åæ˜ å¯¹è¾“å…¥æ•°æ®åŠ å·¥åçš„ç»“æœã€‚æ²¡æœ‰è¾“å‡ºçš„ç®—æ³•æ˜¯æ¯«æ— æ„ä¹‰çš„\r\n\r\n### å¯è¡Œæ€§ï¼ˆEffectivenessï¼‰\r\n\r\nç®—æ³•ä¸­æ‰§è¡Œçš„ä»»ä½•è®¡ç®—æ­¥éª¤éƒ½æ˜¯å¯ä»¥è¢«åˆ†è§£ä¸ºåŸºæœ¬çš„å¯æ‰§è¡Œçš„æ“ä½œæ­¥éª¤ï¼Œå³æ¯ä¸ªè®¡ç®—æ­¥éª¤éƒ½å¯ä»¥åœ¨æœ‰é™æ—¶é—´å†…å®Œæˆï¼ˆä¹Ÿç§°ä¹‹ä¸ºæœ‰æ•ˆæ€§ï¼‰\r\n\r\n## åˆ†ç±»\r\n\r\nç®—æ³•å¯å¤§è‡´åˆ†ä¸ºåŸºæœ¬ç®—æ³•ã€æ•°æ®ç»“æ„çš„ç®—æ³•ã€æ•°è®ºä¸ä»£æ•°ç®—æ³•ã€è®¡ç®—å‡ ä½•çš„ç®—æ³•ã€å›¾è®ºçš„ç®—æ³•ã€åŠ¨æ€è§„åˆ’ä»¥åŠæ•°å€¼åˆ†æã€åŠ å¯†ç®—æ³•ã€æ’åºç®—æ³•ã€æ£€ç´¢ç®—æ³•ã€éšæœºåŒ–ç®—æ³•ã€å¹¶è¡Œç®—æ³•ï¼Œå„ç±³å˜å½¢æ¨¡å‹ï¼Œéšæœºæ£®æ—ç®—æ³•ã€‚\r\n\r\nç®—æ³•å¯ä»¥å®æ³›çš„åˆ†ä¸ºä¸‰ç±»ï¼š\r\n\r\nä¸€ã€æœ‰é™çš„ï¼Œç¡®å®šæ€§ç®—æ³• è¿™ç±»ç®—æ³•åœ¨æœ‰é™çš„ä¸€æ®µæ—¶é—´å†…ç»ˆæ­¢ã€‚ä»–ä»¬å¯èƒ½è¦èŠ±å¾ˆé•¿æ—¶é—´æ¥æ‰§è¡ŒæŒ‡å®šçš„ä»»åŠ¡ï¼Œä½†ä»å°†åœ¨ä¸€å®šçš„æ—¶é—´å†…ç»ˆæ­¢ã€‚è¿™ç±»ç®—æ³•å¾—å‡ºçš„ç»“æœå¸¸å–å†³äºè¾“å…¥å€¼ã€‚\r\n\r\näºŒã€æœ‰é™çš„ï¼Œéç¡®å®šç®—æ³• è¿™ç±»ç®—æ³•åœ¨æœ‰é™çš„æ—¶é—´å†…ç»ˆæ­¢ã€‚ç„¶è€Œï¼Œå¯¹äºä¸€ä¸ªï¼ˆæˆ–ä¸€äº›ï¼‰ç»™å®šçš„æ•°å€¼ï¼Œç®—æ³•çš„ç»“æœå¹¶ä¸æ˜¯å”¯ä¸€çš„æˆ–ç¡®å®šçš„ã€‚\r\n\r\nä¸‰ã€æ— é™çš„ç®—æ³• æ˜¯é‚£äº›ç”±äºæ²¡æœ‰å®šä¹‰ç»ˆæ­¢å®šä¹‰æ¡ä»¶ï¼Œæˆ–å®šä¹‰çš„æ¡ä»¶æ— æ³•ç”±è¾“å…¥çš„æ•°æ®æ»¡è¶³è€Œä¸ç»ˆæ­¢è¿è¡Œçš„ç®—æ³•ã€‚é€šå¸¸ï¼Œæ— é™ç®—æ³•çš„äº§ç”Ÿæ˜¯ç”±äºæœªèƒ½ç¡®å®šçš„å®šä¹‰ç»ˆæ­¢æ¡ä»¶ã€‚\r\n\r\n## æ–¹æ³•\r\n\r\n### é€’æ¨æ³•\r\n\r\né€’æ¨æ˜¯åºåˆ—è®¡ç®—æœºä¸­çš„ä¸€ç§å¸¸ç”¨ç®—æ³•ã€‚å®ƒæ˜¯æŒ‰ç…§ä¸€å®šçš„è§„å¾‹æ¥è®¡ç®—åºåˆ—ä¸­çš„æ¯ä¸ªé¡¹ï¼Œé€šå¸¸æ˜¯é€šè¿‡è®¡ç®—æœºå‰é¢çš„ä¸€äº›é¡¹æ¥å¾—å‡ºåºåˆ—ä¸­çš„æŒ‡å®šé¡¹çš„å€¼ã€‚å…¶æ€æƒ³æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„åºå¤§çš„è®¡ç®—è¿‡ç¨‹è½¬åŒ–ä¸ºç®€å•è¿‡ç¨‹çš„å¤šæ¬¡é‡å¤ï¼Œè¯¥ç®—æ³•åˆ©ç”¨äº†è®¡ç®—æœºé€Ÿåº¦å¿«å’Œä¸çŸ¥ç–²å€¦çš„æœºå™¨ç‰¹ç‚¹ã€‚\r\n\r\n### é€’å½’æ³•\r\n\r\nç¨‹åºè°ƒç”¨è‡ªèº«çš„ç¼–ç¨‹æŠ€å·§ç§°ä¸ºé€’å½’ï¼ˆrecursionï¼‰ã€‚ä¸€ä¸ªè¿‡ç¨‹æˆ–å‡½æ•°åœ¨å…¶å®šä¹‰æˆ–è¯´æ˜ä¸­æœ‰ç›´æ¥æˆ–é—´æ¥è°ƒç”¨è‡ªèº«çš„ä¸€ç§æ–¹æ³•ï¼Œå®ƒé€šå¸¸æŠŠä¸€ä¸ªå¤§å‹å¤æ‚çš„é—®é¢˜å±‚å±‚è½¬åŒ–ä¸ºä¸€ä¸ªä¸åŸé—®é¢˜ç›¸ä¼¼çš„è§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ï¼Œé€’å½’ç­–ç•¥åªéœ€å°‘é‡çš„ç¨‹åºå°±å¯æè¿°å‡ºè§£é¢˜è¿‡ç¨‹æ‰€éœ€è¦çš„å¤šæ¬¡é‡å¤è®¡ç®—ï¼Œå¤§å¤§åœ°å‡å°‘äº†ç¨‹åºçš„ä»£ç é‡ã€‚é€’å½’çš„èƒ½åŠ›åœ¨äºç”¨æœ‰é™çš„è¯­å¥æ¥å®šä¹‰å¯¹è±¡çš„æ— é™é›†åˆã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé€’å½’éœ€è¦æœ‰è¾¹ç•Œæ¡ä»¶ã€é€’å½’å‰è¿›æ®µå’Œé€’å½’è¿”å›æ®µã€‚å½“è¾¹ç•Œæ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œé€’å½’å‰è¿›ï¼›å½“è¾¹ç•Œæ¡ä»¶æ»¡è¶³æ—¶ï¼Œé€’å½’è¿”å›ã€‚\r\n\r\n**æ³¨æ„ï¼š**\r\n\r\n(1) é€’å½’å°±æ˜¯åœ¨è¿‡ç¨‹æˆ–å‡½æ•°é‡Œè°ƒç”¨è‡ªèº«;\r\n\r\n(2) åœ¨ä½¿ç”¨é€’å½’ç­–ç•¥æ—¶ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªæ˜ç¡®çš„é€’å½’ç»“æŸæ¡ä»¶ï¼Œç§°ä¸ºé€’å½’å‡ºå£ã€‚\r\n\r\n### ç©·ä¸¾æ³•\r\n\r\nç©·ä¸¾æ³•ï¼Œæˆ–ç§°ä¸ºæš´åŠ›ç ´è§£æ³•ï¼Œå…¶åŸºæœ¬æ€è·¯æ˜¯ï¼šå¯¹äºè¦è§£å†³çš„é—®é¢˜ï¼Œåˆ—ä¸¾å‡ºå®ƒçš„æ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼Œé€ä¸ªåˆ¤æ–­æœ‰å“ªäº›æ˜¯ç¬¦åˆé—®é¢˜æ‰€è¦æ±‚çš„æ¡ä»¶ï¼Œä»è€Œå¾—åˆ°é—®é¢˜çš„è§£ã€‚å®ƒä¹Ÿå¸¸ç”¨äºå¯¹äºå¯†ç çš„ç ´è¯‘ï¼Œå³å°†å¯†ç è¿›è¡Œé€ä¸ªæ¨ç®—ç›´åˆ°æ‰¾å‡ºçœŸæ­£çš„å¯†ç ä¸ºæ­¢ã€‚ä¾‹å¦‚ä¸€ä¸ªå·²çŸ¥æ˜¯å››ä½å¹¶ä¸”å…¨éƒ¨ç”±æ•°å­—ç»„æˆçš„å¯†ç ï¼Œå…¶å¯èƒ½å…±æœ‰10000ç§ç»„åˆï¼Œå› æ­¤æœ€å¤šå°è¯•10000æ¬¡å°±èƒ½æ‰¾åˆ°æ­£ç¡®çš„å¯†ç ã€‚ç†è®ºä¸Šåˆ©ç”¨è¿™ç§æ–¹æ³•å¯ä»¥ç ´è§£ä»»ä½•ä¸€ç§å¯†ç ï¼Œé—®é¢˜åªåœ¨äºå¦‚ä½•ç¼©çŸ­è¯•è¯¯æ—¶é—´ã€‚å› æ­¤æœ‰äº›äººè¿ç”¨è®¡ç®—æœºæ¥å¢åŠ æ•ˆç‡ï¼Œæœ‰äº›äººè¾…ä»¥å­—å…¸æ¥ç¼©å°å¯†ç ç»„åˆçš„èŒƒå›´ã€‚\r\n\r\n### è´ªå¿ƒç®—æ³•\r\n\r\nè´ªå¿ƒç®—æ³•æ˜¯ä¸€ç§å¯¹æŸäº›æ±‚æœ€ä¼˜è§£é—®é¢˜çš„æ›´ç®€å•ã€æ›´è¿…é€Ÿçš„è®¾è®¡æŠ€æœ¯ã€‚\r\n\r\nç”¨è´ªå¿ƒæ³•è®¾è®¡ç®—æ³•çš„ç‰¹ç‚¹æ˜¯ä¸€æ­¥ä¸€æ­¥åœ°è¿›è¡Œï¼Œå¸¸ä»¥å½“å‰æƒ…å†µä¸ºåŸºç¡€æ ¹æ®æŸä¸ªä¼˜åŒ–æµ‹åº¦ä½œæœ€ä¼˜é€‰æ‹©ï¼Œè€Œä¸è€ƒè™‘å„ç§å¯èƒ½çš„æ•´ä½“æƒ…å†µï¼Œå®ƒçœå»äº†ä¸ºæ‰¾æœ€ä¼˜è§£è¦ç©·å°½æ‰€æœ‰å¯èƒ½è€Œå¿…é¡»è€—è´¹çš„å¤§é‡æ—¶é—´ï¼Œå®ƒé‡‡ç”¨è‡ªé¡¶å‘ä¸‹,ä»¥è¿­ä»£çš„æ–¹æ³•åšå‡ºç›¸ç»§çš„è´ªå¿ƒé€‰æ‹©,æ¯åšä¸€æ¬¡è´ªå¿ƒé€‰æ‹©å°±å°†æ‰€æ±‚é—®é¢˜ç®€åŒ–ä¸ºä¸€ä¸ªè§„æ¨¡æ›´å°çš„å­é—®é¢˜, é€šè¿‡æ¯ä¸€æ­¥è´ªå¿ƒé€‰æ‹©,å¯å¾—åˆ°é—®é¢˜çš„ä¸€ä¸ªæœ€ä¼˜è§£ï¼Œè™½ç„¶æ¯ä¸€æ­¥ä¸Šéƒ½è¦ä¿è¯èƒ½è·å¾—å±€éƒ¨æœ€ä¼˜è§£ï¼Œä½†ç”±æ­¤äº§ç”Ÿçš„å…¨å±€è§£æœ‰æ—¶ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„ï¼Œæ‰€ä»¥è´ªå©ªæ³•ä¸è¦å›æº¯ã€‚\r\n\r\nè´ªå©ªç®—æ³•æ˜¯ä¸€ç§æ”¹è¿›äº†çš„åˆ†çº§å¤„ç†æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒæ˜¯æ ¹æ®é¢˜æ„é€‰å–ä¸€ç§é‡åº¦æ ‡å‡†ï¼Œç„¶åå°†è¿™å¤šä¸ªè¾“å…¥æ’æˆè¿™ç§é‡åº¦æ ‡å‡†æ‰€è¦æ±‚çš„é¡ºåºï¼ŒæŒ‰è¿™ç§é¡ºåºä¸€æ¬¡è¾“å…¥ä¸€ä¸ªé‡ï¼Œå¦‚æœè¿™ä¸ªè¾“å…¥å’Œå½“å‰å·²æ„æˆåœ¨è¿™ç§é‡åº¦æ„ä¹‰ä¸‹çš„éƒ¨åˆ†æœ€ä½³è§£åŠ åœ¨ä¸€èµ·ä¸èƒ½äº§ç”Ÿä¸€ä¸ªå¯è¡Œè§£ï¼Œåˆ™ä¸æŠŠæ­¤è¾“å…¥åŠ åˆ°è¿™éƒ¨åˆ†è§£ä¸­ã€‚è¿™ç§èƒ½å¤Ÿå¾—åˆ°æŸç§é‡åº¦æ„ä¹‰ä¸‹æœ€ä¼˜è§£çš„åˆ†çº§å¤„ç†æ–¹æ³•ç§°ä¸ºè´ªå©ªç®—æ³•ã€‚\r\n\r\nå¯¹äºä¸€ä¸ªç»™å®šçš„é—®é¢˜ï¼Œå¾€å¾€å¯èƒ½æœ‰å¥½å‡ ç§é‡åº¦æ ‡å‡†ã€‚åˆçœ‹èµ·æ¥ï¼Œè¿™äº›é‡åº¦æ ‡å‡†ä¼¼ä¹éƒ½æ˜¯å¯å–çš„ï¼Œä½†å®é™…ä¸Šï¼Œç”¨å…¶ä¸­çš„å¤§å¤šæ•°é‡åº¦æ ‡å‡†ä½œè´ªå©ªå¤„ç†æ‰€å¾—åˆ°è¯¥é‡åº¦æ„ä¹‰ä¸‹çš„æœ€ä¼˜è§£å¹¶ä¸æ˜¯é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œè€Œæ˜¯æ¬¡ä¼˜è§£ã€‚å› æ­¤ï¼Œé€‰æ‹©èƒ½äº§ç”Ÿé—®é¢˜æœ€ä¼˜è§£çš„æœ€ä¼˜é‡åº¦æ ‡å‡†æ˜¯ä½¿ç”¨è´ªå©ªç®—æ³•çš„æ ¸å¿ƒã€‚\r\n\r\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¦é€‰å‡ºæœ€ä¼˜é‡åº¦æ ‡å‡†å¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ï¼Œä½†å¯¹æŸé—®é¢˜èƒ½é€‰æ‹©å‡ºæœ€ä¼˜é‡åº¦æ ‡å‡†åï¼Œç”¨è´ªå©ªç®—æ³•æ±‚è§£åˆ™ç‰¹åˆ«æœ‰æ•ˆã€‚\r\n\r\n### åˆ†æ²»æ³•\r\n\r\nåˆ†æ²»æ³•æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œå†æŠŠå­é—®é¢˜åˆ†æˆæ›´å°çš„å­é—®é¢˜â€¦â€¦ç›´åˆ°æœ€åå­é—®é¢˜å¯ä»¥ç®€å•çš„ç›´æ¥æ±‚è§£ï¼ŒåŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„åˆå¹¶ã€‚\r\n\r\nåˆ†æ²»æ³•æ‰€èƒ½è§£å†³çš„é—®é¢˜ä¸€èˆ¬å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ï¼š\r\n\r\n(1) è¯¥é—®é¢˜çš„è§„æ¨¡ç¼©å°åˆ°ä¸€å®šçš„ç¨‹åº¦å°±å¯ä»¥å®¹æ˜“åœ°è§£å†³ï¼›\r\n\r\n(2) è¯¥é—®é¢˜å¯ä»¥åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„ç›¸åŒé—®é¢˜ï¼Œå³è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼›\r\n\r\n(3) åˆ©ç”¨è¯¥é—®é¢˜åˆ†è§£å‡ºçš„å­é—®é¢˜çš„è§£å¯ä»¥åˆå¹¶ä¸ºè¯¥é—®é¢˜çš„è§£ï¼›\r\n\r\n(4) è¯¥é—®é¢˜æ‰€åˆ†è§£å‡ºçš„å„ä¸ªå­é—®é¢˜æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå³å­é—®é¢˜ä¹‹é—´ä¸åŒ…å«å…¬å…±çš„å­å­é—®é¢˜ã€‚\r\n\r\n### åŠ¨æ€è§„åˆ’æ³•\r\n\r\nåŠ¨æ€è§„åˆ’æ˜¯ä¸€ç§åœ¨æ•°å­¦å’Œè®¡ç®—æœºç§‘å­¦ä¸­ä½¿ç”¨çš„ï¼Œç”¨äºæ±‚è§£åŒ…å«é‡å å­é—®é¢˜çš„æœ€ä¼˜åŒ–é—®é¢˜çš„æ–¹æ³•ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼Œå°†åŸé—®é¢˜åˆ†è§£ä¸ºç›¸ä¼¼çš„å­é—®é¢˜ï¼Œåœ¨æ±‚è§£çš„è¿‡ç¨‹ä¸­é€šè¿‡å­é—®é¢˜çš„è§£æ±‚å‡ºåŸé—®é¢˜çš„è§£ã€‚åŠ¨æ€è§„åˆ’çš„æ€æƒ³æ˜¯å¤šç§ç®—æ³•çš„åŸºç¡€ï¼Œè¢«å¹¿æ³›åº”ç”¨äºè®¡ç®—æœºç§‘å­¦å’Œå·¥ç¨‹é¢†åŸŸã€‚\r\n\r\nåŠ¨æ€è§„åˆ’ç¨‹åºè®¾è®¡æ˜¯å¯¹è§£æœ€ä¼˜åŒ–é—®é¢˜çš„ä¸€ç§é€”å¾„ã€ä¸€ç§æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¸€ç§ç‰¹æ®Šç®—æ³•ã€‚ä¸è±¡å‰é¢æ‰€è¿°çš„é‚£äº›æœç´¢æˆ–æ•°å€¼è®¡ç®—é‚£æ ·ï¼Œå…·æœ‰ä¸€ä¸ªæ ‡å‡†çš„æ•°å­¦è¡¨è¾¾å¼å’Œæ˜ç¡®æ¸…æ™°çš„è§£é¢˜æ–¹æ³•ã€‚åŠ¨æ€è§„åˆ’ç¨‹åºè®¾è®¡å¾€å¾€æ˜¯é’ˆå¯¹ä¸€ç§æœ€ä¼˜åŒ–é—®é¢˜ï¼Œç”±äºå„ç§é—®é¢˜çš„æ€§è´¨ä¸åŒï¼Œç¡®å®šæœ€ä¼˜è§£çš„æ¡ä»¶ä¹Ÿäº’ä¸ç›¸åŒï¼Œå› è€ŒåŠ¨æ€è§„åˆ’çš„è®¾è®¡æ–¹æ³•å¯¹ä¸åŒçš„é—®é¢˜ï¼Œæœ‰å„å…·ç‰¹è‰²çš„è§£é¢˜æ–¹æ³•ï¼Œè€Œä¸å­˜åœ¨ä¸€ç§ä¸‡èƒ½çš„åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œå¯ä»¥è§£å†³å„ç±»æœ€ä¼˜åŒ–é—®é¢˜ã€‚å› æ­¤è¯»è€…åœ¨å­¦ä¹ æ—¶ï¼Œé™¤äº†è¦å¯¹åŸºæœ¬æ¦‚å¿µå’Œæ–¹æ³•æ­£ç¡®ç†è§£å¤–ï¼Œå¿…é¡»å…·ä½“é—®é¢˜å…·ä½“åˆ†æå¤„ç†ï¼Œä»¥ä¸°å¯Œçš„æƒ³è±¡åŠ›å»å»ºç«‹æ¨¡å‹ï¼Œç”¨åˆ›é€ æ€§çš„æŠ€å·§å»æ±‚è§£ã€‚\r\n\r\n### è¿­ä»£æ³•\r\n\r\nè¿­ä»£æ³•ä¹Ÿç§°è¾—è½¬æ³•ï¼Œæ˜¯ä¸€ç§ä¸æ–­ç”¨å˜é‡çš„æ—§å€¼é€’æ¨æ–°å€¼çš„è¿‡ç¨‹ï¼Œè·Ÿè¿­ä»£æ³•ç›¸å¯¹åº”çš„æ˜¯ç›´æ¥æ³•ï¼ˆæˆ–è€…ç§°ä¸ºä¸€æ¬¡è§£æ³•ï¼‰ï¼Œå³ä¸€æ¬¡æ€§è§£å†³é—®é¢˜ã€‚è¿­ä»£æ³•åˆåˆ†ä¸ºç²¾ç¡®è¿­ä»£å’Œè¿‘ä¼¼è¿­ä»£ã€‚â€œäºŒåˆ†æ³•â€å’Œâ€œç‰›é¡¿è¿­ä»£æ³•â€å±äºè¿‘ä¼¼è¿­ä»£æ³•ã€‚è¿­ä»£ç®—æ³•æ˜¯ç”¨è®¡ç®—æœºè§£å†³é—®é¢˜çš„ä¸€ç§åŸºæœ¬æ–¹æ³•ã€‚å®ƒåˆ©ç”¨è®¡ç®—æœºè¿ç®—é€Ÿåº¦å¿«ã€é€‚åˆåšé‡å¤æ€§æ“ä½œçš„ç‰¹ç‚¹ï¼Œè®©è®¡ç®—æœºå¯¹ä¸€ç»„æŒ‡ä»¤ï¼ˆæˆ–ä¸€å®šæ­¥éª¤ï¼‰è¿›è¡Œé‡å¤æ‰§è¡Œï¼Œåœ¨æ¯æ¬¡æ‰§è¡Œè¿™ç»„æŒ‡ä»¤ï¼ˆæˆ–è¿™äº›æ­¥éª¤ï¼‰æ—¶ï¼Œéƒ½ä»å˜é‡çš„åŸå€¼æ¨å‡ºå®ƒçš„ä¸€ä¸ªæ–°å€¼ã€‚\r\n\r\n### åˆ†æ”¯ç•Œé™æ³•\r\n\r\nåˆ†æç•Œé™æ³•æ˜¯ä¸€ä¸ªç”¨é€”ååˆ†å¹¿æ³›çš„ç®—æ³•ï¼Œè¿ç”¨è¿™ç§ç®—æ³•çš„æŠ€å·§æ€§å¾ˆå¼ºï¼Œä¸åŒç±»å‹çš„é—®é¢˜è§£æ³•ä¹Ÿå„ä¸ç›¸åŒã€‚\r\n\r\nåˆ†æ”¯å®šç•Œæ³•çš„åŸºæœ¬æ€æƒ³æ˜¯å¯¹æœ‰çº¦æŸæ¡ä»¶çš„æœ€ä¼˜åŒ–é—®é¢˜çš„æ‰€æœ‰å¯è¡Œè§£ï¼ˆæ•°ç›®æœ‰é™ï¼‰ç©ºé—´è¿›è¡Œæœç´¢ã€‚è¯¥ç®—æ³•åœ¨å…·ä½“æ‰§è¡Œæ—¶ï¼ŒæŠŠå…¨éƒ¨å¯è¡Œçš„è§£ç©ºé—´ä¸æ–­åˆ†å‰²ä¸ºè¶Šæ¥è¶Šå°çš„å­é›†ï¼ˆç§°ä¸ºåˆ†æ”¯ï¼‰ï¼Œå¹¶ä¸ºæ¯ä¸ªå­é›†å†…çš„è§£çš„å€¼è®¡ç®—ä¸€ä¸ªä¸‹ç•Œæˆ–ä¸Šç•Œï¼ˆç§°ä¸ºå®šç•Œï¼‰ã€‚åœ¨æ¯æ¬¡åˆ†æ”¯åï¼Œå¯¹å‡¡æ˜¯ç•Œé™è¶…å‡ºå·²çŸ¥å¯è¡Œè§£å€¼é‚£äº›å­é›†ä¸å†åšè¿›ä¸€æ­¥åˆ†æ”¯ï¼Œè¿™æ ·ï¼Œè§£çš„è®¸å¤šå­é›†ï¼ˆå³æœç´¢æ ‘ä¸Šçš„è®¸å¤šç»“ç‚¹ï¼‰å°±å¯ä»¥ä¸äºˆè€ƒè™‘äº†ï¼Œä»è€Œç¼©å°äº†æœç´¢èŒƒå›´ã€‚è¿™ä¸€è¿‡ç¨‹ä¸€ç›´è¿›è¡Œåˆ°æ‰¾å‡ºå¯è¡Œè§£ä¸ºæ­¢ï¼Œè¯¥å¯è¡Œè§£çš„å€¼ä¸å¤§äºä»»ä½•å­é›†çš„ç•Œé™ã€‚å› æ­¤è¿™ç§ç®—æ³•ä¸€èˆ¬å¯ä»¥æ±‚å¾—æœ€ä¼˜è§£ã€‚\r\n\r\nä¸è´ªå¿ƒç®—æ³•ä¸€æ ·ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿæ˜¯ç”¨æ¥ä¸ºç»„åˆä¼˜åŒ–é—®é¢˜è®¾è®¡æ±‚è§£ç®—æ³•çš„ï¼Œæ‰€ä¸åŒçš„æ˜¯å®ƒåœ¨é—®é¢˜çš„æ•´ä¸ªå¯èƒ½è§£ç©ºé—´æœç´¢ï¼Œæ‰€è®¾è®¡å‡ºæ¥çš„ç®—æ³•è™½å…¶æ—¶é—´å¤æ‚åº¦æ¯”è´ªå©ªç®—æ³•é«˜ï¼Œä½†å®ƒçš„ä¼˜ç‚¹æ˜¯ä¸ç©·ä¸¾æ³•ç±»ä¼¼ï¼Œéƒ½èƒ½ä¿è¯æ±‚å‡ºé—®é¢˜çš„æœ€ä½³è§£ï¼Œè€Œä¸”è¿™ç§æ–¹æ³•ä¸æ˜¯ç›²ç›®çš„ç©·ä¸¾æœç´¢ï¼Œè€Œæ˜¯åœ¨æœç´¢è¿‡ç¨‹ä¸­é€šè¿‡é™ç•Œï¼Œå¯ä»¥ä¸­é€”åœæ­¢å¯¹æŸäº›ä¸å¯èƒ½å¾—åˆ°æœ€ä¼˜è§£çš„å­ç©ºé—´è¿›ä¸€æ­¥æœç´¢ï¼ˆç±»ä¼¼äºäººå·¥æ™ºèƒ½ä¸­çš„å‰ªæï¼‰ï¼Œæ•…å®ƒæ¯”ç©·ä¸¾æ³•æ•ˆç‡æ›´é«˜ã€‚\r\n\r\n### å›æº¯æ³•\r\n\r\nå›æº¯æ³•ï¼ˆæ¢ç´¢ä¸å›æº¯æ³•ï¼‰æ˜¯ä¸€ç§é€‰ä¼˜æœç´¢æ³•ï¼ŒæŒ‰é€‰ä¼˜æ¡ä»¶å‘å‰æœç´¢ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ã€‚ä½†å½“æ¢ç´¢åˆ°æŸä¸€æ­¥æ—¶ï¼Œå‘ç°åŸå…ˆé€‰æ‹©å¹¶ä¸ä¼˜æˆ–è¾¾ä¸åˆ°ç›®æ ‡ï¼Œå°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©ï¼Œè¿™ç§èµ°ä¸é€šå°±é€€å›å†èµ°çš„æŠ€æœ¯ä¸ºå›æº¯æ³•ï¼Œè€Œæ»¡è¶³å›æº¯æ¡ä»¶çš„æŸä¸ªçŠ¶æ€çš„ç‚¹ç§°ä¸ºâ€œå›æº¯ç‚¹â€ã€‚\r\n\r\nå…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼Œåœ¨åŒ…å«é—®é¢˜çš„æ‰€æœ‰è§£çš„è§£ç©ºé—´æ ‘ä¸­ï¼ŒæŒ‰ç…§æ·±åº¦ä¼˜å…ˆæœç´¢çš„ç­–ç•¥ï¼Œä»æ ¹ç»“ç‚¹å‡ºå‘æ·±åº¦æ¢ç´¢è§£ç©ºé—´æ ‘ã€‚å½“æ¢ç´¢åˆ°æŸä¸€ç»“ç‚¹æ—¶ï¼Œè¦å…ˆåˆ¤æ–­è¯¥ç»“ç‚¹æ˜¯å¦åŒ…å«é—®é¢˜çš„è§£ï¼Œå¦‚æœåŒ…å«ï¼Œå°±ä»è¯¥ç»“ç‚¹å‡ºå‘ç»§ç»­æ¢ç´¢ä¸‹å»ï¼Œå¦‚æœè¯¥ç»“ç‚¹ä¸åŒ…å«é—®é¢˜çš„è§£ï¼Œåˆ™é€å±‚å‘å…¶ç¥–å…ˆç»“ç‚¹å›æº¯ã€‚ï¼ˆå…¶å®å›æº¯æ³•å°±æ˜¯å¯¹éšå¼å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼‰ã€‚ è‹¥ç”¨å›æº¯æ³•æ±‚é—®é¢˜çš„æ‰€æœ‰è§£æ—¶ï¼Œè¦å›æº¯åˆ°æ ¹ï¼Œä¸”æ ¹ç»“ç‚¹çš„æ‰€æœ‰å¯è¡Œçš„å­æ ‘éƒ½è¦å·²è¢«æœç´¢éæ‰ç»“æŸã€‚ è€Œè‹¥ä½¿ç”¨å›æº¯æ³•æ±‚ä»»ä¸€ä¸ªè§£æ—¶ï¼Œåªè¦æœç´¢åˆ°é—®é¢˜çš„ä¸€ä¸ªè§£å°±å¯ä»¥ç»“æŸã€‚\r\n\r\n## ç»“è¯­\r\n\r\ncvç»“æŸï¼Œç®—æ³•å¤ªéš¾äº†ã€‚","post/2020/20200810/":"\n## å‰è¨€\n\nçªç„¶é—²çš„æ²¡äº‹,ä»Mojaveå‡çº§åˆ°Catalina,é¡ºè¾¾è®°å½•ä¸€ä¸‹.\n\nè¿™é‡Œæç¤ºä¸€ä¸‹,é»‘è‹¹æœæ­£å¸¸æ˜¯éœ€è¦ç¡¬ä»¶æ”¯æŒçš„,å…¶æ¬¡æ˜¯efi(ä¼šè‡ªå·±æ”¹å½“æ²¡è¯´),ä¸è¿‡åŸºæœ¬ä¸Šéƒ½æ˜¯éœ€è¦iu,è€Œä¸”ç‹¬æ˜¾ä¸€èˆ¬é©±åŠ¨ä¸äº†,wifi è“ç‰™ä¹Ÿå¯èƒ½é©±åŠ¨ä¸äº†,ä½†æ˜¯éšä¾¿æŠ˜è…¾ä¸€ä¸‹,ä¹Ÿå‹‰å¼ºèƒ½ç”¨,æŠ˜è…¾å§,å‰æµª.\n\nä»¥å‰è®°å½•åŒç³»ç»Ÿå®‰è£…è®°å½•.ä»…ä¾›å‚è€ƒ.\n\n## å‡†å¤‡\n\n- ~~8~~16g+Uç›˜(catalinaéƒ¨åˆ†é•œåƒ8gä¸å¤Ÿ,å»ºè®®16g)\n- é•œåƒ(æ¨è[é»‘æœå°å…µ](https://blog.daliansky.net/)ä¸‹è½½,ç›´æ¥æœç´¢ç‰ˆæœ¬å·)\n- EFIæ”¯æŒé•œåƒ\n  - è¿™é‡Œè¯´æ˜ä¸€ä¸‹,ä¸€èˆ¬åˆ«äººç»´æŠ¤çš„efiæ–‡ä»¶,éƒ½æœ‰æ³¨æ˜æ”¯æŒçš„é•œåƒç‰ˆæœ¬\n  - è‡³äºefiæ”¯æŒä»¥åŠå¯¹åº”çš„é•œåƒç‰ˆæœ¬,å¯ä»¥çœ‹çœ‹è¿™ä¸ª[repo](https://github.com/daliansky/Hackintosh)\n\nä»¥ä¸‹å†…å®¹ä»¥å°ç±³airä¸ºä¾‹,å…¶ä»–è‡ªè¡Œå˜é€š.\n\n## ä»€ä¹ˆæ˜¯EFI\n\nå…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“,æš‚ä¸”ç†è§£æˆä¸€ä¸ªå¯åŠ¨ç¨‹åºåŠä¸€äº›é…ç½®æ–‡ä»¶,ä½œç”¨æ˜¯å¼•å¯¼ç³»ç»Ÿåˆ†åŒº.\n\nè¿™é‡Œé€šè¿‡åˆšæ‰é‚£ä¸ªrepo,æˆ‘è¿›å…¥åˆ°äº†å…·ä½“çš„[efiä»“åº“](https://github.com/jasper-wan/Xiaomi-Air-i5-7200U)\n\nè¿™ä¸ªä»“åº“,å¯ä»¥çœ‹åˆ°,è¿™ä¸ªefiæ”¯æŒçš„é•œåƒ,æ”¯æŒçš„ç¡¬ä»¶,ä¸ç®¡,å…ˆdownä¸‹æ¥.\n\nè®°å¾—ä¹‹åæœ‰æ•ˆçš„æ˜¯bootå’Œcloverè¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹,åˆ°æ—¶è¦ç”¨\n\n## å…·ä½“æ­¥éª¤\n\n1. åœ¨ç¡®å®šäº†é•œåƒ,efiå¹¶ä¸‹è½½å®Œæˆä¹‹å,ä¸‹è½½ä¸€ä¸ª[etcher](https://www.balena.io/etcher/)\n2. åˆ©ç”¨etcherå°†é•œåƒåˆ·Uç›˜\n3. åˆ©ç”¨[DiskGenius](http://download.eassos.cn/DG5301066_x64.zip)å·¥å…·,å°†Uç›˜ä¸­çš„efiåˆ†åŒºçš„æ–‡ä»¶æ›¿æ¢æˆä¸Šé¢è‡ªå·±ä¸‹è½½çš„efiæ–‡ä»¶,ä¹Ÿå°±æ˜¯ä¹‹å‰æåˆ°çš„bootå’Œcloverä¸¤ä¸ªæ–‡ä»¶å¤¹.\n4. ç©ºå‡ºä¸€ä¸ªåˆ†åŒº,ç”¨äºå®‰è£…MacOS,åˆ©ç”¨windowsçš„ç£ç›˜ç®¡ç†å·¥å…·\nâ€‹\tå…·ä½“æ“ä½œä¸ä¼šçš„ç™¾åº¦,å»ºè®®æ˜¯ä¸ä½äº60gçš„å¤§å°(è¿™ä¸ªåº”è¯¥éƒ½ä¼š)\n\n\nâ€‹å¯¹äº†,æ²¡è®°é”™çš„è¯,è¿˜éœ€è¦å°†æœ¬åœ°esp/efiåˆ†åŒºæ‰©å±•åˆ°200-300MB,ä¸Šå›¾å¯ä»¥çœ‹åˆ°æˆ‘å·²ç»æ‰©å±•åˆ°äº†299,è¿™é‡Œå†ç®€å•è¯´ä¸€ä¸‹ä½¿ç”¨dgè¿›è¡Œespæ‰©å®¹,ä¸é€‚ç”¨å¯ä»¥è‡ªè¡Œç™¾åº¦\n\næ­¤æ—¶å‘ç°å·²ç»å¯ä»¥æ‰©å¤§äº†.\n\nå»ºè®®æ˜¯200+,ä½†æ˜¯æœ€å¥½**ç¨å¾®**å¤šç‚¹,æ‰€ä»¥æˆ‘æ‰©å®¹åˆ°äº†299(è‡ªè¡ŒæŠ‰æ‹©)\n\n5. ä¹‹å,ä½ å°±å¯ä»¥æ’ä¸ŠUç›˜,è¿›å…¥bios(è®°å¾—æŠŠSecure Boot Modeè®¾ç½®ä¸ºfalse,æ¯ä¸ªæœºå‹biosä¸åŒ,æ‰€ä»¥è‡ªè¡Œç™¾åº¦)è®¾ç½®Uç›˜ä¸ºå¯åŠ¨é¦–é€‰é¡¹,ä¸å‡ºæ„å¤–å¯ä»¥çœ‹åˆ°cloverèœå•,æœ‰ä¸ªé€‰é¡¹æ˜¯install MacOS,é€‰ä»–Enter.\n\nå…ˆé€‰æ‹©ç£ç›˜å·¥å…·,å·¦ä¸Šè§’æ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡\n\n\næ‰¾åˆ°ä½ ç©ºå‡ºæ¥çš„åˆ†åŒº,å°†å…¶æŠ¹æ‰.\n\n\nå¥½äº†ä¹‹åé€€å‡º,è¿›è¡Œmacosçš„å®‰è£…\n\n\næ— è„‘è¿‡\n\nè¿™é‡Œé€‰æ‹©çš„æ˜¯åˆšæ ¼å¼åŒ–å¥½çš„åˆ†åŒº.\n\nè‡³æ­¤,ç¬¬ä¸€é˜¶æ®µçš„å®‰è£…å°±ç»“æŸäº†,\n\nå³å°†è¿›å…¥ç¬¬äºŒé˜¶æ®µçš„å®‰è£…,æˆ‘çš„æƒ…å†µæ˜¯é‡å¯è¿›å…¥clover,æ­¤æ—¶å¤šäº†ä¸ªé€‰é¡¹,é™¤äº†install macoså¤–è¿˜å¤šå‡ºäº†ä¸ªboot macos,é€‰è¿™ä¸ª,ç„¶ååˆæ˜¯æ¼«é•¿çš„ç­‰å¾…,å¯èƒ½ä¼šé‡å¯æ•°æ¬¡,ç­‰å°±è¡Œäº†.\n\næœ€å,å¦‚æœä½ çœ‹åˆ°è®¾ç½®å‘å¯¼å°±åŸºæœ¬æ²¡é—®é¢˜äº†.\n\n\nåˆ°è¿™ä¸ªä¹‹ååŸºæœ¬æ²¡é—®é¢˜äº†,è¿‡å®Œä¹‹å,ä½ å°±å¯ä»¥çœ‹åˆ°æ¡Œé¢äº†\n\n7. æœ€å,å°±æ˜¯æŠŠUç›˜çš„espä¸­çš„cloverå¼•å¯¼å¤åˆ¶åˆ°æœ¬åœ°esp/efi(ä¸ä¼šæœ‰äººå¤©å¤©æ’ç€Uç›˜å¼•å¯¼å§)\n\nè¿™ä¸ªå°±æ˜¯ä»uç›˜çš„efiä¸­å¤åˆ¶å‡ºæ¥çš„clover,ç„¶åæ”¾åˆ°æœ¬åœ°çš„example(Uç›˜æ‹”äº†,æ‰€ä»¥åªæœ‰1å¼ å›¾)\n\nç„¶åä¸‹è½½[bootice](https://bootice.en.softonic.com/),æœ‰çš„äººå–œæ¬¢ç”¨easy uefiä¹Ÿå¯ä»¥\n\nè¿˜è®°å¾—åˆšæ‰æœ‰ä¸ªbiosä¿®æ”¹Uç›˜ä¸ºé¦–é€‰å¯åŠ¨é¡¹çš„æ“ä½œå˜›,ä½¿ç”¨è¿™ä¸ªè½¯ä»¶,å¯ä»¥ç›´æ¥ä¿®æ”¹\n\næ­¤æ—¶æˆ‘ä»¬è¦åšçš„å°±æ˜¯åˆ©ç”¨è¯¥è½¯ä»¶æŒ‚è½½æœ¬åœ°esp/efiåˆ†åŒº,æ·»åŠ å¯åŠ¨é¡¹,å¹¶è®¾ç½®ä¸ºé¦–é€‰å¯åŠ¨é¡¹.\n\nè¿›è¡ŒæŒ‚è½½\n\nç„¶åè¿›å…¥uefiä¿®æ”¹å¯åŠ¨åºåˆ—\n\nç‚¹å‡»æ·»åŠ ,å¼¹å‡ºèµ„æºç®¡ç†å™¨,é€‰æ‹©åˆšæ‰æŒ‚è½½çš„æœ¬åœ°espåˆ†åŒº,ä¹Ÿå°±æ˜¯eç›˜,ä¸­çš„cloverä¸‹çš„.efiæ–‡ä»¶\n\nä¹‹åå°±ä¼šå¤šå‡ºä¸€ä¸ªå¯åŠ¨é¡¹,å°†å…¶ç§»åŠ¨åˆ°é¡¶éƒ¨\n\nå•å‡»ä¿å­˜å½“å‰å¯åŠ¨é¡¹è®¾ç½®,\n\nåˆ°åˆ†åŒºç®¡ç†åˆ é™¤ç›˜ç¬¦\n\næ‹”æ‰Uç›˜\n\næ­£å¸¸å¼•å¯¼\n\nç»“æŸ!\n\n## æœ€å\n\næ›´å¤šç»†èŠ‚é—®é¢˜(æ·±å‘),å¯ä»¥å»[é»‘æœå°å…µ](https://blog.daliansky.net/)åšå®¢é€›é€›.over.\n","post/2020/20201028/":"\r\n\r\n## æºç \r\næ˜¨å¤©çœ‹åˆ°ä¸ªéå¸¸èŠ±é‡Œèƒ¡å“¨çš„æŒ‰é’®æ•ˆæœï¼Œè®°å½•ä¸€ä¸‹\r\n\r\n``` html\r\n\u003C!DOCTYPE html>\r\n\u003Chtml lang=\"en\">\r\n\r\n\u003Chead>\r\n    \u003Cmeta charset=\"UTF-8\">\r\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    \u003Ctitle>Document\u003C/title>\r\n    \u003Cstyle>\r\n        * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        body {\r\n            width: 100vw;\r\n            height: 100vh;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            background-color: #222;\r\n        }\r\n\r\n        a {\r\n            text-transform: uppercase;\r\n            width: 400px;\r\n            height: 100px;\r\n            text-decoration: none;\r\n            font-size: 24px;\r\n            color: white;\r\n            text-align: center;\r\n            line-height: 100px;\r\n            position: relative;\r\n            border-radius: 50px;\r\n            background-image: linear-gradient(to right, #77A1D3, #79CBCA, #E684AE, #77A1D3);\r\n            background-size: 400%;\r\n            z-index: 1;\r\n        }\r\n\r\n        a:hover {\r\n            animation: streamer 4s infinite linear;\r\n        }\r\n\r\n        a::before {\r\n            content: '';\r\n            position: absolute;\r\n            top: -5px;\r\n            bottom: -5px;\r\n            left: -5px;\r\n            right: -5px;\r\n            border-radius: 50px;\r\n            /** half of height, the same as button */\r\n            background-image: linear-gradient(to right, #77A1D3, #79CBCA, #E684AE, #77A1D3);\r\n            background-size: 400%;\r\n            z-index: -1;\r\n            filter: blur(20px);\r\n        }\r\n\r\n        a:hover::before {\r\n            animation: streamer 4s infinite linear;\r\n        }\r\n\r\n        @keyframes streamer {\r\n            100% {\r\n                background-position: -400% 0;\r\n            }\r\n        }\r\n    \u003C/style>\r\n\u003C/head>\r\n\r\n\u003Cbody>\r\n    \u003Ca href=\"#\">button\u003C/a>\r\n\u003C/body>\r\n\r\n\u003C/html>\r\n```\r\næ•ˆæœå¦‚ä¸‹\r\n\r\n![](https://cdn.jsdelivr.net/gh/alightyoung/static/img/streamer.gif)\r\n\r\n\r\n","post/2020/20201029/":"\r\n## æºç \r\n\r\n``` html\r\n\u003C!DOCTYPE html>\r\n\u003Chtml lang=\"en\">\r\n\u003Chead>\r\n    \u003Cmeta charset=\"UTF-8\">\r\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    \u003Ctitle>Document\u003C/title>\r\n    \u003Cstyle>\r\n        *{\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n        body{\r\n            height: 100vh;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            background-color: #222;\r\n        }\r\n        h1{\r\n            position: relative;\r\n            text-transform: uppercase;\r\n            color: #333;\r\n            font-size: 4rem;\r\n        }\r\n        h1::after{\r\n            position: absolute;\r\n            content: 'spotlight';\r\n            left: 0;\r\n            top:0;\r\n            color: transparent;\r\n            background-image:linear-gradient(to right,#E64845,#E68545,#E6CB45,#A5E645,#45E668,#45ABE6,#C845E6) ;\r\n            /* background-clip: text; */\r\n            -webkit-background-clip: text; /* works on chrome */\r\n            clip-path: circle(2rem at 0% 50%);\r\n            animation: move 5s infinite cubic-bezier(.58,.13,.4,.87);\r\n        }\r\n\r\n        @keyframes move{\r\n            0%{\r\n                clip-path: circle(2rem at 0% 50%);\r\n            }\r\n            50%{\r\n                clip-path: circle(2rem at 100% 50%);\r\n            }\r\n            100%{\r\n                clip-path: circle(2rem at 0% 50%);\r\n            }\r\n        }\r\n    \u003C/style>\r\n\u003C/head>\r\n\u003Cbody>\r\n    \u003Ch1>spotlight\u003C/h1>\r\n\u003C/body>\r\n\u003C/html>\r\n```\r\n\r\n![spotlight](https://cdn.jsdelivr.net/gh/alightyoung/static/img/spotlight.gif)","post/2020/20201107/":"\n#### vscode\n\nè½¯ä»¶çš„ä¸‹è½½å®‰è£…ä¸å¤šè¯´ æ”¾ä¸ªé“¾æ¥ [https://code.visualstudio.com/docs/?dv=win](https://code.visualstudio.com/docs/?dv=win)\n\nä¸‹è½½ä¹‹åå®‰è£…`c/c++`ä»¥åŠ`code runner`æ’ä»¶\n\n#### mingw64\n\n:::tip\næµ‹è¯•ç¯å¢ƒä¸‹è½½çš„æ˜¯8.1çš„`x86_64-posix-seh`ç‰ˆæœ¬\n:::\n\n![image-20201107112410016](https://cdn.jsdelivr.net/gh/alightyoung/static/img/image-20201107112410016.png)\n\né“¾æ¥ [https://sourceforge.net/projects/mingw-w64/files/mingw-w64/mingw-w64-release/](https://sourceforge.net/projects/mingw-w64/files/mingw-w64/mingw-w64-release/)\n\nä¸‹å®Œæ”¾åˆ°ä½ è§‰å¾—åˆé€‚çš„åœ°æ–¹,ç„¶åé…ç½®å¥½ç¯å¢ƒå˜é‡(å³é”®æ­¤ç”µè„‘->å±æ€§->é«˜çº§ç³»ç»Ÿè®¾ç½®->ç¯å¢ƒå˜é‡->ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„Path->ç¼–è¾‘->æ–°å¢->`${ä½ ç”µè„‘ä¸Šmingwçš„ç›®å½•}/bin`)\n\né…å®Œååœ¨cmdè¾“å…¥`gcc -v`æµ‹è¯•ä¸€ä¸‹\n\nå¦‚æœä½ ä¸æƒ³ä½“éªŒclangçš„è¯,æ­¤åˆ»ä¾¿å¯ä»¥æ‰“å¼€vscode,å†™ä¸€ä¸ªcç¨‹åºè¿›è¡Œæµ‹è¯•äº†(å‰ææ˜¯è£…å¥½äº†æ’ä»¶)\n\n![image-20201107114407473](https://cdn.jsdelivr.net/gh/alightyoung/static/img/image-20201107114407473.png)\n\n![image-20201107114318486](https://cdn.jsdelivr.net/gh/alightyoung/static/img/image-20201107114318486.png)\n\n#### clang\n\nåœ°å€ [https://releases.llvm.org/download.html](https://releases.llvm.org/download.html)\n\n![image-20201107114545259](https://cdn.jsdelivr.net/gh/alightyoung/static/img/image-20201107114545259.png)\n\nå®‰è£…çš„æ—¶å€™è®°å¾—åŠ ä¸Šç¯å¢ƒå˜é‡(çœçš„è‡ªå·±å†é…ç½®)\n\n![image-20201107114857037](https://cdn.jsdelivr.net/gh/alightyoung/static/img/image-20201107114857037.png)\n\nå®‰è£…å¥½äº†åŒæ ·å¯ä»¥æ‰“å¼€cmd æ‰§è¡Œ`clang -v`æµ‹è¯•ä»¥ä¸‹\n\nå¥½äº†ä¹‹åéœ€è¦ä¿®æ”¹ä»¥ä¸‹vscodeçš„code runneræ’ä»¶cè¯­è¨€è¿è¡Œé…ç½®\n\nç›´æ¥æ‰“å¼€jsoné…ç½®æ–‡ä»¶\n\n![image-20201107131845814](https://cdn.jsdelivr.net/gh/alightyoung/static/img/image-20201107131845814.png)\n\n```json\n// æ–¹ä¾¿å¤åˆ¶è´´ä¸€ä¸‹\n\"c\": \"cd $dir && clang $fileName -o $fileNameWithoutExt --target=x86_64-pc-windows-gnu && $dir$fileNameWithoutExt\",\n```\n\nå¤åˆ¶åŸæ¥çš„ä¸€ä»½,çº¢æ¡†éƒ¨åˆ†æ˜¯ä¿®æ”¹ä¹‹åçš„è¿è¡Œå‘½ä»¤\n\nä¹‹åå†è¿è¡Œä¸€ä¸‹`test.c`æ–‡ä»¶\n\n![image-20201107132105517](https://cdn.jsdelivr.net/gh/alightyoung/static/img/image-20201107132105517.png)\n\nå®Œäº‹äº†!\n\n#### å®˜æ–¹æ–‡æ¡£\n\nå¦‚æœä½ éœ€è¦debugç­‰å…¶ä»–åŠŸèƒ½çš„è¯ ,å¯ä»¥å‚è€ƒä¸€ä¸‹å®˜æ–¹çš„æ–‡æ¡£\n\n[https://code.visualstudio.com/docs/cpp/config-mingw](https://code.visualstudio.com/docs/cpp/config-mingw)\n","post/2020/20201122/":"\r\n> å»ºè®®é‡‡å–hlsåˆ†ç‰‡ï¼ˆæˆ–è€…å…¶ä»–è§†é¢‘æ’­æ”¾æ–¹æ¡ˆï¼‰ï¼Œä½“éªŒä¼šå¥½å¾ˆå¤šã€‚\r\n\r\n#### æºèµ·\r\n\r\nçªç„¶æƒ³å†™ä¸€ä¸ªè§†é¢‘ç«™ç©ç©ï¼Œæ­£å¥½ä¹Ÿèƒ½æŒ‚pcç»™å±€åŸŸç½‘è®¾å¤‡è§‚çœ‹ï¼ˆæ­£ç»äººè°ç”¨æ‰‹æœºå­˜ä¸€å †ç”µå½±å•Šï¼‰ï¼Œæ‰€ä»¥å¼€å§‹äº†è¸©å‘ä¹‹æ—…ã€‚\r\n\r\nè´´å¼ æœ€åçš„æ•ˆæœå›¾\r\n\r\n![image-20201122145047889](https://cdn.jsdelivr.net/gh/alightyoung/static/img/image-20201122145047889.png)\r\n\r\nå‹‰å¼ºèƒ½çœ‹ - -ï¼ˆé€‚é…æ˜¯ä¸å¯èƒ½çš„ï¼Œè¿™è¾ˆå­éƒ½ä¸å¯èƒ½ï¼‰\r\n\r\n#### æŠ€æœ¯\r\n\r\nè™½è¯´æ˜¯æœ´å®æ— åçš„é¡µé¢ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªå‰ç«¯æ¸£æ¥è¯´è¿˜æ˜¯å†™äº†æŒºä¹…ï¼ˆèœå“­ï¼‰\r\n\r\næŠ€æœ¯å…¶å®æ²¡å•¥ï¼Œä¸»è¦æ˜¯videojsçš„åŸºæœ¬ä½¿ç”¨ï¼Œé¡µé¢æ€ä¹ˆé«˜å…´æ€ä¹ˆå†™\r\n\r\nè§†é¢‘åˆ—è¡¨æ–‡ä»¶è·å–æ˜¯nodeï¼ˆexpressï¼‰å†™çš„ä¸€ä¸ªæ¥å£ï¼ˆå†™ä¸ªå°æ¥å£çœŸæ–¹ä¾¿- -ï¼‰\r\n\r\næœ€åä¸ºäº†æ–¹ä¾¿é™æ€èµ„æºä¹Ÿæ˜¯æ”¾åœ¨äº†expressä¸‹\r\n\r\nè§‰å¾—æ€§èƒ½å·®çš„ä¹Ÿå¯ä»¥ç”¨nginxä¹‹ç±»ä¹Ÿè¡Œï¼ˆåæ­£æˆ‘æ”¾äº†- -ï¼‰\r\n\r\n#### æºç \r\n\r\næœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±æ‹‰ä»£ç \r\n\r\n[https://gitee.com/AlightYoung/video-player](https://gitee.com/AlightYoung/video-player)\r\n\r\nreadmeå·²ç»å†™çš„å¾ˆè¯¦ç»†\r\n\r\n#### æœ€å\r\n\r\nåˆæ˜¯ä¸åŠ¡æ­£ä¸šçš„ä¸€å¤©- -","post/2021/20210321/":"\r\n#### ä»‹ç» \r\n\r\nJDKæ˜¯ä¸€ä¸ªå¤æ‚çš„è½¯ä»¶é¡¹ç›®ã€‚ æ„å»ºå®ƒéœ€è¦ä¸€å®šçš„æŠ€æœ¯ï¼Œ**ç›¸å½“æ•°é‡çš„å¯¹å¤–éƒ¨è½¯ä»¶çš„ä¾èµ–å…³ç³»**ä»¥åŠ**ç›¸å½“å¼ºå¤§çš„ç¡¬ä»¶**ã€‚ å¦‚æœæ‚¨åªæ˜¯æƒ³ä½¿ç”¨JDKè€Œä¸æ˜¯è‡ªå·±æ„å»ºå®ƒï¼Œé‚£ä¹ˆæœ¬æ–‡ä¸é€‚åˆæ‚¨ã€‚ æœ‰å…³å®‰è£…é¢„æ„å»ºå¥½ä¸åŒå¹³å°çš„JDKçš„ä¸€äº›æ–¹æ³•ï¼Œè¯·å‚è§ä¾‹å¦‚[OpenJDKå®‰è£…](http://openjdk.java.net/install)ã€‚ \r\n\r\n#### æµç¨‹é¢„è§ˆ\r\n\r\n1. è·å–æºä»£ç \r\n\r\n   ```bash\r\n   git clone https://git.openjdk.java.net/jdk/\r\n   ```\r\n\r\n2. è¿›è¡Œé…ç½®æ£€æŸ¥\r\n\r\n   ```bash\r\n   bash configure\r\n   ```\r\n\r\n   å¦‚æœç”±äºç¼ºå°‘ç›¸å…³æ€§ï¼ˆå¯¹å·¥å…·é“¾ï¼Œæ„å»ºå·¥å…·ï¼Œå¤–éƒ¨åº“æˆ–å¼•å¯¼JDKï¼‰è€Œå¯¼è‡´é…ç½®å¤±è´¥ï¼Œåˆ™å¤§å¤šæ•°æƒ…å†µä¸‹å®ƒä¼šæå‡ºæœ‰å…³å¦‚ä½•è§£å†³å¹³å°é—®é¢˜çš„å»ºè®®ã€‚ æŒ‰ç…§è¯´æ˜è¿›è¡Œæ“ä½œï¼Œç„¶åå°è¯•å†æ¬¡è¿è¡Œbash configureã€‚ \r\n\r\n3. è¿›è¡Œç¼–è¯‘\r\n\r\n   ```bash\r\n   make images\r\n   ```\r\n\r\n4. éªŒè¯æ–°æ„å»ºçš„JDK\r\n\r\n   ```bash\r\n   ./build/*/images/jdk/bin/java -version\r\n   ```\r\n\r\n5. è¿è¡ŒåŸºæœ¬æµ‹è¯•\r\n\r\n   ```bash\r\n   make run-test-tier1\r\n   ```\r\n\r\n>çœ‹èµ·æ¥è™½ç„¶å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯å®é™…ä¸Šåªçœ‹è¿™ä¸ªçš„è¯ä¼šæœ‰å¾ˆå¤šé”™è¯¯\r\n\r\n#### è·å–æºä»£ç  \r\n\r\næ­¤æ¬¡ç¼–è¯‘çš„ç‰ˆæœ¬æ˜¯[jdk16u repo](https://github.com/openjdk/jdk16u)\r\n\r\n```bash\r\ngit clone https://github.com/openjdk/jdk16u.git\r\n```\r\n\r\n**ä¸€äº›å»ºè®®**\r\n\r\n-  ä½¿ç”¨Linuxå¯ä»¥é¿å…å¾ˆå¤šé—®é¢˜ï¼ˆæµ‹è¯•ç¯å¢ƒUbuntu 20.04ï¼‰\r\n-  **ä¸è¦**è®©è·¯å¾„åŒ…å«ä¸­æ–‡ï¼Œç©ºæ ¼ç¬¦ï¼Œæˆ–è€…ç›®å½•å¾ˆæ·±ï¼Œä»¥å…å¸¦æ¥ä¸å¿…è¦çš„éº»çƒ¦\r\n- **å»ºè®®**åœ¨SSDä¸Šè¿›è¡Œç¼–è¯‘\r\n- **å»ºè®®**8æ ¸CPUåŠ8Gä»¥ä¸Šå†…å­˜\r\n\r\n#### Boot JDK\r\n\r\næ„å»ºJDKéœ€è¦ä¸€ä¸ªé¢„å…ˆå­˜åœ¨çš„JDKã€‚ è¿™ç§°ä¸ºâ€œå¯åŠ¨JDKâ€ã€‚\r\n\r\nç»éªŒæ³•åˆ™æ˜¯ï¼Œæ¨èBoot JDKçš„ç‰ˆæœ¬ä¸ºN-1,\r\n\r\næ‰€ä»¥è¿™é‡Œä¸‹è½½OpenJDK 15ä½œä¸ºBoot JDK\r\n\r\n```bash\r\nsudo apt-get install openjdk-15-jdk\r\n```\r\n\r\n#### å¤–éƒ¨åº“\r\n\r\nç¼ºå°‘ä¸€äº›å¤–éƒ¨åº“ä¼šåœ¨é…ç½®æ—¶ç›´æ¥å‡ºé”™ï¼Œè¿™é‡ŒæŒ‰ç…§æ–‡æ¡£å»ºè®®ä¸‹è½½äº†è¿™äº›åº“\r\n\r\n**FreeType**\r\n\r\n```bash\r\nsudo apt-get install libfreetype6-dev\r\n```\r\n\r\nå¦‚æœé…ç½®æ—¶å‡ºé”™è€ƒè™‘ä¸»åŠ¨æŒ‡å®šå‚æ•°  `--with-freetype-include=\u003Cpath>` & `--with-freetype-lib=\u003Cpath>` \r\n\r\n**CUPS**\r\n\r\n```bash\r\nsudo apt-get install libcups2-dev\r\n```\r\n\r\nå¦‚æœé…ç½®æ—¶å‡ºé”™è€ƒè™‘ä¸»åŠ¨æŒ‡å®šå‚æ•°  `--with-cups=\u003Cpath>` \r\n\r\n**X11**\r\n\r\n```bash\r\nsudo apt-get install libx11-dev libxext-dev libxrender-dev libxrandr-dev libxtst-dev libxt-dev\r\n```\r\n\r\nå¦‚æœé…ç½®æ—¶å‡ºé”™è€ƒè™‘ä¸»åŠ¨æŒ‡å®šå‚æ•°  `--with-x=\u003Cpath>`\r\n\r\n**ALSA**\r\n\r\n```bash\r\nsudo apt-get install libasound2-dev\r\n```\r\n\r\nå¦‚æœé…ç½®æ—¶å‡ºé”™è€ƒè™‘ä¸»åŠ¨æŒ‡å®šå‚æ•°  `--with-alsa=\u003Cpath>`\r\n\r\n**libffi**\r\n\r\n```bash\r\nsudo apt-get install libffi-dev\r\n```\r\n\r\nå¦‚æœé…ç½®æ—¶å‡ºé”™è€ƒè™‘ä¸»åŠ¨æŒ‡å®šå‚æ•°  `--with-libffi=\u003Cpath>`\r\n\r\n#### æ„å»ºå·¥å…·\r\n\r\nåŒæ ·çš„ï¼Œè¿˜ä¼šä¾èµ–ä¸‹é¢è¿™äº›æ„å»ºå·¥å…·ï¼Œæ‰€ä»¥ç»§ç»­ä¸‹è½½\r\n\r\n**Autoconf**\r\n\r\n```bash\r\nsudo apt-get install autoconf\r\n```\r\n\r\né…ç½®å‡ºé”™æ—¶è€ƒè™‘ `AUTOCONF=\u003Cpath to autoconf> configure ...`\r\n\r\n**GNU Make**\r\n\r\nè‡³å°‘éœ€è¦3.81ç‰ˆæœ¬ä»¥åçš„GNU Make\r\n\r\nå¼ºçƒˆæ¨è4.0ä»¥ä¸Š\r\n\r\né€šè¿‡`make --version`å³å¯æŸ¥çœ‹ï¼Œæ˜¾ç¤ºé»˜è®¤å°±æ˜¯4.2.1ï¼Œæ‰€ä»¥ä¸ç”¨è¿›è¡Œæ“ä½œã€‚\r\n\r\n```bash\r\nGNU Make 4.2.1\r\nä¸º x86_64-pc-linux-gnu ç¼–è¯‘\r\nCopyright (C) 1988-2016 Free Software Foundation, Inc.\r\nè®¸å¯è¯ï¼šGPLv3+ï¼šGNU é€šç”¨å…¬å…±è®¸å¯è¯ç¬¬ 3 ç‰ˆæˆ–æ›´æ–°ç‰ˆæœ¬\u003Chttp://gnu.org/licenses/gpl.html>ã€‚\r\næœ¬è½¯ä»¶æ˜¯è‡ªç”±è½¯ä»¶ï¼šæ‚¨å¯ä»¥è‡ªç”±ä¿®æ”¹å’Œé‡æ–°å‘å¸ƒå®ƒã€‚\r\nåœ¨æ³•å¾‹å…è®¸çš„èŒƒå›´å†…æ²¡æœ‰å…¶ä»–ä¿è¯ã€‚\r\n```\r\n\r\n**GNU Bash**\r\n\r\nå¿…é¡»ä½¿ç”¨GNU Bashï¼Œä¸”ç‰ˆæœ¬è‡³å°‘3.2\r\n\r\nåŒæ ·çš„ï¼Œé€šè¿‡`bash --version`æŸ¥çœ‹ï¼Œå‘ç°æ˜¯5.0.17ï¼Œæ‰€ä»¥ç»§ç»­è·³è¿‡ã€‚\r\n\r\n```bash\r\nGNU bashï¼Œç‰ˆæœ¬ 5.0.17(1)-release (x86_64-pc-linux-gnu)\r\nCopyright (C) 2019 Free Software Foundation, Inc.\r\nè®¸å¯è¯ GPLv3+: GNU GPL è®¸å¯è¯ç¬¬ä¸‰ç‰ˆæˆ–è€…æ›´æ–°ç‰ˆæœ¬ \u003Chttp://gnu.org/licenses/gpl.html>\r\n\r\næœ¬è½¯ä»¶æ˜¯è‡ªç”±è½¯ä»¶ï¼Œæ‚¨å¯ä»¥è‡ªç”±åœ°æ›´æ”¹å’Œé‡æ–°å‘å¸ƒã€‚\r\nåœ¨æ³•å¾‹è®¸å¯çš„æƒ…å†µä¸‹ç‰¹æ­¤æ˜ç¤ºï¼Œæœ¬è½¯ä»¶ä¸æä¾›ä»»ä½•æ‹…ä¿ã€‚\r\n```\r\n\r\n#### è¿›è¡Œé…ç½®\r\n\r\nè¿™é‡Œçš„é…ç½®æŒ‡å®šäº†å‚æ•°ï¼Œè¡¨ç¤ºç¼–è¯‘64ä½çš„JDKï¼Œå¹¶æŒ‡å®šäº†å¯åŠ¨JDKçš„ç›®å½•ï¼ˆæ²¡æŒ‡å®šä¹‹å‰å‡ºç°äº†é”™è¯¯...ï¼‰\r\n\r\n```bash\r\nsudo bash configure --with-target-bits=64 --with-boot-jdk=/usr/local/jdk-15.0.2/\r\n```\r\n\r\nç¼–è¯‘è¿‡ç¨‹ä¸­ç¢°åˆ°äº¿ä¸ªé”™è¯¯ï¼Œä½†æ˜¯åŸºæœ¬å¯ä»¥æ ¹æ®æç¤ºè¿›è¡Œè§£å†³ï¼Œä¸è¡Œå°±ç™¾åº¦ã€‚\r\n\r\næ¯”å¦‚æ²¡æœ‰fontconfigï¼Œç™¾åº¦åä½¿ç”¨äº†aptè¿›è¡Œå®‰è£…ï¼Œä¹‹åå°±æˆåŠŸäº†ã€‚\r\n\r\n```bash\r\nsudo apt-get install libfontconfig1-dev\r\n```\r\n\r\né—®é¢˜è§£å†³åçœ‹åˆ°\r\n\r\n```bash\r\n====================================================\r\nA new configuration has been successfully created in\r\n/home/alightyoung/Desktop/jdk16u/build/linux-x86_64-server-release\r\nusing configure arguments '--with-target-bits=64 --with-boot-jdk=/usr/local/jdk-15.0.2/'.\r\n\r\nConfiguration summary:\r\n* Name:           linux-x86_64-server-release\r\n* Debug level:    release\r\n* HS debug level: product\r\n* JVM variants:   server\r\n* JVM features:   server: 'aot cds compiler1 compiler2 epsilongc g1gc graal jfr jni-check jvmci jvmti management nmt parallelgc serialgc services shenandoahgc vm-structs zgc' \r\n* OpenJDK target: OS: linux, CPU architecture: x86, address length: 64\r\n* Version string: 16-internal+0-adhoc.root.jdk16u (16-internal)\r\n\r\nTools summary:\r\n* Boot JDK:       openjdk version \"15.0.2\" 2021-01-19 OpenJDK Runtime Environment (build 15.0.2+7-27) OpenJDK 64-Bit Server VM (build 15.0.2+7-27, mixed mode, sharing) (at /usr/local/jdk-15.0.2)\r\n* Toolchain:      gcc (GNU Compiler Collection)\r\n* C Compiler:     Version 9.3.0 (at /usr/bin/gcc)\r\n* C++ Compiler:   Version 9.3.0 (at /usr/bin/g++)\r\n\r\nBuild performance summary:\r\n* Cores to use:   15\r\n* Memory limit:   15440 MB\r\n```\r\n\r\nOKï¼é…ç½®è‡³æ­¤ç»“æŸï¼Œéœ€è¦ä¸åŒç‰ˆæœ¬çš„JDKå¯ä»¥çœ‹çœ‹é…ç½®å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œé…ç½®å‚æ•°åœ¨å®˜æ–¹æ–‡æ¡£ä»‹ç»çš„ååˆ†è¯¦ç»†ï¼Œ[å®˜æ–¹æ–‡æ¡£](https://openjdk.java.net/groups/build/doc/building.html)\r\n\r\n#### è¿›è¡Œç¼–è¯‘\r\n\r\né…ç½®æ­£ç¡®ä¹‹åï¼Œå°±å¯ä»¥è¿›è¡Œç¼–è¯‘äº†ã€‚\r\n\r\nå½“ä½¿ç”¨`make`ä¸åŠ ä»»ä½•å‚æ•°æ—¶ï¼Œç­‰åŒäº`make default`æˆ–è€…`make jdk`ï¼Œè¿™å°†ä¼šæ„å»ºä¸€ä¸ªå°½é‡æœ€å°çš„é•œåƒã€‚ç¼–è¯‘åçš„é•œåƒä¼šæ”¾åœ¨`build`ç›®å½•ä¸‹\r\n\r\nè¿™é‡Œæˆ‘ä»¬å°±æŒ‰é»˜è®¤è¿›è¡Œç¼–è¯‘å³å¯\r\n\r\n```bash\r\nmake\r\n```\r\n\r\nç„¶åå°±å¯ä»¥å»å–æ¯Javaäº† - -\r\n\r\n```bash\r\nFinished building target 'default (exploded-image)' in configuration 'linux-x86_64-server-release'\r\n```\r\n\r\nå¯ä»¥çœ‹åˆ°ç¼–è¯‘å®Œæˆäº†ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹\r\n\r\n```bash\r\nbuild/linux-x86_64-server-release/jdk/bin/java --version\r\n```\r\n\r\nå‘ç°å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œè‡³æ­¤ç¼–è¯‘ç»“æŸ\r\n\r\n```bash\r\nopenjdk 16-internal 2021-03-16\r\nOpenJDK Runtime Environment (build 16-internal+0-adhoc.root.jdk16u)\r\nOpenJDK 64-Bit Server VM (build 16-internal+0-adhoc.root.jdk16u, mixed mode)\r\n```\r\n\r\nä¹‹åå¯ä»¥æ–°å»ºä¸€ä¸ªTest.javaæ–‡ä»¶æµ‹è¯•ä¸€ä¸‹\r\n\r\n```java\r\npublic class Test{\r\n    public static void main(String[]args){\r\n        system.out.println(\"Hello World!\");\r\n    }\r\n}\r\n```\r\n\r\nç„¶åè¿›å…¥åˆ°ç¼–è¯‘ä¹‹åçš„JDKçš„ç›®å½•è°ƒç”¨`sudo ./javac Test.java`å’Œ`sudo ./java Test`\r\næµ‹è¯•ä¸€ä¸‹ï¼Œèƒ½è¾“å‡ºå°±æ²¡å•¥é—®é¢˜äº†\r\n> ä½¿ç”¨`./`æ˜¯ä¸ºäº†é˜²æ­¢ä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡çš„JDK\r\n\r\n```bash\r\nHello World!\r\n```\r\n\r\n#### æœ€å\r\n\r\nJDKçš„æ„å»ºè‡³æ­¤ä¾¿å‘Šä¸€æ®µè½ã€‚è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆçªç„¶æƒ³ç¼–è¯‘JDKï¼Œå…¶å®æ˜¯å‰äº›å¤©ç•¥è¯»äº†ä¸€éæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼Œä½œè€…å»ºè®®å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œæ­£å¥½ä¹Ÿè§‰å¾—æŒºæœ‰è¶£çš„ï¼Œæ‰€ä»¥å°±ç¼–è¯‘äº†ä¸€æ¬¡ã€‚å› ä¸ºä¹¦æ˜¯ç¬¬äºŒç‰ˆï¼ˆäºŒæ‰‹ï¼‰ï¼ŒJDKç‰ˆæœ¬æ¯”è¾ƒè€ï¼Œæ‰€ä»¥æ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯è·Ÿç€å®˜æ–¹æ–‡æ¡£èµ°çš„ï¼Œä¹Ÿç™¾åº¦äº†å¾ˆå¤šé…ç½®æ—¶å‡ºç°çš„é”™è¯¯ï¼Œå¼ºçƒˆæ¨èå¤§å®¶çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œè™½ç„¶æ˜¯è‹±æ–‡ï¼Œä½†æ˜¯ç¡®å®éå¸¸è¯¦ç»†ï¼ŒåŒ…æ‹¬åé¢è¿˜æœ‰äº¤å‰ç¼–è¯‘ï¼Œæµ‹è¯•JDKçš„ç¯èŠ‚ç­‰ï¼Œå› ä¸ªäººæ‰ç–å­¦æµ…ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰å†è¿›ä¸€æ­¥è¿›è¡Œï¼Œæ„Ÿå…´è¶£çš„ç›´æ¥å»[OpenJDK](https://openjdk.java.net/)å®˜æ–¹ç½‘ç«™æŸ¥çœ‹å³å¯ã€‚æœ€åæé†’ä¸€ä¸‹ï¼Œè¿™ä¸ªJDK 16å·²ç»æ˜¯GAäº†ï¼Œå°±åœ¨æœ¬æ–‡å‘å¸ƒçš„å‰å‡ å¤© - -","post/2021/20210326/":"\n### åºè¨€\n\nMyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ªMyBatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚\n\n### ç¯å¢ƒ\n\nå‡è®¾æ‚¨å·²ç»\n\n- æ‹¥æœ‰ Java å¼€å‘ç¯å¢ƒä»¥åŠIDEA\n- ç†Ÿæ‚‰ Spring Boot\n- ç†Ÿæ‚‰ Maven\n- ç†Ÿæ‚‰MySQL\n\n\n\nç›´æ¥åœ¨ideaä½¿ç”¨spring initializråˆå§‹åŒ–ä¸€ä¸ªspringbooté¡¹ç›®+mysqlé©±åŠ¨+[lombok](https://projectlombok.org/)ï¼ˆç®€åŒ–å®ä½“ç±»ï¼‰ï¼ŒåŒæ—¶ideaä¹Ÿå¾—è£…lombokæ’ä»¶\n\næ„å»ºä¸€ä¸ªç®€å•çš„æ•°æ®åº“å’Œä¸€ä¸ªç®€å•çš„è¡¨å¹¶æ’å…¥å‡ æ¡æ•°æ®\n\n```sql\nCREATE DATABASE db_test;\nUSE db_test;\nCREATE TABLE t_test ( `id` BIGINT NOT NULL PRIMARY KEY, `name` VARCHAR ( 24 ) );\nINSERT INTO t_test VALUES( 1, \"å¼ ä¸‰\" );\nINSERT INTO t_test VALUES( 2, \"æå››\" );\nINSERT INTO t_test VALUES( 3, \"ç‹äº”\" );\n```\n\nå¯¼å…¥mybatis plusä¾èµ–\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>com.baomidou\u003C/groupId>\n    \u003CartifactId>mybatis-plus-boot-starter\u003C/artifactId>\n    \u003Cversion>3.4.2\u003C/version>\n\u003C/dependency>\n```\n\nåœ¨application.ymlé…ç½®æ•°æ®åº“ä¿¡æ¯ï¼ˆé»˜è®¤æ˜¯propertiesæ ¼å¼ï¼Œæ”¹æˆymlå³å¯ï¼‰\n\n```yaml\nserver:\n  port: 8080\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/db_test?serverTimezone=UTC\n    username: root\n    password: 123456\n```\n\nåœ¨application.ymlå¯åŠ¨ mybatis æœ¬èº«çš„ log æ—¥å¿—\n\n```yaml\n# æ–¹å¼ä¸€\nmybatis-plus:\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n\n# æ–¹å¼äºŒ application.yml ä¸­å¢åŠ é…ç½®ï¼ŒæŒ‡å®š mapper æ–‡ä»¶æ‰€åœ¨çš„åŒ…\nlogging:\n  level:\n    com.baomidou.example.mapper: debug\n```\n\nspringbootå¯åŠ¨ç±»æ·»åŠ æ³¨è§£\n\n```java\n@MapperScan(\"com.baomidou.mybatisplus.samples.quickstart.mapper\")\n```\n\nä¸€èˆ¬æˆ‘ä»¬è‡ªå·±è¿˜ä¼šå†™mapperï¼Œæ‰€ä»¥è¿˜å¾—åŠ ä¸Šè‡ªå·±mapperåŒ…å\n\n```java\n@MapperScan({\"com.baomidou.mybatisplus.samples.quickstart.mapper\",\"xyz.ayay.mpdemo.mapper\"})\n```\n\næ–°å»ºentityåŒ…å’ŒmapperåŒ…\n\nä¾‹ï¼š`xyz.ayay.mpdemo.entity`\n\nç¼–å†™entityç±»åŠmapperç±»\n\n```java\n@Data\npublic class TTest {\n    private Long id;\n    private String name;\n}\n```\n\n```java\n@Mapper\npublic interface TTestMapper extends BaseMapper\u003CTTest> {\n}\n```\n\nå‡†å¤‡è¿‡ç¨‹è‡³æ­¤ç»“æŸ\n\n### ç®€å•çš„CRUD\n\nä¸Šé¢è¿‡ç¨‹å‡†å¤‡å¥½å°±å¯ä»¥åœ¨testç›®å½•ä¸‹ç¼–å†™æµ‹è¯•æ¡ˆä¾‹äº†\n\né¦–å…ˆæ³¨å…¥mapperï¼Œå› ä¸ºä¹‹åçš„æ“ä½œéƒ½å¾—é€šè¿‡mapperæ¥è¿›è¡Œ\n\n```java\n@Autowired\nprivate TTestMapper tTestMapper;\n```\n\n#### æŸ¥è¯¢\n\n```java\n@Test\npublic void testSelect() {\n    //é€šè¿‡idæŸ¥è¯¢å•ä¸ªè®°å½•\n    TTest tTest1 = tTestMapper.selectById(1L); // TTest(id=1, name=å¼ ä¸‰)\n    // æŸ¥è¯¢è®°å½•æ•°é‡\n    Integer count = tTestMapper.selectCount(null); // 3\n    // æ‰¹é‡æŸ¥è¯¢ å¯åŠ wrapperæ¡ä»¶\n    List\u003CTTest> tTests = tTestMapper.selectList(null);\n    /*\n    TTest(id=1, name=å¼ ä¸‰)\n    TTest(id=2, name=æå››)\n    TTest(id=3, name=ç‹äº”)\n    */\n}\n```\n\n#### æ–°å¢\n\n```java\n@Test\npublic void testInsert() {\n    TTest testObj = new TTest();\n    testObj.setId(4L);\n    testObj.setName(\"èµµå…­\");\n    tTestMapper.insert(testObj);\n}\n```\n\næ²¡æœ‰å‡ºé”™çš„è¯åˆ·æ–°ä¸€ä¸‹è¡¨ï¼Œå°±èƒ½çœ‹åˆ°è®°å½•å·²ç»æˆåŠŸçš„è¢«æ’å…¥åˆ°è¡¨ä¸­äº†\n\n#### ä¿®æ”¹\n\n```java\n@Test\npublic void testUpdate() {\n    TTest testObj = new TTest();\n    testObj.setId(4L);\n    testObj.setName(\"èµµå…­update\");\n    tTestMapper.updateById(testObj);\n}\n```\n\n#### åˆ é™¤\n\n```java\n@Test\npublic void testDelete() {\n\ttTestMapper.deleteById(4L);\n}\n```\n\nè‡³æ­¤ï¼Œæœ€ç®€å•çš„crudåˆ°æ­¤ç»“æŸï¼Œä½†æ˜¯è¿™ç§ç®€å•çš„å¢åˆ æ”¹æŸ¥åœ¨å…·ä½“ä¸šåŠ¡ä¸­ç”¨çš„å¾ˆå°‘ï¼Œå®é™…ä¸šåŠ¡çš„é€»è¾‘è¦å¤æ‚çš„å¤šã€‚æ‰€ä»¥ï¼Œ**æ¡ä»¶æ„é€ å™¨**ä¾¿åº”è¿è€Œç”Ÿã€‚\n\n### æ¡ä»¶æ„é€ å™¨\n\næ¡ä»¶æ„é€ å™¨å¯ä»¥ç®€å•çš„ç†è§£ä¸ºsqlè¯­å¥ä¸­ä½ éœ€è¦é™„åŠ çš„æ¡ä»¶ã€‚æ‰€ä»¥ä½ ä¸éœ€è¦äº²è‡ªç¼–å†™sqlè¯­å¥ä¹Ÿèƒ½å®Œæˆä¸€äº›å¤æ‚çš„sqlæŸ¥è¯¢ã€‚\n\n#### AbstractWrapper\n\nQueryWrapperå’ŒUpdateWrapperçš„çˆ¶ç±»ï¼Œè¯¥ç±»ä¸­å®šä¹‰äº†è®¸å¤šæ¡ä»¶æ„é€ çš„æ–¹æ³•\n\nä¸€ä¸‹åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„ï¼Œæ›´å¤šè¯·æŸ¥çœ‹[å®˜æ–¹æ–‡æ¡£-æ¡ä»¶æ„é€ å™¨](https://baomidou.com/guide/wrapper.html)\n\n##### eq\n\neqå³equalsï¼Œç”¨äºæ„å»ºç›¸ç­‰æ¡ä»¶ã€‚\n\nä¸‹é¢é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥è¿›è¡Œè§£é‡Šï¼Œä¹‹åçš„å°†ä¸å†è¯¦ç»†ä»‹ç»ã€‚\n\n```java\n@Test\npublic void testSelect() {\n    QueryWrapper queryWrapper = new QueryWrapper();\n    queryWrapper.eq(\"name\",\"å¼ ä¸‰\");\n    TTest tTest1 = tTestMapper.selectOne(queryWrapper);\n    // TTest(id=1, name=å¼ ä¸‰)\n}\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªnameï¼å¼ ä¸‰çš„æ¡ä»¶ï¼Œç„¶åè®©mapperé€šè¿‡è¯¥æ¡ä»¶æˆåŠŸæŸ¥è¯¢åˆ°äº†æˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚\n\nå®é™…ä¸Šmapperä¸­çš„å¾ˆå¤šæ–¹æ³•éƒ½å¯ä»¥ä¼ å…¥æ¡ä»¶æ„é€ å™¨ï¼Œåœ¨ideaä¸­é€šè¿‡mapper.å¯ä»¥çœ‹åˆ°mapperä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥çœ‹åˆ°æ¯ä¸ªæ–¹æ³•éœ€è¦çš„å‚æ•°ï¼Œå¹¶ä¸”æ¯æ¬¡æ–¹æ³•éƒ½æ˜¯è§åçŸ¥ä¹‰çš„ã€‚\n\næœ€åè´´ä¸Šeqçš„ä¸åŒé‡è½½\n\n```java\neq(R column, Object val)\neq(boolean condition, R column, Object val)\n```\n\nå¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªåŠ äº†conditionçš„é‡è½½æ–¹æ³•ï¼Œåœ¨wrapperç±»ä¸­å¾ˆå¤šæ–¹æ³•éƒ½æœ‰è¿™ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°è¡¨ç¤ºæ˜¯å¦ç”Ÿæ•ˆæ­¤æ¡ä»¶ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥æ ¹æ®åˆ¤æ–­è¾“å…¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºæ¥å†³å®šè¦ä¸è¦æ„å»ºè¯¥æ¡ä»¶ï¼Œå†™ä¸ªä¼ªä»£ç \n\n```java\nname = fromUserInput();\nwrapper.eq(name.isNotEmpty(),\"name\",name)\n```\n\né€šè¿‡è¿™ç§è®¾è®¡ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…æ„å»ºå‡ºä¸€äº›ç³Ÿç³•çš„ï¼Œå¹¶ä¸éœ€è¦çš„æ¡ä»¶ã€‚\n\n#####  allEq\n\nè¡¨ç¤ºå…¨éƒ¨eq(æˆ–ä¸ªåˆ«isNull)\n\n```java\nallEq(Map\u003CR, V> params)\nallEq(Map\u003CR, V> params, boolean null2IsNull)\nallEq(boolean condition, Map\u003CR, V> params, boolean null2IsNull)\n```\n\n>`params` : `key`ä¸ºæ•°æ®åº“å­—æ®µå,`value`ä¸ºå­—æ®µå€¼\n>`null2IsNull` : ä¸º`true`åˆ™åœ¨`map`çš„`value`ä¸º`null`æ—¶è°ƒç”¨ [isNull](https://baomidou.com/guide/wrapper.html#isnull) æ–¹æ³•,ä¸º`false`æ—¶åˆ™å¿½ç•¥`value`ä¸º`null`çš„\n\n##### ne\n\nè¡¨ç¤ºä¸ç­‰äº `\u003C>`\n\n```java\nne(R column, Object val)\nne(boolean condition, R column, Object val)\n```\n\n##### gt\n\nè¡¨ç¤ºå¤§äºï¼Œå³ >\n\n```java\ngt(R column, Object val)\ngt(boolean condition, R column, Object val)\n```\n\nä¾‹å¦‚ï¼š`gt(\"age\", 18)`--->`age > 18`\n\n##### ge\n\nè¡¨ç¤ºå¤§äºç­‰äº\n\n```java\nge(R column, Object val)\nge(boolean condition, R column, Object val)\n```\n\n##### lt\n\nè¡¨ç¤ºå°äº\n\n```java\nlt(R column, Object val)\nlt(boolean condition, R column, Object val)\n```\n\n##### le\n\nè¡¨ç¤ºå°äºç­‰äº\n\n```java\nle(R column, Object val)\nle(boolean condition, R column, Object val)\n```\n\n##### between\n\nè¡¨ç¤ºä¸¤è€…ä¹‹é—´\n\n```java\nbetween(R column, Object val1, Object val2)\nbetween(boolean condition, R column, Object val1, Object val2)\n```\n\n##### in\n\nå­—æ®µ IN (value.get(0), value.get(1), ...)\n\n```java\nin(R column, Collection\u003C?> value)\nin(boolean condition, R column, Collection\u003C?> value)\n\nin(R column, Object... values)\nin(boolean condition, R column, Object... values)\n```\n\nä¾‹: `in(\"age\",{1,2,3})`--->`age in (1,2,3)`\n\nä¾‹: `in(\"age\", 1, 2, 3)`--->`age in (1,2,3)`\n\n#####  like\n\næ¨¡ç³ŠæŸ¥è¯¢\n\n```java\nlike(R column, Object val)\nlike(boolean condition, R column, Object val)\n```\n\nä¾‹: `like(\"name\", \"ç‹\")`--->`name like '%ç‹%'\n\n##### groupBy\n\nåˆ†ç»„ï¼šGROUP BY å­—æ®µ\n\n```java\ngroupBy(R... columns)\ngroupBy(boolean condition, R... columns)\n```\n\n##### orderByAsc & orderByDesc\n\næ­£ / åæ’åº\n\n```java\norderByAsc(R... columns)\norderByAsc(boolean condition, R... columns)\n\norderByDesc(R... columns)\norderByDesc(boolean condition, R... columns)\n```\n\n##### having\n\nHAVING ( sqlè¯­å¥ )\n\n```java\nhaving(String sqlHaving, Object... params)\nhaving(boolean condition, String sqlHaving, Object... params)\n```\n\nä¾‹: `having(\"sum(age) > 10\")`--->`having sum(age) > 10`\n\nä¾‹: `having(\"sum(age) > {0}\", 11)`--->`having sum(age) > 11`\n\n##### and\n\nAND åµŒå¥—\n\n```java\nand(Consumer\u003CParam> consumer)\nand(boolean condition, Consumer\u003CParam> consumer)\n```\n\nä¾‹: `and(i -> i.eq(\"name\", \"æç™½\").ne(\"status\", \"æ´»ç€\"))`--->`and (name = 'æç™½' and status \u003C> 'æ´»ç€')`\n\n##### or\n\næ‹¼æ¥ OR\n\n```java\nor()\nor(boolean condition)\n```\n\nä¾‹: `eq(\"id\",1).or().eq(\"name\",\"è€ç‹\")`--->`id = 1 or name = 'è€ç‹'`\n\n>**æ³¨æ„äº‹é¡¹:**\n>\n>ä¸»åŠ¨è°ƒç”¨`or`è¡¨ç¤ºç´§æ¥ç€ä¸‹ä¸€ä¸ª**æ–¹æ³•**ä¸æ˜¯ç”¨`and`è¿æ¥!(ä¸è°ƒç”¨`or`åˆ™é»˜è®¤ä¸ºä½¿ç”¨`and`è¿æ¥)\n\n##### exists & notExists\n\næ‹¼æ¥ EXISTS / NOT EXISTS ( sqlè¯­å¥ )\n\n```java\nexists(String existsSql)\nexists(boolean condition, String existsSql)\n\nnotExists(String notExistsSql)\nnotExists(boolean condition, String notExistsSql)\n```\n\n####  QueryWrapper\n\nç»§æ‰¿è‡ª AbstractWrapper ,è‡ªèº«çš„å†…éƒ¨å±æ€§ entity ä¹Ÿç”¨äºç”Ÿæˆ where æ¡ä»¶\nåŠ LambdaQueryWrapper, å¯ä»¥é€šè¿‡ new QueryWrapper().lambda() æ–¹æ³•è·å–\n\n##### select\n\nè®¾ç½®æŸ¥è¯¢å­—æ®µ\n\n```java\nselect(String... sqlSelect)\nselect(Predicate\u003CTableFieldInfo> predicate)\nselect(Class\u003CT> entityClass, Predicate\u003CTableFieldInfo> predicate)\n```\n\nä»¥ä¸Šæ–¹æ³•åˆ†ä¸ºä¸¤ç±».\nç¬¬äºŒç±»æ–¹æ³•ä¸º:è¿‡æ»¤æŸ¥è¯¢å­—æ®µ(ä¸»é”®é™¤å¤–),å…¥å‚ä¸åŒ…å« class çš„è°ƒç”¨å‰éœ€è¦`wrapper`å†…çš„`entity`å±æ€§æœ‰å€¼! è¿™ä¸¤ç±»æ–¹æ³•é‡å¤è°ƒç”¨ä»¥æœ€åä¸€æ¬¡ä¸ºå‡†\n\n```java\n@Test\npublic void testSelect() {\n    QueryWrapper queryWrapper = new QueryWrapper();\n    queryWrapper.select(\"id\");\n    List list = tTestMapper.selectList(queryWrapper);\n    // [TTest(id=1, name=null), TTest(id=2, name=null), TTest(id=3, name=null)]\n}\n```\n\n#### UpdateWrapper\n\nç»§æ‰¿è‡ª `AbstractWrapper` ,è‡ªèº«çš„å†…éƒ¨å±æ€§ `entity` ä¹Ÿç”¨äºç”Ÿæˆ where æ¡ä»¶\nåŠ `LambdaUpdateWrapper`, å¯ä»¥é€šè¿‡ `new UpdateWrapper().lambda()` æ–¹æ³•è·å–\n\n#####  set\n\nSQL SET å­—æ®µ\n\n```java\nset(String column, Object val)\nset(boolean condition, String column, Object val)\n```\n\nä¾‹: `set(\"name\", \"è€æå¤´\")`\n\n##### setSql\n\nè®¾ç½® SET éƒ¨åˆ† SQL\n\n```java\nsetSql(String sql)\n```\n\nä¾‹: `setSql(\"name = 'è€æå¤´'\")`\n\n### ä»£ç ç”Ÿæˆå™¨\n\n> AutoGenerator æ˜¯ MyBatis-Plus çš„ä»£ç ç”Ÿæˆå™¨ï¼Œé€šè¿‡ AutoGenerator å¯ä»¥å¿«é€Ÿç”Ÿæˆ Entityã€Mapperã€Mapper XMLã€Serviceã€Controller ç­‰å„ä¸ªæ¨¡å—çš„ä»£ç ï¼Œæå¤§çš„æå‡äº†å¼€å‘æ•ˆç‡ã€‚\n\nè¯´åˆ°ä»£ç ç”Ÿæˆå™¨ï¼Œåº”è¯¥ä¸å°‘äººç”¨è¿‡[mybatis generator](https://ayay.xyz/2020/01/08/20200108/)\n\nä½œä¸ºmybatisçš„å¢åŠ ç‰ˆï¼Œä»£ç ç”Ÿæˆå™¨è‡ªç„¶ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚mybatis plusçš„ä»£ç ç”Ÿæˆå™¨å¯è°“ååˆ†ä¼˜é›…ï¼Œæ— é¡»ç¹ççš„xmlé…ç½®æ–‡ä»¶ï¼Œä¸éœ€è¦mavenæ’ä»¶ï¼Œåªéœ€è¦ä¸€ä¸ªjavaç±»ï¼Œè¿è¡Œå³å¯ï¼\n\n#### æ·»åŠ ä¾èµ–\n\nMyBatis-Plus ä» `3.0.3` ä¹‹åç§»é™¤äº†ä»£ç ç”Ÿæˆå™¨ä¸æ¨¡æ¿å¼•æ“çš„é»˜è®¤ä¾èµ–ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ç›¸å…³ä¾èµ–ï¼š\n\næ·»åŠ ä»£ç ç”Ÿæˆå™¨ä¾èµ–\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>com.baomidou\u003C/groupId>\n    \u003CartifactId>mybatis-plus-generator\u003C/artifactId>\n    \u003Cversion>3.3.2\u003C/version>\n\u003C/dependency>\n```\n\næ·»åŠ  æ¨¡æ¿å¼•æ“ ä¾èµ–ï¼ŒMyBatis-Plus æ”¯æŒ Velocityï¼ˆé»˜è®¤ï¼‰ã€Freemarkerã€Beetlï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©è‡ªå·±ç†Ÿæ‚‰çš„æ¨¡æ¿å¼•æ“ï¼Œå¦‚æœéƒ½ä¸æ»¡è¶³æ‚¨çš„è¦æ±‚ï¼Œå¯ä»¥é‡‡ç”¨è‡ªå®šä¹‰æ¨¡æ¿å¼•æ“ã€‚\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>org.apache.velocity\u003C/groupId>\n    \u003CartifactId>velocity-engine-core\u003C/artifactId>\n    \u003Cversion>2.3\u003C/version>\n\u003C/dependency>\n```\n\n> æ³¨æ„ï¼å¦‚æœæ‚¨é€‰æ‹©äº†**éé»˜è®¤å¼•æ“**ï¼Œéœ€è¦åœ¨ AutoGenerator ä¸­ è®¾ç½®æ¨¡æ¿å¼•æ“ã€‚\n>\n> ```java\n> AutoGenerator generator = new AutoGenerator();\n>\n> // set freemarker engine\n> generator.setTemplateEngine(new FreemarkerTemplateEngine());\n>\n> // set beetl engine\n> generator.setTemplateEngine(new BeetlTemplateEngine());\n>\n> // set custom engine (reference class is your custom engine class)\n> generator.setTemplateEngine(new CustomTemplateEngine());\n>\n> // other config\n> ...\n> ```\n\n####  ç¼–å†™é…ç½®\n\n> MyBatis-Plus çš„ä»£ç ç”Ÿæˆå™¨æä¾›äº†å¤§é‡çš„è‡ªå®šä¹‰å‚æ•°ä¾›ç”¨æˆ·é€‰æ‹©ï¼Œèƒ½å¤Ÿæ»¡è¶³ç»å¤§éƒ¨åˆ†äººçš„ä½¿ç”¨éœ€æ±‚ã€‚\n\nè¿™é‡Œæ–°å»ºconfigåŒ…ç”¨æ¥å­˜æ”¾é…ç½®ç±»ã€‚\n\nåˆ æ‰ä¹‹å‰æµ‹è¯•æ–°å»ºçš„entityå’ŒmapperåŒ…ä»¥åŠåŒ…ä¸­çš„ç±»ï¼ŒåŒæ—¶æ³¨é‡Šæ‰å•å…ƒæµ‹è¯•ä¸­å¯¹å®ä½“åŠmapperçš„å¼•ç”¨ã€‚\n\n![image-20210323203254418](https://cdn.jsdelivr.net/gh/alightyoung/static/img/20210323203305.png)\n\nä»¥ä¸‹æ˜¯é…ç½®æ–‡ä»¶ï¼Œå†…å®¹ä¸å¤šï¼Œå¹¶ä¸”éƒ½åŠ ä¸Šäº†æ³¨é‡Šï¼Œç›¸ä¿¡è¯»è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„ç¯å¢ƒè‡ªè¡Œä¿®æ”¹ã€‚\n\n- CodeGenerator.java\n\n```java\npackage xyz.ayay.mpdemo.config;\n\nimport com.baomidou.mybatisplus.core.exceptions.MybatisPlusException;\nimport com.baomidou.mybatisplus.core.toolkit.StringPool;\nimport com.baomidou.mybatisplus.core.toolkit.StringUtils;\nimport com.baomidou.mybatisplus.generator.AutoGenerator;\nimport com.baomidou.mybatisplus.generator.InjectionConfig;\nimport com.baomidou.mybatisplus.generator.config.*;\nimport com.baomidou.mybatisplus.generator.config.builder.ConfigBuilder;\nimport com.baomidou.mybatisplus.generator.config.converts.MySqlTypeConvert;\nimport com.baomidou.mybatisplus.generator.config.po.TableInfo;\nimport com.baomidou.mybatisplus.generator.config.rules.DbColumnType;\nimport com.baomidou.mybatisplus.generator.config.rules.FileType;\nimport com.baomidou.mybatisplus.generator.config.rules.IColumnType;\nimport com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\n// æ¼”ç¤ºä¾‹å­ï¼Œæ‰§è¡Œ main æ–¹æ³•æ§åˆ¶å°è¾“å…¥æ¨¡å—è¡¨åå›è½¦è‡ªåŠ¨ç”Ÿæˆå¯¹åº”é¡¹ç›®ç›®å½•ä¸­\npublic class CodeGenerator {\n\n    public static String scanner(String tip) {\n        // è¯»å–è¡¨åç§°\n        Scanner scanner = new Scanner(System.in);\n        StringBuilder help = new StringBuilder();\n        help.append(\"è¯·è¾“å…¥\" + tip + \"ï¼š\");\n        System.out.println(help.toString());\n        if (scanner.hasNext()) {\n            String ipt = scanner.next();\n            if (StringUtils.isNotBlank(ipt)) {\n                return ipt;\n            }\n        }\n        throw new MybatisPlusException(\"è¯·è¾“å…¥æ­£ç¡®çš„\" + tip + \"ï¼\");\n    }\n\n    public static void main(String[] args) {\n        // ä»£ç ç”Ÿæˆå™¨\n        AutoGenerator mpg = new AutoGenerator();\n        // å…¨å±€é…ç½®\n        GlobalConfig gc = new GlobalConfig();\n        String projectPath = System.getProperty(\"user.dir\");\n        gc.setOutputDir(projectPath + \"/src/main/java\");\n        gc.setAuthor(\"AlightYoung\");\n        // ç”Ÿæˆåæ˜¯å¦æ‰“å¼€èµ„æºç®¡ç†å™¨\n        gc.setOpen(false);\n        // å®ä½“å±æ€§ Swagger2 æ³¨è§£\n        gc.setSwagger2(false);\n        // è¦†ç›–å·²æœ‰æ–‡ä»¶,è¿™é‡Œå…ˆä¸è®¾ç½®è¦†å†™ï¼Œåé¢é€šè¿‡cfg.setFileCreateæŒ‡å®šè¦†ç›–\n        gc.setFileOverride(false);\n        //å»æ‰Serviceæ¥å£çš„é¦–å­—æ¯I\n        gc.setServiceName(\"%sService\");\n        //ä¸»é”®ç­–ç•¥\n        gc.setIdType(IdType.ASSIGN_ID);\n        // å®šä¹‰ç”Ÿæˆçš„å®ä½“ç±»ä¸­æ—¥æœŸç±»å‹\n        gc.setDateType(DateType.ONLY_DATE);\n\n        mpg.setGlobalConfig(gc);\n\n        // æ•°æ®æºé…ç½®\n        DataSourceConfig dsc = new DataSourceConfig();\n        dsc.setUrl(\"jdbc:mysql://localhost:3306/db_test?&serverTimezone=UTC\");\n        // dsc.setSchemaName(\"public\");\n        dsc.setDriverName(\"com.mysql.cj.jdbc.Driver\");\n        dsc.setUsername(\"root\");\n        dsc.setPassword(\"123456\");\n        // æ•°æ®åº“ç±»å‹æ˜ å°„\n        dsc.setTypeConvert(new MySqlTypeConvert() {\n            @Override\n            public IColumnType processTypeConvert(GlobalConfig globalConfig, String fieldType) {\n                //å°†æ•°æ®åº“ä¸­datetimeè½¬æ¢æˆdate\n                if (fieldType.toLowerCase().contains(\"datetime\")) {\n                    return DbColumnType.DATE;\n                }\n                return (DbColumnType) super.processTypeConvert(globalConfig, fieldType);\n            }\n        });\n        mpg.setDataSource(dsc);\n        // åŒ…é…ç½®\n        PackageConfig pc = new PackageConfig();\n        // pc.setModuleName(scanner(\"æ¨¡å—å\"));\n        pc.setParent(\"xyz.ayay.mpdemo\");\n        pc.setController(\"controller\");\n        pc.setEntity(\"entity\");\n        pc.setService(\"service\");\n        pc.setMapper(\"mapper\");\n        mpg.setPackageInfo(pc);\n\n        // è‡ªå®šä¹‰é…ç½®\n        InjectionConfig cfg = new InjectionConfig() {\n            @Override\n            public void initMap() {\n                // to do nothing\n            }\n        };\n\n        // å¦‚æœæ¨¡æ¿å¼•æ“æ˜¯ freemarker\n        // String templatePath = \"/templates/mapper.xml.ftl\";\n        // å¦‚æœæ¨¡æ¿å¼•æ“æ˜¯ velocity\n        String templatePath = \"/templates/mapper.xml.vm\";\n\n        // è‡ªå®šä¹‰è¾“å‡ºé…ç½®\n        List\u003CFileOutConfig> focList = new ArrayList\u003C>();\n        // è‡ªå®šä¹‰é…ç½®ä¼šè¢«ä¼˜å…ˆè¾“å‡º\n        focList.add(new FileOutConfig(templatePath) {\n            @Override\n            public String outputFile(TableInfo tableInfo) {\n                // è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶å ï¼Œ å¦‚æœä½  Entity è®¾ç½®äº†å‰åç¼€ã€æ­¤å¤„æ³¨æ„ xml çš„åç§°ä¼šè·Ÿç€å‘ç”Ÿå˜åŒ–ï¼ï¼\n                return projectPath + \"/src/main/resources/mapper/\" + pc.getModuleName()\n                        + \"/\" + tableInfo.getEntityName() + \"Mapper\" + StringPool.DOT_XML;\n            }\n        });\n        /**\n        cfg.setFileCreate(new IFileCreate() {\n            @Override\n            public boolean isCreate(ConfigBuilder configBuilder, FileType fileType, String filePath) {\n                // åˆ¤æ–­è‡ªå®šä¹‰æ–‡ä»¶å¤¹æ˜¯å¦éœ€è¦åˆ›å»º\n                checkDir(\"è°ƒç”¨é»˜è®¤æ–¹æ³•åˆ›å»ºçš„ç›®å½•ï¼Œè‡ªå®šä¹‰ç›®å½•ç”¨\");\n                if (fileType == FileType.MAPPER) {\n                    // å·²ç»ç”Ÿæˆ mapper æ–‡ä»¶åˆ¤æ–­å­˜åœ¨ï¼Œä¸æƒ³é‡æ–°ç”Ÿæˆè¿”å› false\n                    return !new File(filePath).exists();\n                }\n                // å…è®¸ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶\n                return true;\n            }\n        });\n        */\n        // è®¾ç½®è¦†ç›–å“ªäº›æ–‡ä»¶\n        cfg.setFileCreate(new IFileCreate() {\n            @Override\n            public boolean isCreate(ConfigBuilder configBuilder, FileType fileType, String filePath) {\n                //å¦‚æœæ˜¯Entityåˆ™ç›´æ¥è¿”å›trueè¡¨ç¤ºå†™æ–‡ä»¶\n                if (fileType == FileType.ENTITY) {\n                    return true;\n                }\n                //å¦åˆ™å…ˆåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨\n                File file = new File(filePath);\n                boolean exist = file.exists();\n                if (!exist) {\n                    file.getParentFile().mkdirs();\n                }\n                //æ–‡ä»¶ä¸å­˜åœ¨æˆ–è€…å…¨å±€é…ç½®çš„fileOverrideä¸ºtrueæ‰å†™æ–‡ä»¶\n                return !exist || configBuilder.getGlobalConfig().isFileOverride();\n            }\n        });\n        cfg.setFileOutConfigList(focList);\n        mpg.setCfg(cfg);\n\n        // é…ç½®æ¨¡æ¿\n        TemplateConfig templateConfig = new TemplateConfig();\n\n        // é…ç½®è‡ªå®šä¹‰è¾“å‡ºæ¨¡æ¿\n        //æŒ‡å®šè‡ªå®šä¹‰æ¨¡æ¿è·¯å¾„ï¼Œæ³¨æ„ä¸è¦å¸¦ä¸Š.ftl/.vm, ä¼šæ ¹æ®ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“è‡ªåŠ¨è¯†åˆ«\n        // templateConfig.setEntity(\"templates/entity2.java\");\n        // templateConfig.setService();\n        // ä¸ç”Ÿæˆcontroller\n        templateConfig.setController(\"\");\n        // templateConfig.setController();\n\n        templateConfig.setXml(null);\n        mpg.setTemplate(templateConfig);\n\n        // ç­–ç•¥é…ç½®\n        StrategyConfig strategy = new StrategyConfig();\n        // å‘½åé‡‡ç”¨ä¸‹åˆ’çº¿è½¬é©¼å³°\n        strategy.setNaming(NamingStrategy.underline_to_camel);\n        strategy.setColumnNaming(NamingStrategy.underline_to_camel);\n        //ç”Ÿæˆä»£ç æ—¶å»æ‰è¡¨å‰ç¼€\n        strategy.setTablePrefix(pc.getModuleName() + \"_\");\n        // strategy.setSuperEntityClass(\"ä½ è‡ªå·±çš„çˆ¶ç±»å®ä½“,æ²¡æœ‰å°±ä¸ç”¨è®¾ç½®!\");\n        // å®ä½“ç±»æ·»åŠ lombok\n        strategy.setEntityLombokModel(true);\n        // RestControlleré£æ ¼\n        strategy.setRestControllerStyle(true);\n        // urlä¸­é©¼å³°è½¬è¿å­—ç¬¦\n        strategy.setControllerMappingHyphenStyle(true);\n        // å…¬å…±çˆ¶ç±»\n        // strategy.setSuperControllerClass(\"ä½ è‡ªå·±çš„çˆ¶ç±»æ§åˆ¶å™¨,æ²¡æœ‰å°±ä¸ç”¨è®¾ç½®!\");\n        // å†™äºçˆ¶ç±»ä¸­çš„å…¬å…±å­—æ®µ\n        // strategy.setSuperEntityColumns(\"id\");\n        strategy.setInclude(scanner(\"è¡¨åï¼Œå¤šä¸ªè‹±æ–‡é€—å·åˆ†å‰²\").split(\",\"));\n        mpg.setStrategy(strategy);\n        // ä¸è®¾ç½® ä½¿ç”¨é»˜è®¤æ¨¡æ¿å¼•æ“VelocityTemplate\n        // mpg.setTemplateEngine(new FreemarkerTemplateEngine());\n        mpg.execute();\n    }\n\n}\n\n```\n\nå½“é…ç½®æ–‡ä»¶æ”¹å®Œä¹‹åï¼Œå³é”®æ‰§è¡Œï¼šæ§åˆ¶å°å‡ºç°\n\n```\nè¯·è¾“å…¥è¡¨åï¼Œå¤šä¸ªè‹±æ–‡é€—å·åˆ†å‰²ï¼š\nt_test\n```\n\nå›è½¦ï¼Œç­‰å¾…å¥‡è¿¹ï¼\n\n![image-20210323203600341](https://cdn.jsdelivr.net/gh/alightyoung/static/img/20210323203602.png)\n\nåˆ°è¿™å„¿ï¼Œæˆ‘ä»¬å¯¹ä»£ç ç”Ÿæˆå™¨å·²ç»æœ‰äº†ä¸€å®šçš„è®¤è¯†ã€‚åœ¨å®é™…å·¥ä½œåœºæ™¯ä¸­ï¼Œè¡¨çš„æ•°é‡åŸºæœ¬éƒ½åœ¨ä¸Šç™¾å¼ ä»¥ä¸Šï¼Œè™½ç„¶å¯èƒ½é…ç½®çš„ç±»ä¹Ÿç›¸å¯¹å¤æ‚ä¸€äº›ï¼Œä½†å’Œç¼–å†™å‡ ç™¾ä¸ªå®ä½“ç±»mapperã€serviceç›¸æ¯”ï¼Œæ— ç–‘è®©æˆ‘ä»¬å‡è½»äº†ä¸å°‘è´Ÿæ‹…ã€‚\n\n#### è‡ªå®šä¹‰æ¨¡æ¿å¼•æ“\n\n> è¯·ç»§æ‰¿ç±» com.baomidou.mybatisplus.generator.engine.AbstractTemplateEngine\n\næ›´å¤šè¯¦è§[å®˜æ–¹æ–‡æ¡£-è‡ªå®šä¹‰æ¨¡æ¿å¼•æ“](https://baomidou.com/guide/generator.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E)\n\n### åˆ†é¡µæ’ä»¶\n\nåˆ†é¡µåœ¨é¡¹ç›®ä¸­çš„åº”ç”¨ååˆ†å¹¿æ³›ã€‚å¦‚æœæ˜¯åœ¨ä¸ä½¿ç”¨åˆ†é¡µæ’ä»¶çš„æƒ…å†µä¸‹å†™åˆ†é¡µçš„è¯ï¼Œæ•ˆç‡å¿…ç„¶å¤§æ‰“æŠ˜æ‰£ï¼ˆå¯¹æ•°æ®åº“åº•å±‚ä¸å¤ªäº†è§£çš„è¯ï¼Œæ•ˆç‡å¯èƒ½ä¼šå¾ˆä½ï¼‰ã€‚æ‰€ä»¥ï¼Œä¸€ä¸ªå¥½ç”¨çš„åˆ†é¡µæ’ä»¶æ— ç–‘å¯ä»¥å¤§å¹…æå‡å¼€å‘æ•ˆç‡ï¼ˆä½¿å¼€å‘äººå‘˜ä¸“æ³¨äºä¸šåŠ¡ï¼‰ã€‚\n\nåœ¨æˆ‘ä¹‹å‰çš„åšå®¢ä¸­å·²ç»ä»‹ç»è¿‡äº†ä¸€ç§åˆ†é¡µçš„å®ç°æ–¹å¼ï¼Œä½†æ˜¯å½“æ—¶å¯¹åˆ†é¡µçš„ç†è§£å°šæµ…ï¼ˆç°åœ¨ä¹Ÿæµ…ï¼‰ï¼Œå†™çš„ä¹Ÿæ¯”è¾ƒç®€å•ã€‚ä¸è¿‡æ„Ÿå…´è¶£çš„è¿˜æ˜¯å¯ä»¥çœ‹çœ‹ã€‚ ---- [åˆ†é¡µçš„å®ç°](https://ayay.xyz/2019/12/28/20191228/)\n\n#### é…ç½®æ–‡ä»¶\n\nconfigåŒ…ä¸‹æ–°å»ºé…ç½®ç±» `MybatisPlusConfig.java`\n\n> è¿™é‡Œéœ€è¦æ³¨æ„æ–°æ—§ç‰ˆæœ¬å¯èƒ½å¯¼è‡´é…ç½®æ–‡ä»¶æœ‰å¾ˆå¤§çš„å˜åŒ–ï¼Œå½“ä½ å‘ç°é…ç½®ä¸æˆåŠŸæ—¶ï¼ˆä¸€èˆ¬åŒç‰ˆæœ¬ä¸å¤ªå¯èƒ½å‡ºç°é—®é¢˜ï¼‰ï¼Œè¯·è€ƒè™‘æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£---[åˆ†é¡µå®ç°](https://baomidou.com/guide/page.html)\n\n```java\npackage xyz.ayay.mpdemo.config;\n\nimport com.baomidou.mybatisplus.extension.plugins.PaginationInterceptor;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.optimize.JsqlParserCountOptimize;\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@MapperScan(\"com.baomidou.cloud.service.*.mapper*\")\npublic class MybatisPlusConfig {\n\n    /**å¦‚æœä½ æ˜¯è¾ƒæ–°ç‰ˆçš„mybatis plusï¼Œè¯·å‚è€ƒhttps://baomidou.com/guide/page.htmlï¼Œè¿™ä¸ªé…ç½®ä¸é€‚ç”¨äºè¾ƒæ–°ç‰ˆæœ¬*/\n    @Bean\n    public PaginationInterceptor paginationInterceptor() {\n        PaginationInterceptor paginationInterceptor = new PaginationInterceptor();\n        // è®¾ç½®è¯·æ±‚çš„é¡µé¢å¤§äºæœ€å¤§é¡µåæ“ä½œï¼Œ trueè°ƒå›åˆ°é¦–é¡µï¼Œfalse ç»§ç»­è¯·æ±‚  é»˜è®¤false\n         paginationInterceptor.setOverflow(true);\n        // è®¾ç½®æœ€å¤§å•é¡µé™åˆ¶æ•°é‡ï¼Œé»˜è®¤ 500 æ¡ï¼Œ-1 ä¸å—é™åˆ¶\n         paginationInterceptor.setLimit(500);\n        // å¼€å¯ count çš„ join ä¼˜åŒ–,åªé’ˆå¯¹éƒ¨åˆ† left join\n        paginationInterceptor.setCountSqlParser(new JsqlParserCountOptimize(true));\n        return paginationInterceptor;\n    }\n\n}\n```\n\n#### æµ‹è¯•ä»£ç \n\n```java\n@Test\nvoid testPagination() {\n    // æ¯é¡µä¸¤æ¡è®°å½•ï¼Œå–ç¬¬ä¸‰é¡µ\n    Page\u003CTTest> page = new Page\u003C>(1, 2);\n\n    // page.addOrder(OrderItem.desc(\"id\"));\n    // Page\u003CTTest> resultPage = tTestMapper.selectPage(page, null);\n    // ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•ä¹Ÿèƒ½æŒ‰ç…§idè¿›è¡Œå€’æ’åº\n    Page\u003CTTest> resultPage = tTestMapper.selectPage(page, Wrappers.\u003CTTest>lambdaQuery().orderByDesc(TTest::getId));\n\n    // è·å–å½“å‰é¡µçš„æ•°æ®è®°å½•\n    System.err.println(resultPage.getRecords()); // [TTest(id=6, name=ç‹å…«), TTest(id=5, name=ç”°ä¸ƒ)]\n    // å½“å‰æ˜¯ç¬¬å‡ é¡µ\n    System.err.println(resultPage.getCurrent()); // 1\n    // æ€»é¡µæ•°\n    System.err.println(resultPage.getPages());   // 3\n    // æ¯é¡µçš„æ•°æ®é‡\n    System.err.println(resultPage.getSize());    // 2\n    // æ€»å…±çš„è®°å½•æ•°é‡\n    System.err.println(resultPage.getTotal());   // 6\n    // è¿™é‡Œå¹¶æ²¡æœ‰è®¾ç½®ordersï¼Œéœ€è¦çš„è¯åˆ™æ˜¯åœ¨pageæ¡ä»¶ä¸­è®¾ç½®ï¼ŒlambdaQueryè®¾ç½®çš„æ’åºè¿™é‡ŒæŸ¥è¯¢ä¸åˆ°\n    System.err.println(resultPage.getOrders());  // []\n}\n```\n\nè¿™é‡Œæˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªåŸºæœ¬çš„åˆ†é¡µæŸ¥è¯¢ï¼Œä¼¼ä¹è¿˜æ˜¯ä¸ç”¨ç¼–å†™SQL\n\nä½†åœ¨æŸäº›åœºæ™¯ä¸­ï¼Œä¸ç®¡å‡ºäºä½•ç§åŸå› ï¼Œæˆ‘ä»¬ä»ç„¶å¸Œæœ›ç¼–å†™xmlæ¥è¿›è¡Œè‡ªå®šä¹‰åˆ†é¡µçš„è¯ï¼Œmybatis plusä¹ŸåŒæ ·æ˜¯æ”¯æŒçš„ã€‚\n\n####  XML è‡ªå®šä¹‰åˆ†é¡µ\n\nå…¶å®å¯¹mybatisç†Ÿæ‚‰çš„è¯ï¼Œåº”è¯¥ååˆ†æ¸…æ¥šè¯¥æ€ä¹ˆåœ¨mapperä¸­è‡ªå®šä¹‰sqlï¼Œä½†æ˜¯å³ä½¿æ˜¯è‡ªå®šä¹‰sqlï¼Œä¹Ÿä¸éœ€è¦å…³æ³¨åˆ†é¡µçš„sqlå®ç°ï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹æ¥è¯´æ˜\n\nå®‰åˆ©ä¸‹[MybatisX](https://baomidou.com/guide/mybatisx-idea-plugin.html)æ’ä»¶ï¼Œä¸æ¸…æ¥šçš„è¯ç‚¹è¿›å»çœ‹ä¸€ä¸‹å°±çŸ¥é“äº†ã€‚\n\nå®‰è£…å®Œæˆä¹‹åï¼Œå› ä¸ºåœ¨ä¸Šé¢çš„ä»£ç ç”Ÿæˆå™¨ä¸­ç¯èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†æˆ‘ä»¬çš„mapperæ¥å£ä»¥åŠxmlæ–‡ä»¶ã€‚\n\næ‰€ä»¥æˆ‘ä»¬ç›´æ¥åœ¨mapperæ¥å£ä¸­æ·»åŠ ä¸€ä¸ªåˆ†é¡µæ–¹æ³•\n\n```java\n/**\n     * \u003Cp>\n     * æŸ¥è¯¢ : æ ¹æ®nameæ¨¡ç³ŠæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œåˆ†é¡µæ˜¾ç¤º\n     * \u003C/p>\n     *\n     * @param page åˆ†é¡µå¯¹è±¡,xmlä¸­å¯ä»¥ä»é‡Œé¢è¿›è¡Œå–å€¼,ä¼ é€’å‚æ•° Page å³è‡ªåŠ¨åˆ†é¡µ,å¿…é¡»æ”¾åœ¨ç¬¬ä¸€ä½(ä½ å¯ä»¥ç»§æ‰¿Pageå®ç°è‡ªå·±çš„åˆ†é¡µå¯¹è±¡)\n     * @param name name\n     * @return åˆ†é¡µå¯¹è±¡\n     */\nIPage\u003CTTest> selectPageVo(Page\u003CTTest> page, String name);\n```\n\nå†™å®Œä¹‹åå¯ä»¥çœ‹åˆ°å‡ºç°è­¦å‘Šï¼Œhoverå³å¯å‘ç°generate statementï¼Œç‚¹å‡»ã€‚å¯¹åº”çš„xmlè¯­å¥æ¨¡æ¿å°±å‡ºæ¥äº†ï¼Œç„¶åç‚¹å‡»å·¦è¾¹çš„ã€çº¢è‰²å°é¸Ÿã€‘è·³è½¬è¿‡å»ã€‚\n\nç¼–å†™ä¸€ä¸ªç®€å•çš„åˆ—è¡¨æŸ¥è¯¢å³å¯ï¼Œæ— éœ€å®ç°åˆ†é¡µé€»è¾‘ï¼ˆçœ‹ä¸Šé¢æ¥å£çš„æ³¨é‡Šï¼Œmapperæ¥å£ä¸­æ–¹æ³•åªè¦ä¼ å…¥äº†pageå‚æ•°ï¼Œå¿…é¡»ç¬¬ä¸€ä¸ªï¼Œå°±å¯ä»¥ è‡ª åŠ¨ åˆ† é¡µï¼ï¼‰\n\n```xml\n\u003Cselect id=\"selectPageVo\" resultType=\"xyz.ayay.mpdemo.entity.TTest\">\n    SELECT id,name FROM t_test where 1=1\n    \u003Cif test=\"name!=null and name != ''\">\n        and name like concat('%',#{name},'%')\n    \u003C/if>\n\u003C/select>\n```\n\nä¸‹é¢ç¼–å†™æµ‹è¯•ç±»æ£€æŸ¥ä¸€ä¸‹\n\n```java\n@Test\nvoid testXMLPagination() {\n    // ä¸è¿›è¡Œ count sql ä¼˜åŒ–ï¼Œè§£å†³ MP æ— æ³•è‡ªåŠ¨ä¼˜åŒ– SQL é—®é¢˜ï¼Œè¿™æ—¶å€™ä½ éœ€è¦è‡ªå·±æŸ¥è¯¢ count éƒ¨åˆ†\n    // page.setOptimizeCountSql(false);\n    // å½“ total ä¸ºå°äº 0 æˆ–è€…è®¾ç½® setSearchCount(false) åˆ†é¡µæ’ä»¶ä¸ä¼šè¿›è¡Œ count æŸ¥è¯¢\n    // è¦ç‚¹!! åˆ†é¡µè¿”å›çš„å¯¹è±¡ä¸ä¼ å…¥çš„å¯¹è±¡æ˜¯åŒä¸€ä¸ª,æ‰€ä»¥ä¸ç”¨å¦å¤–æ–°å»ºå˜é‡å»æ¥æ”¶\n    Page\u003CTTest> page = new Page\u003C>(2,3);\n    page.addOrder(OrderItem.asc(\"id\"));\n    tTestMapper.selectPageVo(page, null);\n    System.err.println(page.getRecords()); // [TTest(id=4, name=èµµå…­), TTest(id=5, name=ç”°ä¸ƒ), TTest(id=6, name=ç‹å…«)]\n    System.err.println(page.getCurrent()); // 2\n    System.err.println(page.getPages());   // 2\n    System.err.println(page.getSize());    // 3\n    System.err.println(page.getTotal());   // 6\n    System.err.println(page.getOrders());  // [OrderItem(column=id, asc=true)]\n}\n```\n\nè‡³æ­¤ï¼Œåˆ†é¡µéƒ¨åˆ†ä¾¿å‘Šä¸€æ®µè½ï¼Œå¥½å¤„æ­¤åˆ»å·²æ— éœ€å¤šè¨€äº†ã€‚\n\n### ä¸»é”®&è‡ªåŠ¨å¡«å……\n\n#### è‡ªåŠ¨ç”Ÿæˆä¸»é”®\n\nåœ¨ä¹‹å‰çš„insertä¸­ï¼Œæˆ‘ä»¬ä¸ºå¯¹è±¡è®¾ç½®äº†ä¸€ä¸ªidï¼Œä½†å…¶å®mybatis pluså¯ä»¥è‡ªåŠ¨ç”Ÿæˆidï¼Œæ— è®ºæ˜¯æ•°å­—è¿˜æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸‹é¢ä¸¾ä¸ªä¾‹å­ã€‚\n\né¦–å…ˆåœ¨å®ä½“ç±»çš„idå­—æ®µä¸ŠåŠ ä¸Šæ³¨è§£\n\n```java\n@TableId(value = \"id\",type = IdType.ASSIGN_ID)\nprivate Long id;\n```\n\nç„¶åç¼–å†™æµ‹è¯•ç±»æ’å…¥ä¸€æ¡è®°å½•\n\n```java\n@Test\nvoid testAutoId() {\n    TTest test = new TTest();\n    test.setName(\"auto id row\");\n    tTestMapper.insert(test);\n}\n```\n\nå¯ä»¥å‘ç°è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰è®¾ç½®idï¼Œå†çœ‹çœ‹æ•°æ®åº“\n\n|         id          |    name     |\n| :-----------------: | :---------: |\n| 1374718566774980610 | auto id row |\n\nå¯ä»¥çœ‹åˆ°è®°å½•è¢«æˆåŠŸæ’å…¥ï¼Œå¹¶ä¸”ç”Ÿæˆäº†ä¸€é•¿ä¸²æ•°å­—ä½œä¸ºidã€‚\n\n#### ç”Ÿæˆç­–ç•¥\n\nå¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢çš„æ³¨è§£æŒ‡å®šäº†IdTypeï¼Œäº‹å®ä¸Šï¼Œmybatis pluså†…ç½®äº†å‡ ç§å¸¸è§ç±»å‹çš„IdTypeï¼Œå¦‚æœä½ å¯¹å†…ç½®çš„ä¸æ»¡æ„ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘è‡ªå®šä¹‰ç”Ÿæˆã€‚ä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸ªIdTypeã€‚\n\n|      IdType       |                      æè¿°                       |\n| :---------------: | :---------------------------------------------: |\n|       AUTO        | ä½¿ç”¨è‡ªå¢æ–¹å¼ç”Ÿæˆï¼ŒMySQLä¸»é”®éœ€è®¾ç½®Auto Increment |\n|       NONE        |          ä¸è‡ªåŠ¨ç”Ÿæˆï¼Œè·Ÿéšå…¨å±€é»˜è®¤INPUT          |\n|       INPUT       |              ç”¨æˆ·åœ¨æ’å…¥å‰è‡ªè¡Œè®¾ç½®               |\n|     ASSIGN_ID     | è‡ªåŠ¨åˆ†é…ï¼Œé›ªèŠ±ç®—æ³•ï¼ŒInteger Long Stringç±»å‹å‡å¯ |\n|    ASSIGN_UUID    |        è‡ªåŠ¨åˆ†é…ï¼ŒUUIDç®—æ³•ï¼Œä»…Stringç±»å‹         |\n|   ~~ID_WORKER~~   |     åºŸå¼ƒï¼Œç±»ä¼¼ASSIGN_IDçš„Integerå’ŒLongç±»å‹      |\n| ~~ID_WORKER_STR~~ |         åºŸå¼ƒï¼Œç±»ä¼¼ASSIGN_IDçš„Stringç±»å‹         |\n|     ~~UUID~~      |              åºŸå¼ƒï¼Œç±»ä¼¼ASSIGN_UUID              |\n\n#### è‡ªå®šä¹‰IDç”Ÿæˆ\n\né¦–å…ˆï¼Œidtypeéœ€è¦è®¾ç½®ä¸º`ASSIGN_ID`æˆ–è€…`ASSIGN_UUID`ï¼Œç„¶åå®ç°è‡ªå®šä¹‰idç”Ÿæˆå™¨ï¼Œå³ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç°`IdentifierGenerator`æ¥å£ï¼ŒåŒæ—¶æ ‡è®°æ³¨è§£ `@Component`\n\nä¸¾ä¸ªä¾‹å­\n\n```java\n@Component\npublic class CustomIdGenerator implements IdentifierGenerator {\n    @Override\n    public Long nextId(Object entity) {\n        //å¯ä»¥å°†å½“å‰ä¼ å…¥çš„classå…¨ç±»åæ¥ä½œä¸ºbizKey,æˆ–è€…æå–å‚æ•°æ¥ç”ŸæˆbizKeyè¿›è¡Œåˆ†å¸ƒå¼Idè°ƒç”¨ç”Ÿæˆ.\n        String bizKey = entity.getClass().getName();\n        //æ ¹æ®bizKeyè°ƒç”¨åˆ†å¸ƒå¼IDç”Ÿæˆ\n        long id = new Date().hashCode() + bizKey.hashCode();\n        //è¿”å›ç”Ÿæˆçš„idå€¼å³å¯.\n        return id;\n    }\n}\n```\n\n#### è‡ªåŠ¨å¡«å……\n\nè€ƒè™‘åˆ°ä½¿ç”¨åœºæ™¯ï¼Œè¿™é‡Œæˆ‘ä»¬åœ¨è¡¨ä¸­æ·»åŠ ä¸¤ä¸ªå­—æ®µ\n\ncreate_time & update_timeï¼Œé¡ºä¾¿æŠŠä¸»é”®æ”¹æˆé€’å¢ï¼Œä¹‹å‰å»ºè¡¨å¿˜äº†åŠ ã€‚\n\nç„¶åä½¿ç”¨ä¹‹å‰çš„ä»£ç ç”Ÿæˆå™¨é‡æ–°ç”Ÿæˆå®ä½“ç±»\n\næ–°å»ºHandleråŒ…ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç±»ç»§æ‰¿MetaObjectHandler\n\n```java\n@Component\npublic class MyMetaObjectHandler implements MetaObjectHandler {\n\n    @Override\n    public void insertFill(MetaObject metaObject) {\n        // æ–°å¢æ—¶éœ€è‡ªåŠ¨å¡«å……åˆ›å»ºåŠä¿®æ”¹æ—¶é—´\n        this.strictInsertFill(metaObject, \"createTime\", Date.class, new Date());\n        this.strictInsertFill(metaObject, \"updateTime\", Date.class, new Date());\n    }\n\n    @Override\n    public void updateFill(MetaObject metaObject) {\n        // ä¿®æ”¹æ—¶ä»…è‡ªåŠ¨å¡«å……ä¿®æ”¹æ—¶é—´\n        this.strictUpdateFill(metaObject, \"updateTime\", Date.class, new Date());\n    }\n}\n```\n\n> è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œä¸åŒç‰ˆæœ¬çš„apiå¯èƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè¯¦ç»†å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œ[ä¼ é€é—¨](https://baomidou.com/guide/auto-fill-metainfo.html)\n\n> æ³¨æ„äº‹é¡¹ï¼š\n>\n> - å¡«å……åŸç†æ˜¯ç›´æ¥ç»™`entity`çš„å±æ€§è®¾ç½®å€¼!!!\n> - æ³¨è§£åˆ™æ˜¯æŒ‡å®šè¯¥å±æ€§åœ¨å¯¹åº”æƒ…å†µä¸‹å¿…æœ‰å€¼,å¦‚æœæ— å€¼åˆ™å…¥åº“ä¼šæ˜¯`null`\n> - `MetaObjectHandler`æä¾›çš„é»˜è®¤æ–¹æ³•çš„ç­–ç•¥å‡ä¸º:å¦‚æœå±æ€§æœ‰å€¼åˆ™ä¸è¦†ç›–,å¦‚æœå¡«å……å€¼ä¸º`null`åˆ™ä¸å¡«å……\n> - å­—æ®µå¿…é¡»å£°æ˜`TableField`æ³¨è§£,å±æ€§`fill`é€‰æ‹©å¯¹åº”ç­–ç•¥,è¯¥å£°æ˜å‘ŠçŸ¥`Mybatis-Plus`éœ€è¦é¢„ç•™æ³¨å…¥`SQL`å­—æ®µ\n> - å¡«å……å¤„ç†å™¨`MyMetaObjectHandler`åœ¨ Spring Boot ä¸­éœ€è¦å£°æ˜`@Component`æˆ–`@Bean`æ³¨å…¥\n> - è¦æƒ³æ ¹æ®æ³¨è§£`FieldFill.xxx`å’Œ`å­—æ®µå`ä»¥åŠ`å­—æ®µç±»å‹`æ¥åŒºåˆ†å¿…é¡»ä½¿ç”¨çˆ¶ç±»çš„`strictInsertFill`æˆ–è€…`strictUpdateFill`æ–¹æ³•\n> - ä¸éœ€è¦æ ¹æ®ä»»ä½•æ¥åŒºåˆ†å¯ä»¥ä½¿ç”¨çˆ¶ç±»çš„`fillStrategy`æ–¹æ³•\n\næ¥ä¸‹æ¥å¯¹å®ä½“ç±»å­—æ®µæ·»åŠ æ³¨è§£\n\n```java\n@Data\n@EqualsAndHashCode(callSuper = false)\npublic class TTest implements Serializable {\n\n    private static final long serialVersionUID=1L;\n\n    @TableId(value = \"id\", type = IdType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @TableField(value = \"create_time\", fill = FieldFill.INSERT)\n    private Date createTime;\n\n    @TableField(value = \"update_time\", fill = FieldFill.INSERT_UPDATE)\n    private Date updateTime;\n\n}\n```\n\nè¿™é‡Œè§£é‡Šä¸€ä¸‹FieldFillçš„å„ä¸ªå€¼\n\n```java\npublic enum FieldFill {\n    /**\n     * é»˜è®¤ä¸å¤„ç†\n     */\n    DEFAULT,\n    /**\n     * æ’å…¥å¡«å……å­—æ®µ\n     */\n    INSERT,\n    /**\n     * æ›´æ–°å¡«å……å­—æ®µ\n     */\n    UPDATE,\n    /**\n     * æ’å…¥å’Œæ›´æ–°å¡«å……å­—æ®µ\n     */\n    INSERT_UPDATE\n}\n```\n\nä¹‹åä½¿ç”¨insert+updateè¿›è¡Œæµ‹è¯•å³å¯ï¼Œæœ‰é—®é¢˜å°±ä»”ç»†æ£€æŸ¥handleræœ‰æ²¡æœ‰é”™è¯¯ã€‚\n\n### é€»è¾‘åˆ é™¤\n\nç®€å•æ¥è¯´ï¼Œæ­£å¸¸é€šè¿‡deleteæ“ä½œçš„æ•°æ®å°†çœŸæ­£ä»è¡¨ä¸­åˆ é™¤ï¼Œä½†æœ‰äº›åœºæ™¯ä¸‹æˆ‘ä»¬å¸Œæœ›è®°å½•\n\nè¢«åˆ é™¤åï¼Œè¡¨ä¸­ä»ç„¶æœ‰è®°å½•ï¼Œé€šè¿‡æ·»åŠ æ ‡å¿—ä½ï¼Œæ¥åˆ¤æ–­è®°å½•æ˜¯å¦è¢«åˆ é™¤ã€‚\n\nç…§å¸¸ç¼–å†™ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹\n\n1. é¦–å…ˆåœ¨æ•°æ®åº“è¡¨ä¸­æ·»åŠ ä¸€ä¸ª`is_deleted`å­—æ®µï¼Œç±»å‹tiny_intå³å¯ï¼ˆåªä¼šç”¨åˆ°0å’Œ1ï¼‰\n\n2. åœ¨springbootçš„é…ç½®æ–‡ä»¶`application.yml`æ·»åŠ ä»¥ä¸‹é…ç½®\n\n   ```yaml\n   mybatis-plus:\n     global-config:\n       db-config:\n         logic-delete-field: isDeleted  # å…¨å±€é€»è¾‘åˆ é™¤çš„å®ä½“å­—æ®µå(since 3.3.0,é…ç½®åå¯ä»¥å¿½ç•¥ä¸é…ç½®å®ä½“ç±»å­—æ®µä¸Šçš„@TableLogicæ³¨è§£)\n         logic-delete-value: 1 # é€»è¾‘å·²åˆ é™¤å€¼(é»˜è®¤ä¸º 1)\n         logic-not-delete-value: 0 # é€»è¾‘æœªåˆ é™¤å€¼(é»˜è®¤ä¸º 0)\n   ```\n\n3. ä½¿ç”¨ä»£ç ç”Ÿæˆå™¨é‡æ–°ç”Ÿæˆå®ä½“ç±»ï¼Œè®°å¾—åŠ ä¸Šä¹‹å‰ä¸¤ä¸ª@TableFieldå·²å®ç°è‡ªåŠ¨å¡«å……ï¼ˆå«Œéº»çƒ¦ç›´æ¥åœ¨åé¢æ‰‹åŠ¨åŠ ä¸ŠisDeletedå±æ€§ä¹Ÿè¡Œã€‚å¦å¤–æˆ‘ä¹‹å‰åœ¨ä»£ç ç”Ÿæˆå™¨ç¯èŠ‚é…ç½®äº†å®ä½“ç±»å­˜åœ¨ä¹Ÿè¿›è¡Œè¦†ç›–ï¼Œä¸æƒ³è¦†ç›–çš„è‡ªå·±æ”¹å›æ¥ï¼‰\n\n4. ç¼–å†™åˆ é™¤æŸ¥è¯¢è¿›è¡Œæµ‹è¯•å³å¯\n\nè¿™é‡Œæµ‹è¯•é€»è¾‘æµ‹è¯•å‘ç°è®°å½•ç¡®å®æ²¡æœ‰è¢«åˆ é™¤ï¼Œä½†æ˜¯isDeletedå­—æ®µä¹Ÿæ²¡æœ‰æ”¹å˜ï¼Œè¿™æ˜¯å› ä¸ºä¹‹å‰çš„è®°å½•çš„isDeletedä¸ºnullï¼Œè€Œåœ¨åŠ å…¥é€»è¾‘åˆ é™¤ä¹‹åä¼šæŠŠæŸ¥è¯¢åŠæ›´æ–°çš„è¯­å¥éƒ½é™„åŠ ä¸€ä¸ªæ¡ä»¶ï¼Œ `isDeleted = 0`ï¼Œæ‰€ä»¥å»ºè®®åœ¨æ•°æ®åº“ä¸­å°†isDeletedå­—æ®µçš„é»˜è®¤å€¼è®¾ç½®ä¸º0ã€‚ä¸‹é¢æ˜¯å®˜æ–¹çš„ä¸€äº›è¯´æ˜åŠé—®é¢˜ã€‚\n\n> è¯´æ˜:\n>\n> åªå¯¹è‡ªåŠ¨æ³¨å…¥çš„sqlèµ·æ•ˆ:\n>\n> - æ’å…¥: ä¸ä½œé™åˆ¶\n> - æŸ¥æ‰¾: è¿½åŠ whereæ¡ä»¶è¿‡æ»¤æ‰å·²åˆ é™¤æ•°æ®,ä¸”ä½¿ç”¨ wrapper.entity ç”Ÿæˆçš„whereæ¡ä»¶ä¼šå¿½ç•¥è¯¥å­—æ®µ\n> - æ›´æ–°: è¿½åŠ whereæ¡ä»¶é˜²æ­¢æ›´æ–°åˆ°å·²åˆ é™¤æ•°æ®,ä¸”ä½¿ç”¨ wrapper.entity ç”Ÿæˆçš„whereæ¡ä»¶ä¼šå¿½ç•¥è¯¥å­—æ®µ\n> - åˆ é™¤: è½¬å˜ä¸º æ›´æ–°\n>\n> ä¾‹å¦‚:\n>\n> - åˆ é™¤: `update user set deleted=1 where id = 1 and deleted=0`\n> - æŸ¥æ‰¾: `select id,name,deleted from user where deleted=0`\n>\n> å­—æ®µç±»å‹æ”¯æŒè¯´æ˜:\n>\n> - æ”¯æŒæ‰€æœ‰æ•°æ®ç±»å‹(æ¨èä½¿ç”¨ `Integer`,`Boolean`,`LocalDateTime`)\n> - å¦‚æœæ•°æ®åº“å­—æ®µä½¿ç”¨`datetime`,é€»è¾‘æœªåˆ é™¤å€¼å’Œå·²åˆ é™¤å€¼æ”¯æŒé…ç½®ä¸ºå­—ç¬¦ä¸²`null`,å¦ä¸€ä¸ªå€¼æ”¯æŒé…ç½®ä¸ºå‡½æ•°æ¥è·å–å€¼å¦‚`now()`\n>\n> é™„å½•:\n>\n> - é€»è¾‘åˆ é™¤æ˜¯ä¸ºäº†æ–¹ä¾¿æ•°æ®æ¢å¤å’Œä¿æŠ¤æ•°æ®æœ¬èº«ä»·å€¼ç­‰ç­‰çš„ä¸€ç§æ–¹æ¡ˆï¼Œä½†å®é™…å°±æ˜¯åˆ é™¤ã€‚\n> - å¦‚æœä½ éœ€è¦é¢‘ç¹æŸ¥å‡ºæ¥çœ‹å°±ä¸åº”ä½¿ç”¨é€»è¾‘åˆ é™¤ï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ªçŠ¶æ€å»è¡¨ç¤ºã€‚\n\n![image-20210325210627121](https://cdn.jsdelivr.net/gh/alightyoung/static/img/20210325210642.png)\n\n### ä¹è§‚é”\n\n#### ä¹è§‚é”ç®€ä»‹\n\nä¹è§‚é”æ˜¯å¹¶å‘æ§åˆ¶ä¸­æ¯”è¾ƒå¸¸è§çš„çš„é”ï¼Œå®ƒé‡‡å–äº†æ›´åŠ å®½æ¾çš„åŠ é”æœºåˆ¶ç”¨äºæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚ï¼ˆ*ä¹è§‚é”æœºåˆ¶é¿å…äº†é•¿äº‹åŠ¡ä¸­çš„æ•°æ®åº“åŠ é”å¼€é”€*ï¼‰æœ€å¸¸è§çš„æ˜¯é‡‡ç”¨Versionè¿›è¡Œå¯¹æ•°æ®è¿›è¡Œè®°å½•ã€‚ä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹å®ƒçš„å®ç°æ–¹å¼ã€‚\n\n> å½“è¦æ›´æ–°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¸Œæœ›è¿™æ¡è®°å½•æ²¡æœ‰è¢«åˆ«äººæ›´æ–°\n>\n> - å–å‡ºè®°å½•æ—¶ï¼Œè·å–å½“å‰version\n> - æ›´æ–°æ—¶ï¼Œå¸¦ä¸Šè¿™ä¸ªversion\n> - æ‰§è¡Œæ›´æ–°æ—¶ï¼Œset version = newVersion where version = oldVersion\n> - å¦‚æœversionä¸å¯¹ï¼Œå°±æ›´æ–°å¤±è´¥\n\nå†è¡¥å……ä¸€ä¸ªä¾‹å­åŠ ä»¥ç†è§£ã€‚\n\nåœ¨ä¸€ä¸ªé‡‘èç³»ç»Ÿä¸­ï¼Œæ“ä½œå‘˜Aå’Œæ“ä½œå‘˜Béƒ½è¦å¯¹å®¢æˆ·çš„é‡‘é¢è¿›è¡Œä¿®æ”¹ï¼Œæ‰€ä»¥éƒ½è·å–äº†å®¢æˆ·å½“å‰é‡‘é¢100å…ƒï¼ˆ*åŒæ—¶è·å–å½“å‰versionï¼Œå‡è®¾ä¸º1*ï¼‰\n\n- æ“ä½œå‘˜Aæ‰£é™¤å…¶40å…ƒï¼Œå¹¶å°†å‰©ä½™é‡‘é¢60å…ƒè¿›è¡Œè¿”å›\n\n- æ“ä½œå‘˜Aæ‰£é™¤å…¶20å…ƒï¼Œå¹¶å°†å‰©ä½™é‡‘é¢80å…ƒè¿›è¡Œè¿”å›\n\nå‡è®¾æ“ä½œå‘˜Aå…ˆæ‰§è¡Œäº†æ›´æ–°ï¼Œè¿”å›äº†å®¢æˆ·çš„ä½™é¢60ï¼Œå¹¶è®¾ç½®äº†version=2\n\nç„¶åæ“ä½œå‘˜Båœ¨è¿›è¡Œæ›´æ–°çš„æ—¶å€™å‘ç°versionæ­¤æ—¶ä¸º2ï¼Œå’Œä¹‹å‰è·å–çš„ä¸ä¸€è‡´ï¼Œæ‰€ä»¥ä¼šå–æ¶ˆå½“å‰æ›´æ–°ã€‚ï¼ˆ*å‡è®¾æ²¡æœ‰versionçš„åˆ¤æ–­ï¼Œæ“ä½œå‘˜Bå°†ä½™é¢80è¿›è¡Œè¿”å›ï¼Œé‚£ä¹ˆå®¢æˆ·çš„ä½™é¢åè€Œæ›´å¤šäº†ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„*ï¼‰\n\n#### ä¹è§‚é”çš„å®ç°\n\nMybatis Plusä¸­ä½¿ç”¨äº†OptimisticLockerInnerInterceptoræ¥å®ç°ä¹è§‚é”ã€‚\n\nä½¿ç”¨æ–¹æ³•\n\n1. åœ¨æ•°æ®åº“ä¸­æ·»åŠ versionå­—æ®µï¼Œç±»å‹ä¸ºint\n\n2. ç±»ä¼¼äºåˆ†é¡µæ’ä»¶ï¼Œåœ¨mybatisPlusConfigæ·»åŠ ä¸€ä¸ªbeanï¼Œè¿”å›OptimisticLockerInnerInterceptorã€‚\n\n   ```java\n   @Bean\n   public OptimisticLockerInterceptor optimisticLockerInterceptor() {\n       OptimisticLockerInterceptor optimisticLockerInterceptor = new OptimisticLockerInterceptor();\n       return optimisticLockerInterceptor;\n   }\n   ```\n\n3. åœ¨å®ä½“ç±»æ·»åŠ å±æ€§ï¼Œå¹¶åŠ ä¸Šä»¥ä¸‹æ³¨è§£ï¼Œå°½ç®¡åªä½¿ç”¨äº†FieldFill.INSERTï¼Œä½†æ˜¯æ›´æ–°æ—¶ä»ä¼šè‡ªåŠ¨å¡«å……ã€‚\n\n   ```java\n   @Version\n   @TableField(fill = FieldFill.INSERT)\n   private Integer version;\n   ```\n\n4. åœ¨MyMetaObjectHandlerä¸­å®ç°versionå­—æ®µçš„è‡ªåŠ¨å¡«å……ï¼Œç»™versionä¸€ä¸ªåˆå§‹å€¼1ã€‚\n\n   ```java\n   @Override\n   public void insertFill(MetaObject metaObject) {\n       // æ–°å¢æ—¶éœ€è‡ªåŠ¨å¡«å……åˆ›å»ºåŠä¿®æ”¹æ—¶é—´\n       this.strictInsertFill(metaObject, \"createTime\", Date.class, new Date());\n       this.strictInsertFill(metaObject, \"updateTime\", Date.class, new Date());\n       this.strictInsertFill(metaObject, \"version\", Integer.class, 1);\n   }\n   ```\n\n5. è¿›è¡Œæ–°å¢ä»¥åŠä¿®æ”¹æµ‹è¯•ï¼Œæ³¨æ„ä¿®æ”¹æ—¶å¿…é¡»å…ˆæŸ¥è¯¢ï¼Œåªè¿›è¡Œä¿®æ”¹ä¸æŸ¥è¯¢ä¹è§‚é”å°†ä¸å†ç”Ÿæ•ˆ\n\n   ```java\n   @Test\n   public void testInsert() {\n       TTest testObj = new TTest();\n       testObj.setName(\"ç§»åŠ¨\");\n       tTestMapper.insert(testObj);\n   }\n\n   @Test\n   public void testUpdate() {\n       /**\n       * è¿™ç§ç›´æ¥çš„ä¿®æ”¹ä¹è§‚é”ä¸ä¼šç”Ÿæ•ˆï¼ˆversionä¸ä¼šæ”¹å˜ï¼‰\n       * TTest test = new TTest();\n       * test.setName(\"ç§»åŠ¨update\");\n       * tTestMapper.update(test, Wrappers.\u003CTTest>lambdaQuery().eq(TTest::getName, \"ç§»åŠ¨\"));\n       **/\n       // å…ˆæŸ¥è¯¢ï¼Œåä¿®æ”¹ï¼Œä¹è§‚é”ç”Ÿæ•ˆ\n       TTest test = tTestMapper.selectOne(Wrappers.\u003CTTest>lambdaQuery().eq(TTest::getName, \"ç§»åŠ¨\"));\n       test.setName(\"ç§»åŠ¨update\");\n       tTestMapper.updateById(test);\n   }\n   ```\n\n> è¯´æ˜:\n>\n> - **æ”¯æŒçš„æ•°æ®ç±»å‹åªæœ‰:int,Integer,long,Long,Date,Timestamp,LocalDateTime**\n> - æ•´æ•°ç±»å‹ä¸‹ `newVersion = oldVersion + 1`\n> - `newVersion` ä¼šå›å†™åˆ° `entity` ä¸­\n> - ä»…æ”¯æŒ `updateById(id)` ä¸ `update(entity, wrapper)` æ–¹æ³•\n> - **åœ¨ `update(entity, wrapper)` æ–¹æ³•ä¸‹, `wrapper` ä¸èƒ½å¤ç”¨!!!**\n\n### æœ€å\n\nMybatis Plusè‡³æ­¤ä¾¿å‘Šä¸€æ®µè½ï¼Œæ›´å¤šç»†èŠ‚è¯·å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://baomidou.com/guide/)ï¼ˆ*u1s1å®˜æ–¹æ–‡æ¡£çš„ç»†èŠ‚è¿˜æœ‰å¾…å®Œå–„ï¼Œå°å£°bb*ï¼‰\n","post/2021/20210330/":"\n### ç®€ä»‹\n\næ—©åœ¨19å¹´çš„æ—¶å€™ï¼ŒOracleå°±å®£å¸ƒJDKçš„è®¸å¯è¯å°†å‘ç”Ÿæ”¹å˜ã€‚ä»é‚£ä¸ªæ—¶å€™å°±æœ‰äº†ä¸¤ç§è®¸å¯è¯ï¼Œåˆ†åˆ«æ˜¯BCLï¼ˆ2019å¹´4æœˆ16æ—¥å‰çš„JDKï¼‰å’ŒOTNï¼Œå‰è€…æ˜¯å®Œå…¨å…è´¹çš„ï¼Œåè€…æ˜¯å•†ç”¨ä»˜è´¹çš„ã€‚ä¸ºæ­¤ï¼ŒOracleçš„è§£å†³æ–¹æ¡ˆæ˜¯æä¾›äº†ä¸¤ç§JDKï¼Œä¸€ä¸ªæ˜¯Oracle OpenJDK releasesï¼ˆ*GPL V2*ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯Oracle Java SE product releasesï¼ˆBCL/OTNï¼‰ã€‚ç®€å•æ¥è¯´ï¼Œå¦‚æœæƒ³ä½¿ç”¨è¾ƒæ–°ç‰ˆæœ¬çš„JDKåªèƒ½é€‰æ‹©[Oracle OpenJDK](http://openjdk.java.net/)ã€‚è¿˜æœ‰ä¸€ä¸ªé€‰æ‹©å°±æ˜¯è‡ªå·±è·å–OpenJDKæºç è‡ªè¡Œç¼–è¯‘ã€‚å¦å¤–ï¼Œä½¿ç”¨é˜¿é‡Œç­‰å…¶ä»–å…¬å¸ç»´æŠ¤çš„ç¬¬ä¸‰æ–¹OpenJDKä¹Ÿä¸å¤±ä¸ºä¸ºä¸€ä¸ªæ–¹æ¡ˆã€‚è¿™é‡Œé™„ä¸Šé˜¿é‡Œç»´æŠ¤çš„[Alibaba Dragonwell JDK](http://dragonwell-jdk.io/)ã€‚å¦‚æœéå¾—é€‰æ‹©Oracle Java SEä¸‹çš„JDKåªèƒ½é€‰æ‹©åœ¨2019å¹´4æœˆ16æ—¥å‰å‘å¸ƒçš„JDKï¼Œå»ºè®®ä½¿ç”¨å‰ç¡®è®¤ä¸€ä¸‹Oracle JDK FAQ [https://www.oracle.com/java/technologies/javase/jdk-faqs.html](https://www.oracle.com/java/technologies/javase/jdk-faqs.html)ã€‚\n\nåºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å§‹ä»‹ç»Java1.8å‡ ä¸ªå¸¸ç”¨çš„ç‰¹æ€§ã€‚\n\n### Lambdaè¡¨è¾¾å¼\n\nLambda è¡¨è¾¾å¼ï¼ˆlambda expressionï¼‰æ˜¯Java 8çš„ä¸€ä¸ªå¤§äº®ç‚¹ï¼ŒLambdaè¡¨è¾¾å¼åŸºäºæ•°å­¦ä¸­çš„[Î»æ¼”ç®—](https://baike.baidu.com/item/Î»æ¼”ç®—)å¾—åï¼Œç›´æ¥å¯¹åº”äºå…¶ä¸­çš„lambdaæŠ½è±¡ï¼ˆlambda abstractionï¼‰. Lambda å…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’åˆ°æ–¹æ³•ä¸­ï¼‰ï¼Œè¿™é‡Œçš„å‡½æ•°æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå³æ²¡æœ‰å‡½æ•°åçš„å‡½æ•°ã€‚Lambdaè¡¨è¾¾å¼å¯ä»¥è¡¨ç¤º[é—­åŒ…](https://baike.baidu.com/item/é—­åŒ…/10908873)ï¼ˆæ³¨æ„å’Œæ•°å­¦ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ä¸åŒï¼‰ã€‚ä½¿ç”¨Lambdaè¡¨è¾¾å¼å¯ä»¥ä½¿ä»£ç å˜å¾—ååˆ†ç®€æ´ã€‚\n\n**lambdaè¡¨è¾¾å¼çš„é‡è¦ç‰¹å¾**\n\n- **å¯é€‰ç±»å‹å£°æ˜ï¼š** ä¸éœ€è¦å£°æ˜å‚æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥ç»Ÿä¸€è¯†åˆ«å‚æ•°å€¼ã€‚\n- **å¯é€‰çš„å‚æ•°åœ†æ‹¬å·ï¼š** ä¸€ä¸ªå‚æ•°æ— éœ€å®šä¹‰åœ†æ‹¬å·ï¼Œä½†å¤šä¸ªå‚æ•°éœ€è¦å®šä¹‰åœ†æ‹¬å·ã€‚\n- **å¯é€‰çš„å¤§æ‹¬å·ï¼š** å¦‚æœä¸»ä½“åŒ…å«äº†ä¸€ä¸ªè¯­å¥ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚\n- **å¯é€‰çš„è¿”å›å…³é”®å­—ï¼š** å¦‚æœä¸»ä½“åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼è¿”å›å€¼åˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿”å›å€¼ï¼Œå¤§æ‹¬å·éœ€è¦æŒ‡å®šæ˜è¡¨è¾¾å¼è¿”å›äº†ä¸€ä¸ªæ•°å€¼ã€‚\n\nä¸¾ä¸ªä¾‹å­\n\n```java\n// æ²¡æœ‰å£°æ˜eçš„ç±»å‹ ä¸€ä¸ªå‚æ•°ï¼ˆçœç•¥åœ†æ‹¬å·ï¼‰ ä¸€ä¸ªè¯­å¥ï¼ˆçœç•¥å¤§æ‹¬å·ï¼‰ ä¸€ä¸ªè¡¨è¾¾å¼è‡ªåŠ¨è¿”å› e.getMessage()çš„ç»“æœ\ne -> e.getMessage()\n```\n\nè¿™ç§ç”¨æ³•æ˜¯æœ€ä¸ºå¸¸è§çš„ã€‚\n\n:::warning\nlambda è¡¨è¾¾å¼åªèƒ½å¼•ç”¨æ ‡è®°äº† **final** çš„å¤–å±‚å±€éƒ¨å˜é‡ï¼Œè¿™å°±æ˜¯è¯´ä¸èƒ½åœ¨ lambda å†…éƒ¨ä¿®æ”¹å®šä¹‰åœ¨åŸŸå¤–çš„å±€éƒ¨å˜é‡ï¼Œå¦åˆ™ä¼šç¼–è¯‘é”™è¯¯ã€‚\n\nlambda è¡¨è¾¾å¼çš„å±€éƒ¨å˜é‡å¯ä»¥ä¸ç”¨å£°æ˜ä¸º finalï¼Œä½†æ˜¯å¿…é¡»ä¸å¯è¢«åé¢çš„ä»£ç ä¿®æ”¹ï¼ˆå³éšæ€§çš„å…·æœ‰ final çš„è¯­ä¹‰ï¼‰\n\nLambda è¡¨è¾¾å¼å½“ä¸­ä¸å…è®¸å£°æ˜ä¸€ä¸ªä¸å±€éƒ¨å˜é‡åŒåçš„å‚æ•°æˆ–è€…å±€éƒ¨å˜é‡ã€‚\n:::\n\n### æ–¹æ³•å¼•ç”¨\n\næ–¹æ³•å¼•ç”¨é€šè¿‡ä½¿ç”¨`::`æ¥å¼•ç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œeg. `Class/instance::method`ã€‚\n\n1. æ„é€ å™¨å¼•ç”¨ï¼ˆ`User::new`ï¼‰\n2. é™æ€æ–¹æ³•å¼•ç”¨\n3. ç‰¹å®šç±»çš„ä»»æ„å¯¹è±¡çš„æ–¹æ³•å¼•ç”¨\n4. ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨\n\nç¼–å†™ä¸€ä¸ªç®€å•çš„ä¾‹å­\n\n```java\nnew ArrayList\u003CString>(){{add(\"1\");add(\"2\");add(\"3\");}}.forEach(System.out::println);\n```\n\n### å‡½æ•°å¼æ¥å£\n\nå‡½æ•°å¼æ¥å£æŒ‡çš„æ˜¯è¯¥æ¥å£**æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•**\n\nå‡½æ•°å¼æ¥å£åŸºæœ¬ä¸Šç”¨äºé…åˆlambdaè¡¨è¾¾å¼\n\nä½¿ç”¨`@FunctionalInterface`å£°æ˜è¯¥æ¥å£ä¸ºå‡½æ•°å¼æ¥å£\n\n```java\n@FunctionalInterface\npublic interface Runnable {\n    /**\n     * When an object implementing interface \u003Ccode>Runnable\u003C/code> is used\n     * to create a thread, starting the thread causes the object's\n     * \u003Ccode>run\u003C/code> method to be called in that separately executing\n     * thread.\n     * \u003Cp>\n     * The general contract of the method \u003Ccode>run\u003C/code> is that it may\n     * take any action whatsoever.\n     *\n     * @see     java.lang.Thread#run()\n     */\n    public abstract void run();\n}\n```\n\nå¯ä»¥çœ‹åˆ°Runnableæ¥å£å°±æ˜¯å‡½æ•°å¼æ¥å£\n\nå¥½å¤„å°±åœ¨äºå¯ä»¥ç›´æ¥ä½¿ç”¨lambdaè¡¨è¾¾å¼å®ç°è¯¥æ¥å£ï¼Œä¸å†éœ€è¦é€šè¿‡åŒ¿åå†…éƒ¨ç±»\n\nåŒ¿åå†…éƒ¨ç±»æ˜¯è¿™æ ·çš„\n\n```java\nThread thread = new Thread(new Runnable() {\n\t@Override\n    public void run() {\n\n    }\n});\n```\n\nlambda expressionæ–¹å¼\n\n```java\nThread thread = new Thread(()->{\n\n});\n```\n\nä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹å¦‚æœä¸æ˜¯FunctionalInterfaceçš„è¯ä¼šå‘ç”Ÿä»€ä¹ˆ\n\n```java\ninterface Phone {\n    void brand(String brand);\n    void name(String name);\n}\n\nclass Human{\n    Human(Phone phone){\n    \tSystem.out.println(\"play phone...\");\n    }\n}\n\nHuman human = new Human(new Phone() {\n    @Override\n    public void brand(String brand) {\n\n    }\n\n    @Override\n    public void name(String name) {\n\n    }\n});\n// å†™æˆè¿™ç§å°†ä¼šç¼–è¯‘é”™è¯¯\n// Multiple non-overriding abstract methods found in interface xxx.xxx.xxxx.Class.Phone\n// Human human = new Human(()->{});\n\n// è€Œå¦‚æœåˆ æ‰Phoneæ¥å£çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä½¿å…¶æ»¡è¶³æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨lambda expression\n// Human human = new Human(brand->{});\n\n// @FunctionalInterfaceä¸æ˜¯å¿…éœ€çš„ã€‚å£°æ˜è¯¥æ³¨è§£çš„ä½œç”¨åœ¨äºå¦‚æœè¯¥æ¥å£ä¸­å‡ºç°ä¸¤ä¸ªæˆ–ä»¥ä¸ŠæŠ½è±¡æ–¹æ³•æ—¶ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯\n```\n\n### Stream API\n\nç›¸ä¿¡Stream APIå·²ç»å¹¶ä¸å°‘è§äº†ï¼Œå†™æœ¬æ–‡çš„å‡ºå‘ç‚¹ä¹Ÿæ˜¯å› ä¸ºStream APIï¼Œå› ä¸ºç»å¸¸çœ‹åˆ°åˆ«äººä½¿ç”¨Stream APIåˆå§‹åŒ–å®¹å™¨ã€‚\n\né‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼Œä»€ä¹ˆæ—¶streamï¼Ÿ\n\nstreamæ˜¯ä¸€ä¸ªéå¸¸æŠ½è±¡çš„æ¦‚å¿µã€‚å¯ä»¥å…ˆç®€å•ç†è§£æˆ**æ¥è‡ªæ•°æ®æºçš„å…ƒç´ é˜Ÿåˆ—å¹¶æ”¯æŒèšåˆæ“ä½œ**\n\näº†è§£å­—èŠ‚æµçš„æ¦‚å¿µçš„è¯åº”è¯¥ä¸éš¾ç†è§£\n\n**ä¸¤ä¸ªåŸºç¡€ç‰¹å¾**\n\n- **Pipelining**: ä¸­é—´æ“ä½œéƒ½ä¼šè¿”å›æµå¯¹è±¡æœ¬èº«ã€‚ è¿™æ ·å¤šä¸ªæ“ä½œå¯ä»¥ä¸²è”æˆä¸€ä¸ªç®¡é“ï¼Œ å¦‚åŒæµå¼é£æ ¼ï¼ˆfluent styleï¼‰ã€‚ è¿™æ ·åšå¯ä»¥å¯¹æ“ä½œè¿›è¡Œä¼˜åŒ–ï¼Œ æ¯”å¦‚å»¶è¿Ÿæ‰§è¡Œ(laziness)å’ŒçŸ­è·¯( short-circuiting)ã€‚\n- **å†…éƒ¨è¿­ä»£**ï¼š ä»¥å‰å¯¹é›†åˆéå†éƒ½æ˜¯é€šè¿‡Iteratoræˆ–è€…For-Eachçš„æ–¹å¼, æ˜¾å¼çš„åœ¨é›†åˆå¤–éƒ¨è¿›è¡Œè¿­ä»£ï¼Œ è¿™å«åšå¤–éƒ¨è¿­ä»£ã€‚ Streamæä¾›äº†å†…éƒ¨è¿­ä»£çš„æ–¹å¼ï¼Œ é€šè¿‡è®¿é—®è€…æ¨¡å¼(Visitor)å®ç°ã€‚\n\n#### æµçš„ç”Ÿæˆ\n\nåœ¨Java 8 ä¸­ï¼Œé›†åˆå¯¹è±¡å¯ä»¥é€šè¿‡ **stream()** æˆ–è€… **parallelStream** ä¸ºé›†åˆåˆ›å»ºæµï¼ŒåŒºåˆ«åœ¨äºå‰è€…æ˜¯ä¸²è¡Œæµï¼Œåè€…æ˜¯å¹¶è¡Œæµã€‚\n\n```java\nList\u003CString> filtered = Arrays.asList(\"abc\", \"\", \"bc\", \"efg\", \"abcd\",\"\", \"jkl\").stream().filter(string -> !string.isEmpty()).collect(Collectors.toList());\n```\n\né€šè¿‡stream+lambdaï¼Œæˆ‘ä»¬ç«Ÿå¯ä»¥å¦‚æ­¤ä¼˜é›…çš„å®ç°Listçš„ç­›é€‰ï¼\n\n#### forEach\n\nStream æä¾›äº†æ–°çš„æ–¹æ³• `forEach` æ¥è¿­ä»£æµä¸­çš„æ¯ä¸ªæ•°æ®ã€‚ä»¥ä¸‹ä»£ç ç‰‡æ®µä½¿ç”¨ forEach è¾“å‡ºäº†10ä¸ªéšæœºæ•°ï¼š\n\n```java\nnew Random().ints().limit(10).forEach(System.err::println);\n```\n\n#### map\n\nmap æ–¹æ³•ç”¨äºæ˜ å°„æ¯ä¸ªå…ƒç´ åˆ°å¯¹åº”çš„ç»“æœï¼Œä»¥ä¸‹ä»£ç ç‰‡æ®µä½¿ç”¨ map è¾“å‡ºäº†å…ƒç´ å¯¹åº”çš„å¹³æ–¹æ•°ï¼š\n\n```java\n// è·å–å¯¹åº”çš„å¹³æ–¹æ•° distinct:å»é‡\nList\u003CInteger> squaresList = Arrays.asList(3, 2, 2, 3, 7, 3, 5).stream().map( i -> i*i).distinct().collect(Collectors.toList());\n```\n\n#### filter\n\nfilter æ–¹æ³•ç”¨äºé€šè¿‡è®¾ç½®çš„æ¡ä»¶è¿‡æ»¤å‡ºå…ƒç´ ã€‚\n\n```java\n// è·å–ç©ºå­—ç¬¦ä¸²çš„æ•°é‡\nArrays.asList(\"abc\", \"\", \"bc\", \"efg\", \"abcd\",\"\", \"jkl\").stream().filter(string -> string.isEmpty()).count();\n```\n\n#### limit\n\nlimit æ–¹æ³•ç”¨äºè·å–æŒ‡å®šæ•°é‡çš„æµã€‚ä¾‹å­ä¹‹å‰foreachå·²ç»å±•ç¤ºè¿‡äº†\n\n#### sorted\n\nsorted æ–¹æ³•ç”¨äºå¯¹æµè¿›è¡Œæ’åºã€‚\n\n```java\nnew Random().ints().limit(10).sorted().forEach(System.err::println);\n```\n\nsort list\n\n```java\n// sort by desc\nnew ArrayList\u003CInteger>(){{\n            add(1);\n            add(2);\n            add(3);\n            add(4);\n        }}.stream().sorted(Comparator.reverseOrder()).forEach(System.out::println);\n```\n\nsort map\n\n```java\n// sort by key\nmap.entrySet().stream().sorted(Map.Entry.comparingByKey()).forEach(e -> System.out.println(e.getKey() + \" \" + e.getValue()));\n// sort by key desc\nmap.entrySet().stream().sorted(Map.Entry.comparingByKey(Comparator.reverseOrder())).forEach(e -> System.out.println(e.getKey() + \" \" + e.getValue()));\n// sort by value\nmap.entrySet().stream().sorted(Map.Entry.comparingByValue()).forEach(e -> System.out.println(e.getKey() + \" \" + e.getValue()));\n// sort by value desc\nmap.entrySet().stream().sorted(Map.Entry.comparingByValue(Comparator.reverseOrder())).forEach(e -> System.out.println(e.getKey() + \" \" + e.getVal\n```\n\n#### Collectors\n\nCollectors ç±»å®ç°äº†å¾ˆå¤šå½’çº¦æ“ä½œï¼Œä¾‹å¦‚å°†æµè½¬æ¢æˆé›†åˆå’Œèšåˆå…ƒç´ ã€‚Collectors å¯ç”¨äºè¿”å›åˆ—è¡¨æˆ–å­—ç¬¦ä¸²ã€‚\n\n```java\nList\u003CString>strings = Arrays.asList(\"abc\", \"\", \"bc\", \"efg\", \"abcd\",\"\", \"jkl\");\n// è½¬æˆé›†åˆ\nList\u003CString> filtered = strings.stream().filter(string -> !string.isEmpty()).collect(Collectors.toList());\n// è½¬æˆå­—ç¬¦ä¸²\nString mergedString = strings.stream().filter(string -> !string.isEmpty()).collect(Collectors.joining(\", \"));\n```\n\n#### ç»Ÿè®¡\n\nä¸€äº›äº§ç”Ÿç»Ÿè®¡ç»“æœçš„æ”¶é›†å™¨ä¹Ÿéå¸¸æœ‰ç”¨ã€‚å®ƒä»¬ä¸»è¦ç”¨äºintã€doubleã€longç­‰åŸºæœ¬ç±»å‹ä¸Šï¼Œå®ƒä»¬å¯ä»¥ç”¨æ¥äº§ç”Ÿç±»ä¼¼å¦‚ä¸‹çš„ç»Ÿè®¡ç»“æœã€‚\n\n```java\nList\u003CInteger> numbers = Arrays.asList(3, 2, 2, 3, 7, 3, 5);\n\nIntSummaryStatistics stats = numbers.stream().mapToInt((x) -> x).summaryStatistics();\n\nSystem.out.println(\"åˆ—è¡¨ä¸­æœ€å¤§çš„æ•° : \" + stats.getMax());\nSystem.out.println(\"åˆ—è¡¨ä¸­æœ€å°çš„æ•° : \" + stats.getMin());\nSystem.out.println(\"æ‰€æœ‰æ•°ä¹‹å’Œ : \" + stats.getSum());\nSystem.out.println(\"å¹³å‡æ•° : \" + stats.getAverage());\n```\n\nç”¨è¿‡çš„éƒ½è¯´å¥½ï¼\n\n### Date Time API\n\nJava 8é€šè¿‡å‘å¸ƒæ–°çš„Date Time API (JSR 310)æ¥è¿›ä¸€æ­¥åŠ å¼ºå¯¹æ—¥æœŸä¸æ—¶é—´çš„å¤„ç†ã€‚\n\nåœ¨æ—§ç‰ˆçš„ Java ä¸­ï¼Œæ—¥æœŸæ—¶é—´ API å­˜åœ¨è¯¸å¤šé—®é¢˜ï¼Œå…¶ä¸­æœ‰ï¼š\n\n- **éçº¿ç¨‹å®‰å…¨** âˆ’ java.util.Date æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€æœ‰çš„æ—¥æœŸç±»éƒ½æ˜¯å¯å˜çš„ï¼Œè¿™æ˜¯Javaæ—¥æœŸç±»æœ€å¤§çš„é—®é¢˜ä¹‹ä¸€ã€‚\n- **è®¾è®¡å¾ˆå·®** âˆ’ Javaçš„æ—¥æœŸ/æ—¶é—´ç±»çš„å®šä¹‰å¹¶ä¸ä¸€è‡´ï¼Œåœ¨java.utilå’Œjava.sqlçš„åŒ…ä¸­éƒ½æœ‰æ—¥æœŸç±»ï¼Œæ­¤å¤–ç”¨äºæ ¼å¼åŒ–å’Œè§£æçš„ç±»åœ¨java.textåŒ…ä¸­å®šä¹‰ã€‚java.util.DateåŒæ—¶åŒ…å«æ—¥æœŸå’Œæ—¶é—´ï¼Œè€Œjava.sql.Dateä»…åŒ…å«æ—¥æœŸï¼Œå°†å…¶çº³å…¥java.sqlåŒ…å¹¶ä¸åˆç†ã€‚å¦å¤–è¿™ä¸¤ä¸ªç±»éƒ½æœ‰ç›¸åŒçš„åå­—ï¼Œè¿™æœ¬èº«å°±æ˜¯ä¸€ä¸ªéå¸¸ç³Ÿç³•çš„è®¾è®¡ã€‚\n- **æ—¶åŒºå¤„ç†éº»çƒ¦** âˆ’ æ—¥æœŸç±»å¹¶ä¸æä¾›å›½é™…åŒ–ï¼Œæ²¡æœ‰æ—¶åŒºæ”¯æŒï¼Œå› æ­¤Javaå¼•å…¥äº†java.util.Calendarå’Œjava.util.TimeZoneç±»ï¼Œä½†ä»–ä»¬åŒæ ·å­˜åœ¨ä¸Šè¿°æ‰€æœ‰çš„é—®é¢˜ã€‚\n\nJava 8 åœ¨ **java.time** åŒ…ä¸‹æä¾›äº†å¾ˆå¤šæ–°çš„ APIã€‚ä»¥ä¸‹ä¸ºä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„ APIï¼š\n\n- **Local(æœ¬åœ°)** âˆ’ ç®€åŒ–äº†æ—¥æœŸæ—¶é—´çš„å¤„ç†ï¼Œæ²¡æœ‰æ—¶åŒºçš„é—®é¢˜ã€‚\n- **Zoned(æ—¶åŒº)** âˆ’ é€šè¿‡åˆ¶å®šçš„æ—¶åŒºå¤„ç†æ—¥æœŸæ—¶é—´ã€‚\n\næ–°çš„java.timeåŒ…æ¶µç›–äº†æ‰€æœ‰å¤„ç†æ—¥æœŸï¼Œæ—¶é—´ï¼Œæ—¥æœŸ/æ—¶é—´ï¼Œæ—¶åŒºï¼Œæ—¶åˆ»ï¼ˆinstantsï¼‰ï¼Œè¿‡ç¨‹ï¼ˆduringï¼‰ä¸æ—¶é’Ÿï¼ˆclockï¼‰çš„æ“ä½œã€‚\n\n#### æœ¬åœ°åŒ–æ—¥æœŸæ—¶é—´ API\n\nä¸éœ€è¦è€ƒè™‘æ—¶åŒºçš„æƒ…å†µã€‚\n\n```java\nLocalDateTime currentTime = LocalDateTime.now();\nSystem.out.println(currentTime); // 2021-03-29T21:31:25.006189300\nLocalDate localDate = currentTime.toLocalDate();\nSystem.out.println(localDate); // 2021-03-29\nLocalTime localTime = currentTime.toLocalTime();\nSystem.out.println(localTime); // 21:31:25.006189300\n// ç±»ä¼¼è·å–å¹´æœˆæ—¥éƒ½å¯ä»¥çŒœåˆ°æ€ä¹ˆè°ƒäº†\n// è§£æå­—ç¬¦ä¸² å…¶ä»–ä¾æ­¤ç±»æ¨\nLocalTime parseTime = LocalTime.parse(\"21:31:25\");\n// 21 å°æ—¶ 31 åˆ†é’Ÿ\nLocalTime date4 = LocalTime.of(21, 31);\n// 29 March 2021\nLocalDate date3 = LocalDate.of(2021, Month.MARCH, 29);\n```\n\n#### ä½¿ç”¨æ—¶åŒºçš„æ—¥æœŸæ—¶é—´API\n\nå¦‚æœæˆ‘ä»¬éœ€è¦è€ƒè™‘åˆ°æ—¶åŒºï¼Œå°±å¯ä»¥ä½¿ç”¨æ—¶åŒºçš„æ—¥æœŸæ—¶é—´APIã€‚\n\n``` java\n// è·å–å½“å‰æ—¶é—´æ—¥æœŸ\nZonedDateTime now = ZonedDateTime.now();\nSystem.out.println(now); // 2021-03-29T21:40:22.618917600+08:00[Asia/Shanghai]\n// è§£æ\nZonedDateTime zonedDateTime = ZonedDateTime.parse(now.toString());\n// æ—¶åŒºID\nZoneId zoneId = now.getZone();\nZoneId zoneId2 = ZoneId.of(\"Europe/Paris\");\n// ç³»ç»Ÿæ—¶åŒº\nZoneId currentZoneId = ZoneId.systemDefault();\nSystem.out.println(currentZoneId); // Asia/Shanghai\n// è½¬æ¢\nZonedDateTime.of(LocalDateTime.now(),ZoneId.systemDefault());\n```\n\n### Optional ç±»\n\nä¸»è¦ç”¨æ¥å¤„ç†ä¸€äº›å¯ä»¥é¢„è§åˆ°å¯èƒ½ä¸ºnullçš„æƒ…å†µï¼Œé¿å…å‡ºç°é”™è¯¯ï¼Œæ³¨æ„Optionnalæœ¬èº«ä¸ä¸ºnullï¼Œå®ƒåº”å½“æ°¸è¿œæŒ‡å‘Optionalçš„å®ä¾‹ã€‚\n\n:::tip\nåœ¨Optionalçš„å®ä¾‹ä¸Šä½¿ç”¨å¯¹æ ‡è¯†æ•æ„Ÿçš„æ“ä½œï¼ˆåŒ…æ‹¬å¼•ç”¨ç›¸ç­‰ï¼ˆ=ï¼‰ã€æ ‡è¯†å“ˆå¸Œç æˆ–åŒæ­¥ï¼‰å¯èƒ½ä¼šäº§ç”Ÿä¸å¯é¢„çŸ¥çš„ç»“æœï¼Œåº”è¯¥é¿å…ã€‚\n:::\n\nå¸¸è§ç”¨æ³•\n\n```java\n// Optional.ofNullable - å…è®¸ä¼ é€’ä¸º null å‚æ•°\nOptional\u003CInteger> o1 = Optional.ofNullable(null);\n// ä¸å…è®¸ ä¼šæŠ›NullPointerException\n// Optional\u003CObject> o2 = Optional.of(null);\n// isPresent åˆ¤æ–­æ˜¯å¦ä¸ºnull\nif(o1.isPresent()){ // æ­¤å¤„ä¸ºfalse\n    // è·å–å€¼ï¼Œå¿…é¡»å€¼å­˜åœ¨\n    o1.get();\n}\n// å­˜åœ¨ç›´æ¥è¿”å›ï¼Œä¸å­˜åœ¨è¿”å›æŒ‡å®šå€¼\no1.orElse(0);\n```\n\nå¸¸è§çš„å°±ä»¥ä¸Šè¿™äº›ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–apiï¼Œä½†æ˜¯è§çš„æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥æ²¡æœ‰åˆ—ä¸¾ã€‚\n\nå€¼å¾—ä¸€æçš„æ˜¯ï¼ŒOptionalç±»ä¹Ÿæ”¯æŒStream APIã€‚\n\n### æœ€å\n\nJDK 8çš„æ–°ç‰¹æ€§å…¶å®è¿œä¸æ­¢æ­¤ï¼Œæ›´å¤šæ–°ç‰¹æ€§å¯ä»¥æŸ¥çœ‹ [What is new in JDK 8](https://www.oracle.com/java/technologies/javase/8-whats-new.html)\n","post/2021/20210408/":"\n## ä»€ä¹ˆæ˜¯REST\n\nRESTæ˜¯**ä»£è¡¨æ€§çŠ¶æ€è½¬ç§»**çš„é¦–å­—æ¯ç¼©å†™ï¼ˆ**RE**presentational **S**tate **T**ransferï¼‰ï¼Œå®ƒæ˜¯åˆ†å¸ƒå¼è¶…åª’ä½“ç³»ç»Ÿçš„ä½“ç³»ç»“æ„æ ·å¼ï¼Œç”±Roy Fieldingäº2000å¹´åœ¨ä»–çš„è‘—åè®ºæ–‡ä¸­é¦–æ¬¡æå‡ºã€‚\n\n## RESTçš„æŒ‡å¯¼åŸåˆ™\n\nå¦‚æœè¦å°†æ¥å£ç§°ä¹‹ä¸ºRESTfulï¼Œåˆ™éœ€è¦æ»¡è¶³ä»¥ä¸‹6ä¸ªåŸºæœ¬åŸåˆ™\n\n### 1.å®¢æˆ·ç«¯æœåŠ¡å™¨\n\nè¿™ç§é™åˆ¶æœ¬è´¨ä¸Šæ„å‘³ç€å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºå’ŒæœåŠ¡å™¨åº”ç”¨ç¨‹åºå¿…é¡»èƒ½å¤Ÿç‹¬ç«‹åœ°å‘å±•è€Œä¸ä¼šç›¸äº’ä¾èµ–ã€‚å®¢æˆ·ç«¯åº”è¯¥åªçŸ¥é“èµ„æºURIï¼Œä»…æ­¤è€Œå·²ã€‚\n\nå¯ä»¥ç†è§£æˆå‰ååˆ†ç¦»\n\n### 2.æ— çŠ¶æ€\n\næ‰€æœ‰å®¢æˆ·ç«¯-æœåŠ¡å™¨äº¤äº’éƒ½å˜ä¸ºæ— çŠ¶æ€ã€‚æœåŠ¡å™¨å°†ä¸å­˜å‚¨æœ‰å…³å®¢æˆ·ç«¯å‘å‡ºçš„æœ€æ–°HTTPè¯·æ±‚çš„ä»»ä½•å†…å®¹ã€‚å®ƒå°†æ¯ä¸ªè¯·æ±‚è§†ä¸ºæ–°è¯·æ±‚ã€‚æ²¡æœ‰ä¼šè®®ï¼Œæ²¡æœ‰å†å²ã€‚\n\n### 3.å¯ç¼“å­˜\n\nç¼“å­˜çº¦æŸè¦æ±‚å¯¹è¯·æ±‚çš„å“åº”ä¸­çš„æ•°æ®è¢«éšå¼æˆ–æ˜¾å¼æ ‡è®°ä¸ºå¯ç¼“å­˜æˆ–ä¸å¯ç¼“å­˜ã€‚ å¦‚æœå“åº”æ˜¯å¯ç¼“å­˜çš„ï¼Œåˆ™æˆäºˆå®¢æˆ·ç«¯ç¼“å­˜ä»¥å°†å“åº”æ•°æ®é‡æ–°ç”¨äºä»¥åçš„ç­‰æ•ˆè¯·æ±‚çš„æƒé™ã€‚\n\n### 4.ç»Ÿä¸€æ¥å£\n\nç³»ç»Ÿä¸­çš„èµ„æºåº”**ä»…å…·æœ‰ä¸€ä¸ª**é€»è¾‘URIï¼Œå¹¶ä¸”åº”æä¾›ä¸€ç§è·å–ç›¸å…³æˆ–é™„åŠ æ•°æ®çš„æ–¹å¼ã€‚æœ€å¥½å°†**èµ„æºä¸ç½‘é¡µåŒä¹‰**ã€‚\n\n### 5.åˆ†å±‚ç³»ç»Ÿ\n\nRESTå…è®¸æ‚¨ä½¿ç”¨åˆ†å±‚çš„ç³»ç»Ÿæ¶æ„ï¼Œåœ¨è¯¥æ¶æ„ä¸­ï¼Œæ‚¨å¯ä»¥åœ¨æœåŠ¡å™¨Aä¸Šéƒ¨ç½²APIï¼Œå¹¶åœ¨æœåŠ¡å™¨Bä¸Šå­˜å‚¨æ•°æ®å¹¶åœ¨æœåŠ¡å™¨Cä¸­å¯¹è¯·æ±‚è¿›è¡Œèº«ä»½éªŒè¯ã€‚å®¢æˆ·ç«¯é€šå¸¸æ— æ³•çŸ¥é“è‡ªå·±æ˜¯ç›´æ¥è¿æ¥åˆ°ç»ˆç«¯æœåŠ¡å™¨è¿˜æ˜¯ä¸­é—´è®¾å¤‡ã€‚\n\n### 6.æŒ‰éœ€ä»£ç ï¼ˆå¯é€‰ï¼‰\n\nå¤§å¤šæ•°æ—¶å€™ï¼Œæ‚¨å°†ä»¥XMLæˆ–JSONçš„å½¢å¼å‘é€èµ„æºçš„é™æ€è¡¨ç¤ºã€‚ä½†æ˜¯ï¼Œåœ¨éœ€è¦æ—¶ï¼Œæ‚¨å¯ä»¥è‡ªç”±åœ°`return executable code`æ”¯æŒåº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼Œå®¢æˆ·ç«¯å¯ä»¥è°ƒç”¨æ‚¨çš„APIæ¥è·å–UIçª—å£å°éƒ¨ä»¶å‘ˆç°ä»£ç ã€‚è¿™æ˜¯å…è®¸çš„ã€‚\n\n## REST APIè®¾è®¡çš„æœ€ä½³åšæ³•\n\n### 1.æ¥å—å¹¶ä½¿ç”¨JSONè¿›è¡Œå“åº”\n\nç°åœ¨ä¸»æµåŸºæœ¬éƒ½æ˜¯å‰ååˆ†ç¦»ï¼Œè¿”å›JSONäº†ï¼Œæ²¡å•¥å¥½è¯´çš„ã€‚æ›¾ç»éå¸¸æµè¡Œçš„XMLç°åœ¨ä¹Ÿå¾ˆå°‘è§äº†ã€‚JSONæ ¼å¼çš„æœ€å¤§ä¼˜åŠ¿å°±åœ¨äºJSONç»“æ„æ›´å®¹æ˜“**æ˜ å°„**è‡³ä¸€èˆ¬è¯­è¨€çš„æ•°æ®ç»“æ„ï¼Œæ›´å¥½å¤„ç†ã€‚è€Œåœ¨æ˜“è¯»æ€§ï¼Œè¿™ä¸ªå°±è§ä»è§æ™ºäº†ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹XMLæ•°æ®ä¼šæ›´åŠ å†—ä½™ï¼Œä¼ è¾“æ•ˆç‡ç›¸å¯¹è¾ƒä½ï¼Œè¿™ç‚¹æ˜¯æ¯‹åº¸ç½®ç–‘çš„ã€‚\n\n### 2.åœ¨è·¯å¾„ä¸­ä½¿ç”¨åè¯ä»£æ›¿åŠ¨è¯\n\nä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä»¥å‰å®šä¹‰urlæ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šåŠ ä¸Šgetï¼Œdeleteä¹‹ç±»çš„åŠ¨è¯ï¼Œè€Œåœ¨RESTful APIä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨`åè¯`+`è¯·æ±‚æ–¹æ³•ç±»å‹`å°±èƒ½åˆ¤æ–­å‡ºAPIçš„å«ä¹‰ã€‚\n\nHTTPå¸¸è§çš„è¯·æ±‚æ–¹æ³•æœ‰`GET`ã€`POST`ã€`PUT`ã€`DELETE`ã€‚å…¶ä¸­`GET`ç”¨äºæ£€ç´¢èµ„æºï¼ˆreadï¼‰ã€‚` POST`å°†æ–°æ•°æ®æäº¤åˆ°æœåŠ¡å™¨ï¼ˆcreateï¼‰ã€‚ `PUT`æ›´æ–°ç°æœ‰æ•°æ®ï¼ˆupdateï¼‰ã€‚ `DELETE`åˆ é™¤æ•°æ®ï¼ˆdeleteï¼‰ã€‚é€šè¿‡è¿™äº›åŠ¨è¯æ˜ å°„åˆ°CRUDæ“ä½œã€‚\n\nä¾‹å¦‚ :\n\n`GET: /students/:id` æ ¹æ®idæŸ¥è¯¢ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯\n\n`DELETE: /students/:id` æ ¹æ®idåˆ é™¤ä¸€ä¸ªå­¦ç”Ÿ\n\n`POST: /students` æ–°å¢ä¸€ä¸ªå­¦ç”Ÿ\n\n`PUT: /students/:id` ä¿®æ”¹ä¸€ä¸ªå­¦ç”Ÿçš„ä¿¡æ¯\n\n> æ³¨æ„ï¼šé¿å…èµ„æºURLéƒ¨åˆ†ä½¿ç”¨å¤æ•°ï¼Œè¿™ä¼šå½±å“APIçš„ç»Ÿä¸€æ€§ã€‚\n\n### 3.ä½¿ç”¨å¤æ•°åè¯å‘½åé›†åˆ\n\né€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨articlesè·å–ä¸€ä¸ªæ–‡ç« åˆ—è¡¨ï¼Œå¦‚æœæ˜¯éœ€è¦ä¸€ç¯‡æ–‡ç« ï¼Œåˆ™å¯ä»¥åœ¨èµ„æºé›†åˆååŠ ä¸ªidã€‚eg. `/articles/:id`ã€‚åŒæ—¶ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ•°æ®åº“è¡¨åä¸€èˆ¬ä¹Ÿæ˜¯å¤æ•°ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ä¸æ•°æ®åº“çš„è¡¨ä¿æŒä¸€è‡´æ€§ã€‚å¯ä»¥é¿å…å‡ºç°æ­§ä¹‰ã€‚\n\n### 4.å¯¹åˆ†å±‚å¯¹è±¡ä½¿ç”¨åµŒå¥—èµ„æº\n\nå¤„ç†åµŒå¥—èµ„æºçš„è·¯å¾„åº”é€šè¿‡å°†åµŒå¥—èµ„æºé™„åŠ ä¸ºçˆ¶èµ„æºåé¢çš„è·¯å¾„çš„åç§°æ¥å®Œæˆã€‚\n\nä¾‹å¦‚ï¼Œè·å–æŸç¯‡æ–‡ç« çš„è¯„è®º\n\n`/articles/:articleid/comments`\n\nåœ¨è¿™ç§ç»“æ„ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šçš„çŸ¥é“è¯„è®ºèµ„æºæ˜¯æ–‡ç« èµ„æºçš„å­å¯¹è±¡ã€‚\n\n### 5.ä¼˜é›…å¤„ç†é”™è¯¯å¹¶è¿”å›æ ‡å‡†çŠ¶æ€ç \n\nå‘ç”Ÿé”™è¯¯çš„å¯èƒ½æ˜¯å¤šæ ·çš„ï¼Œä¸ºäº†ä¼˜é›…çš„å¤„ç†é”™è¯¯ï¼Œæˆ‘ä»¬å¿…é¡»å®šä¸‹ä¸€äº›å“åº”ç ä»¥ä½¿APIç”¨æˆ·åœ¨å‡ºç°é”™è¯¯æ—¶ä¸è‡³äºå›°æƒ‘ã€‚\n\n#### HTTP Status Codes\n\nHTTPå®šä¹‰äº†ä¸€äº›æ ‡å‡†çŠ¶æ€ä»£ç ï¼Œå¯ç”¨äºä¼ è¾¾å®¢æˆ·è¯·æ±‚çš„ç»“æœã€‚çŠ¶æ€ç åˆ†ä¸ºäº”ç±»\n\n- **1xx: ä¿¡æ¯** â€“ äº¤æµä¼ è¾“åè®®çº§åˆ«çš„ä¿¡æ¯.\n- **2xx: æˆåŠŸ** â€“ è¡¨ç¤ºå®¢æˆ·çš„è¯·æ±‚å·²è¢«æˆåŠŸæ¥å—.\n- **3xx: é‡å®šå‘** â€“ è¡¨ç¤ºå®¢æˆ·ç«¯å¿…é¡»é‡‡å–ä¸€äº›å…¶ä»–æªæ–½æ‰èƒ½å®Œæˆä»–ä»¬çš„è¯·æ±‚ã€‚\n- **4xx: å®¢æˆ·ç«¯é”™è¯¯** â€“ æ­¤ç±»é”™è¯¯çŠ¶æ€ä»£ç é€šå¸¸æŒ‡å‘å®¢æˆ·ç«¯ã€‚\n- **5xx: æœåŠ¡ç«¯é”™è¯¯** â€“ è¿™ç±»é”™è¯¯çŠ¶æ€ä»£ç é€šå¸¸æŒ‡å‘æœåŠ¡ç«¯ã€‚\n\nä¸‹é¢é€šè¿‡ä¸€ä¸ªè¡¨æ ¼æ¥è¯¦ç»†ä»‹ç»ä¸€äº›å¸¸è§çš„RESTçŠ¶æ€ç \n\n| **STATUS CODE**           | **DESCRIPTION**                                              |\n| :------------------------ | :----------------------------------------------------------- |\n| 200 OK                    | æŒ‡ç¤ºè¯·æ±‚å·²æˆåŠŸã€‚                                             |\n| 201 Created               | æŒ‡ç¤ºè¯·æ±‚å·²æˆåŠŸï¼Œå¹¶ä¸”ç»“æœæ˜¯åˆ›å»ºäº†æ–°èµ„æºã€‚                     |\n| 204 No Content            | æœåŠ¡å™¨å·²å®Œæˆè¯·æ±‚ï¼Œä½†ä¸éœ€è¦è¿”å›å“åº”æ­£æ–‡ã€‚æœåŠ¡å™¨å¯ä»¥è¿”å›æ›´æ–°çš„å…ƒä¿¡æ¯ã€‚ |\n| 301 Moved Permanently     | æ‰€è¯·æ±‚èµ„æºçš„URLå·²æ°¸ä¹…æ›´æ”¹ã€‚æ–°çš„URLç”±`Location`å“åº”ä¸­çš„å¤´å­—æ®µç»™å‡ºã€‚é™¤éå¦æœ‰è¯´æ˜ï¼Œå¦åˆ™æ­¤å“åº”æ˜¯å¯ç¼“å­˜çš„ã€‚ |\n| 302 Found                 | æ‰€è¯·æ±‚èµ„æºçš„URLå·²ä¸´æ—¶æ›´æ”¹ã€‚æ–°çš„URLç”±`Location`å“åº”ä¸­çš„å¤´å­—æ®µç»™å‡ºã€‚ä»…å½“ç”±`Cache-Control`æˆ–`Expires`å¤´å­—æ®µæŒ‡ç¤ºæ—¶ï¼Œæ­¤å“åº”æ‰å¯ç¼“å­˜ã€‚ |\n| 400 Bad Request           | ç”±äºè¯­æ³•é”™è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£è¯¥è¯·æ±‚ã€‚å®¢æˆ·ä¸åº”åœ¨æ²¡æœ‰ä¿®æ”¹çš„æƒ…å†µä¸‹é‡å¤è¯·æ±‚ã€‚ |\n| 401 Unauthorized          | æŒ‡ç¤ºè¯¥è¯·æ±‚éœ€è¦ç”¨æˆ·è®¤è¯ä¿¡æ¯ã€‚å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨åˆé€‚çš„Authorizationå¤´å­—æ®µé‡å¤è¯·æ±‚ |\n| 403 Forbidden             | æœªç»æˆæƒçš„è¯·æ±‚ã€‚å®¢æˆ·ç«¯æ²¡æœ‰å¯¹è¯¥å†…å®¹çš„è®¿é—®æƒé™ã€‚ä¸401ä¸åŒï¼ŒæœåŠ¡å™¨çŸ¥é“å®¢æˆ·ç«¯çš„èº«ä»½ã€‚ |\n| 404 Not Found             | æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„èµ„æºã€‚                                     |\n| 500 Internal Server Error | æœåŠ¡å™¨é‡åˆ°æ„å¤–æƒ…å†µï¼Œé˜»æ­¢å…¶æ»¡è¶³è¯·æ±‚ã€‚ï¼ˆé€šå¸¸ä¸åº”è¯¥æ˜ç¡®åœ°æŠ›å‡ºã€‚ï¼‰ |\n| 502 Bad Gateway           | æœåŠ¡å™¨ä½œä¸ºç½‘å…³è·å–å¤„ç†è¯·æ±‚æ‰€éœ€çš„å“åº”æ—¶ï¼Œæ”¶åˆ°æ— æ•ˆå“åº”ã€‚       |\n| 503 Service Unavailable   | æœåŠ¡å™¨å°šæœªå‡†å¤‡å¥½å¤„ç†è¯¥è¯·æ±‚ã€‚ï¼ˆå¯èƒ½æ˜¯æœåŠ¡å™¨è¿‡è½½ï¼Œç³»ç»ŸæŸäº›éƒ¨åˆ†å‘ç”Ÿæ•…éšœï¼‰ |\n\næœ‰äº†è¿™äº›çŠ¶æ€ç ï¼ŒæœåŠ¡ç«¯åœ¨å¤„ç†é”™è¯¯æ—¶ä¾¿å¯ä»¥ç»™å‡ºä¸€ä¸ªæ˜ç¡®å®šä¹‰çš„é”™è¯¯ç ï¼ˆé€šå¸¸è¿˜éœ€è¦é™„åŠ ä¸€äº›å…·ä½“çš„ä¿¡æ¯ï¼‰ï¼Œè€Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥é€šè¿‡é”™è¯¯ç ä»¥åŠé™„åŠ ä¿¡æ¯äº†è§£ç³»ç»Ÿé”™è¯¯çš„åŸå› ã€‚\n\n:::details{text=\"ç‚¹å‡»å±•å¼€Javaæ¥å£æ¨¡æ¿\"}\nè¯·ç›´æ¥ä½¿ç”¨Springçš„HttpStatus\n``` java\npublic interface HttpStatusCodes {\n\n    /**\n     * https://restfulapi.net/http-status-codes/\n     * 1xx: ä¿¡æ¯ â€“ äº¤æµä¼ è¾“åè®®çº§åˆ«çš„ä¿¡æ¯.\n     * 2xx: æˆåŠŸ â€“ è¡¨ç¤ºå®¢æˆ·çš„è¯·æ±‚å·²è¢«æˆåŠŸæ¥å—.\n     * 3xx: é‡å®šå‘ â€“ è¡¨ç¤ºå®¢æˆ·ç«¯å¿…é¡»é‡‡å–ä¸€äº›å…¶ä»–æªæ–½æ‰èƒ½å®Œæˆä»–ä»¬çš„è¯·æ±‚ã€‚\n     * 4xx: å®¢æˆ·ç«¯é”™è¯¯ â€“ æ­¤ç±»é”™è¯¯çŠ¶æ€ä»£ç é€šå¸¸æŒ‡å‘å®¢æˆ·ç«¯ã€‚\n     * 5xx: æœåŠ¡ç«¯é”™è¯¯ â€“ è¿™ç±»é”™è¯¯çŠ¶æ€ä»£ç é€šå¸¸æŒ‡å‘æœåŠ¡ç«¯ã€‚\n     **/\n\n    // æŒ‡ç¤ºè¯·æ±‚å·²æˆåŠŸã€‚\n    Integer SUCCESS = 200;\n    // æŒ‡ç¤ºè¯·æ±‚å·²æˆåŠŸï¼Œå¹¶ä¸”ç»“æœæ˜¯åˆ›å»ºäº†æ–°èµ„æºã€‚\n    Integer CREATED = 201;\n    // æœåŠ¡å™¨å·²å®Œæˆè¯·æ±‚ï¼Œä½†ä¸éœ€è¦è¿”å›å“åº”æ­£æ–‡ã€‚æœåŠ¡å™¨å¯ä»¥è¿”å›æ›´æ–°çš„å…ƒä¿¡æ¯ã€‚\n    Integer N0_CONTENT = 204;\n    // æ‰€è¯·æ±‚èµ„æºçš„URLå·²æ°¸ä¹…æ›´æ”¹ã€‚æ–°çš„URLç”±Locationå“åº”ä¸­çš„å¤´å­—æ®µç»™å‡ºã€‚é™¤éå¦æœ‰è¯´æ˜ï¼Œå¦åˆ™æ­¤å“åº”æ˜¯å¯ç¼“å­˜çš„ã€‚\n    Integer MOVED_PERMANENTLY = 301;\n    // æ‰€è¯·æ±‚èµ„æºçš„URLå·²ä¸´æ—¶æ›´æ”¹ã€‚æ–°çš„URLç”±Locationå“åº”ä¸­çš„å¤´å­—æ®µç»™å‡ºã€‚ä»…å½“ç”±Cache-Controlæˆ–Expireså¤´å­—æ®µæŒ‡ç¤ºæ—¶ï¼Œæ­¤å“åº”æ‰å¯ç¼“å­˜ã€‚\n    Integer Found = 302;\n    // ç”±äºè¯­æ³•é”™è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£è¯¥è¯·æ±‚ã€‚å®¢æˆ·ä¸åº”åœ¨æ²¡æœ‰ä¿®æ”¹çš„æƒ…å†µä¸‹é‡å¤è¯·æ±‚ã€‚\n    Integer BAD_REQUEST = 400;\n    // æŒ‡ç¤ºè¯¥è¯·æ±‚éœ€è¦ç”¨æˆ·è®¤è¯ä¿¡æ¯ã€‚å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨åˆé€‚çš„Authorizationå¤´å­—æ®µé‡å¤è¯·æ±‚\n    Integer UNAUTHORIZED = 401;\n    // æœªç»æˆæƒçš„è¯·æ±‚ã€‚å®¢æˆ·ç«¯æ²¡æœ‰å¯¹è¯¥å†…å®¹çš„è®¿é—®æƒé™ã€‚ä¸401ä¸åŒï¼ŒæœåŠ¡å™¨çŸ¥é“å®¢æˆ·ç«¯çš„èº«ä»½ã€‚\n    Integer FORBIDDEN = 403;\n    // æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„èµ„æºã€‚\n    Integer NOT_FOUND = 404;\n    // æœåŠ¡å™¨é‡åˆ°æ„å¤–æƒ…å†µï¼Œé˜»æ­¢å…¶æ»¡è¶³è¯·æ±‚ã€‚ï¼ˆé€šå¸¸ä¸åº”è¯¥æ˜ç¡®åœ°æŠ›å‡ºã€‚ï¼‰\n    Integer INTERNAL_SERVER_ERROR = 500;\n    // æœåŠ¡å™¨ä½œä¸ºç½‘å…³è·å–å¤„ç†è¯·æ±‚æ‰€éœ€çš„å“åº”æ—¶ï¼Œæ”¶åˆ°æ— æ•ˆå“åº”ã€‚\n    Integer BAD_GATEWAY = 502;\n    // æœåŠ¡å™¨å°šæœªå‡†å¤‡å¥½å¤„ç†è¯¥è¯·æ±‚ã€‚ï¼ˆå¯èƒ½æ˜¯æœåŠ¡å™¨è¿‡è½½ï¼Œç³»ç»ŸæŸäº›éƒ¨åˆ†å‘ç”Ÿæ•…éšœï¼‰\n    Integer SERVICE_UNAVAILABLE = 503;\n\n}\n```\n:::\n\n### 6.å…è®¸è¿‡æ»¤ã€æ’åºã€åˆ†é¡µ\n\né€šå¸¸ï¼Œä¸ºäº†é¿å…ä¸€æ¬¡æ€§è¿”å›å¤ªå¤šæ•°æ®è€Œå¯¼è‡´çš„å“åº”æ—¶é—´è¿‡é•¿ï¼ŒæœåŠ¡ç«¯é€šå¸¸ä¼šä½¿ç”¨è¿‡æ»¤ã€åˆ†é¡µçš„æ–¹å¼ï¼Œæ¥ä½¿ç³»ç»Ÿæ¯æ¬¡ä»…éœ€è¿”å›ä¸€éƒ¨åˆ†è€Œä¸æ˜¯å…¨éƒ¨æ•°æ®ï¼Œä»¥æ­¤å‡å°‘ç³»ç»Ÿå“åº”æ—¶é—´ã€‚\n\n### 7.ä¿æŒè‰¯å¥½çš„å®‰å…¨ä¹ æƒ¯\n\nå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„å¤§å¤šæ•°é€šä¿¡åº”è¯¥æ˜¯ç§æœ‰çš„ï¼Œå› ä¸ºæˆ‘ä»¬ç»å¸¸å‘é€å’Œæ¥æ”¶ç§æœ‰ä¿¡æ¯ã€‚å› æ­¤ï¼Œå¿…é¡»ä½¿ç”¨SSL / TLSè¿›è¡Œå®‰å…¨ä¿æŠ¤ã€‚\n\nSSLè¯ä¹¦å¯ä»¥å¾ˆç®€å•çš„åŠ è½½åˆ°æœåŠ¡å™¨ä¸Šï¼Œå¹¶ä¸”æˆæœ¬æ˜¯å…è´¹çš„æˆ–éå¸¸ä½çš„ã€‚æ²¡æœ‰ç†ç”±ä¸è®©æˆ‘ä»¬çš„REST APIé€šè¿‡å®‰å…¨é€šé“è¿›è¡Œé€šä¿¡ï¼Œè€Œä¸æ˜¯å…¬å¼€è¿›è¡Œé€šä¿¡ã€‚\n\näººä»¬ä¸åº”è¯¥èƒ½å¤Ÿè®¿é—®ä»–ä»¬è¦æ±‚çš„æ›´å¤šä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œæ™®é€šç”¨æˆ·ä¸åº”è¯¥èƒ½å¤Ÿè®¿é—®å…¶ä»–ç”¨æˆ·çš„ä¿¡æ¯ã€‚ä»–ä»¬ä¹Ÿä¸åº”è¯¥èƒ½å¤Ÿè®¿é—®ç®¡ç†å‘˜çš„æ•°æ®ã€‚\n\nä¸ºäº†å®æ–½æœ€å°æƒé™åŸåˆ™ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå•ä¸ªè§’è‰²æ·»åŠ è§’è‰²æ£€æŸ¥ï¼Œæˆ–è€…ä¸ºæ¯ä¸ªç”¨æˆ·æ·»åŠ æ›´ç²¾ç»†çš„è§’è‰²ã€‚\n\nå¦‚æœæˆ‘ä»¬é€‰æ‹©å°†ç”¨æˆ·åˆ†ç»„ä¸ºå‡ ä¸ªè§’è‰²ï¼Œåˆ™è¿™äº›è§’è‰²åº”å…·æœ‰è¦†ç›–ä»–ä»¬æ‰€éœ€è¦çš„å…¨éƒ¨æƒé™ï¼Œè€Œä¸å†éœ€è¦æ›´å¤šæƒé™ã€‚å¦‚æœæˆ‘ä»¬å¯¹ç”¨æˆ·å¯ä»¥è®¿é—®çš„æ¯ä¸ªåŠŸèƒ½å…·æœ‰æ›´ç»†åŒ–çš„æƒé™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¿…é¡»ç¡®ä¿ç®¡ç†å‘˜å¯ä»¥ç›¸åº”åœ°å‘æ¯ä¸ªç”¨æˆ·æ·»åŠ å’Œåˆ é™¤è¿™äº›åŠŸèƒ½ã€‚å¦å¤–ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€äº›å¯ä»¥åº”ç”¨äºç»„ç”¨æˆ·çš„é¢„è®¾è§’è‰²ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸å¿…æ‰‹åŠ¨ä¸ºæ¯ä¸ªç”¨æˆ·æ‰§è¡Œæ­¤æ“ä½œã€‚\n\n> **æœ€å°æƒé™åŸåˆ™**\n>\n> åœ¨è®¡ç®—æœºç§‘å­¦ä»¥åŠå…¶å®ƒé¢†åŸŸä¸­ï¼Œæœ€å°æƒé™åŸåˆ™æ˜¯è¦æ±‚è®¡ç®—ç¯å¢ƒä¸­çš„ç‰¹å®šæŠ½è±¡å±‚çš„æ¯ä¸ªæ¨¡ç»„å¦‚è¿›ç¨‹ã€ç”¨æˆ·æˆ–è€…è®¡ç®—æœºç¨‹åºåªèƒ½è®¿é—®å½“ä¸‹æ‰€å¿…éœ€çš„ä¿¡æ¯æˆ–è€…èµ„æºã€‚\n>\n> èµ‹äºˆæ¯ä¸€ä¸ªåˆæ³•åŠ¨ä½œæœ€å°çš„æƒé™ï¼Œå°±æ˜¯ä¸ºäº†ä¿æŠ¤æ•°æ®ä»¥åŠåŠŸèƒ½é¿å…å—åˆ°é”™è¯¯æˆ–è€…æ¶æ„è¡Œä¸ºçš„ç ´åã€‚\n>\n> æœ€å°æƒé™åŸåˆ™ä¹Ÿç§°ä¸ºæœ€å°‘æƒé™åŸåˆ™ã€‚\n\n### 8.ç¼“å­˜æ•°æ®ä»¥æå‡æ€§èƒ½\n\næˆ‘ä»¬å¯ä»¥æ·»åŠ ç¼“å­˜ä»¥ä»æœ¬åœ°å†…å­˜ç¼“å­˜ä¸­è¿”å›æ•°æ®ï¼Œè€Œä¸æ˜¯æ¯æ¬¡æˆ‘ä»¬æƒ³è¦æ£€ç´¢ç”¨æˆ·è¯·æ±‚çš„æŸäº›æ•°æ®æ—¶éƒ½æŸ¥è¯¢æ•°æ®åº“ä»¥è·å–æ•°æ®ã€‚ç¼“å­˜çš„å¥½å¤„æ˜¯ç”¨æˆ·å¯ä»¥æ›´å¿«åœ°è·å–æ•°æ®ã€‚\n\n### 9.ç‰ˆæœ¬åŒ–APIs\n\nå¦‚æœAPIå³å°†å‘ç”Ÿè¾ƒå¤§å˜åŠ¨æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½å°±éœ€è¦è€ƒè™‘å¯¹APIè¿›è¡Œç‰ˆæœ¬åŒ–æ§åˆ¶ï¼Œå°½å¯èƒ½å‡å°‘APIçš„æ”¹å˜ç»™ä½¿ç”¨è€…å¸¦æ¥çš„ä¸é€‚ã€‚\n\næˆ‘ä»¬åªéœ€å°†ç‰ˆæœ¬å·æ·»åŠ åˆ°APIè·¯å¾„çš„å¼€å¤´å³å¯å¯¹å…¶è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚\n\nå‡è®¾ä½ æä¾›äº†ä¸€ä¸ªè·å–æ–‡ç« çš„APIï¼Œå¤„äº`http://localhost/articles/:id`ã€‚\n\nä¹‹åä½ å‡†å¤‡å¯¹APIè¿›è¡Œå‡çº§ï¼Œæ­£ç¡®çš„åšæ³•æ—¶å°†åŸæœ‰çš„APIæ”¹ä¸º`http://localhost/v1/articles/:id`ï¼Œç„¶åå†å®šä¹‰ä¸€ä¸ªæ–°çš„APIä¸º`http://localhost/v2/articles/:id`ï¼Œ\n\nå¦‚æœä½ ä¸€å¼€å§‹å°±æ‰“ç®—ä»¥åå‡çº§APIçš„è¯ï¼Œé‚£ä¹ˆæœ€å¥½å°±æ˜¯åˆšå¼€å§‹åŠ å¸¦ä¸Šç‰ˆæœ¬å·ã€‚\n\n## æœ€å\n\né€šè¿‡ä»¥ä¸Šå¯¹RESTçš„äº†è§£ï¼Œç®€å•åšä¸ªæ€»ç»“ã€‚RESTfulæ¥å£çš„æ ¸å¿ƒåœ¨äºä½¿ç”¨JSONè¿”å›æ•°æ®ã€å°½é‡ä½¿ç”¨åè¯è€Œä¸æ˜¯åŠ¨è¯ï¼ˆä¸»è¦æ˜¯è¯·æ±‚æ–¹æ³•ä»å¤§å¤šæ˜¯GET+POSTï¼‰ï¼Œåˆç†çš„åµŒå¥—èµ„æºï¼ˆæœ‰åˆ©äºäº†è§£å¯¹è±¡å±‚çº§ç»“æ„ï¼‰ï¼Œä¼˜é›…çš„å¤„ç†é”™è¯¯ï¼ˆå› ä¸ºå®¢æˆ·ç«¯æœåŠ¡ç«¯æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥è‰¯å¥½çš„è§„èŒƒæ˜¯å¿…é¡»çš„ï¼‰ã€‚è‡³äºå…¶ä»–çš„ä¸€äº›ç»†èŠ‚æˆ‘è§‰å¾—å°±æ˜¯è§ä»è§æ™ºäº†ã€‚\n\n\n\n\n\n> **å‚è€ƒèµ„æ–™**\n>\n> [What is REST](https://restfulapi.net/)\n>\n> [Best practices for REST API design](https://stackoverflow.blog/2020/03/02/best-practices-for-rest-api-design/)\n","post/2021/20210419/":"\n## ä»‹ç»\n\nVuePressæ˜¯ä¸€ä¸ªç”±Vue é©±åŠ¨çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ã€‚\n\n**ç‰¹ç‚¹ï¼š**\n\n1. ç®€æ´ï¼šä»¥ Markdown ä¸ºä¸­å¿ƒçš„é¡¹ç›®ç»“æ„ï¼Œä»¥æœ€å°‘çš„é…ç½®å¸®åŠ©ä½ ä¸“æ³¨äºå†™ä½œã€‚\n2. Vueé©±åŠ¨ï¼šäº«å— Vue + webpack çš„å¼€å‘ä½“éªŒï¼Œå¯ä»¥åœ¨ Markdown ä¸­ä½¿ç”¨ Vue ç»„ä»¶ï¼Œåˆå¯ä»¥ä½¿ç”¨ Vue æ¥å¼€å‘è‡ªå®šä¹‰ä¸»é¢˜ã€‚\n3. é«˜æ€§èƒ½ï¼šVuePress ä¼šä¸ºæ¯ä¸ªé¡µé¢é¢„æ¸²æŸ“ç”Ÿæˆé™æ€çš„ HTMLï¼ŒåŒæ—¶ï¼Œæ¯ä¸ªé¡µé¢è¢«åŠ è½½çš„æ—¶å€™ï¼Œå°†ä½œä¸º SPA è¿è¡Œã€‚\n\nå®ƒçš„åˆè¡·æ˜¯ä¸ºäº†æ›´ä¼˜é›…çš„ç¼–å†™æŠ€æœ¯æ–‡æ¡£ï¼Œè€Œä¸æ˜¯åšå®¢ã€‚ä½†åœ¨VuePress 1.xç‰ˆæœ¬ä¹‹åï¼Œä½ å¯ä»¥è½»æ¾ä½¿ç”¨ä¸‰æ–¹ä¸»é¢˜å®Œæˆä¸ªäººåšå®¢çš„æ­å»ºï¼Œè¿™ä¹Ÿå°†æ˜¯è¯¥æ–‡ç« æ¥ä¸‹æ¥ä¸»è¦é˜è¿°çš„å†…å®¹ã€‚\n\n## ä¸ºä»€ä¹ˆæ˜¯VuePress\n\nåœ¨ä½¿ç”¨VuePressä¹‹å‰ï¼Œæˆ‘çš„åšå®¢ä¸€ç›´æ˜¯ä½¿ç”¨Hexoè¿›è¡Œç®¡ç†çš„ã€‚å¦‚æœä½ ç°åœ¨æ­£åœ¨ä½¿ç”¨Hexoè¿›è¡Œåšå®¢åˆ›ä½œï¼Œé‚£ä¹ˆä½ å®Œå…¨ä¸éœ€è¦è¿ç§»åˆ°VuePressï¼Œå› ä¸ºHexoå·²ç»è¶³å¤Ÿç®€å•ã€æ˜“ç”¨ï¼Œå¹¶ä¸”æ‹¥æœ‰æ•°é‡åºå¤§çš„ä¼˜ç§€ä¸»é¢˜ã€‚\n\né‚£ä¹ˆæˆ‘ä¸ºä»€ä¹ˆè¿˜æ˜¯èŠ±è¿™ä¹ˆé•¿æ—¶é—´è¿›è¡Œåšå®¢çš„è¿ç§»å‘¢ï¼Ÿ\n\nå§‹äºé¢œå€¼ã€‚ä»ç¬¬ä¸€çœ¼çœ‹åˆ°Vueçš„æ–‡æ¡£çš„æ—¶å€™ï¼Œæˆ‘ä¾¿æ„Ÿå—åˆ°äº†ä¸€ä¸æƒŠè‰³ã€‚\n\nå†ä¸€ä¸ªæ–¹é¢å°±æ˜¯VuePresså¯ä»¥ä½¿ç”¨Vueç¼–å†™ç»„ä»¶è¿›è¡Œé«˜åº¦çš„è‡ªå®šä¹‰ï¼Œç›¸ä¿¡å¯¹äºå¤§éƒ¨åˆ†ç†Ÿæ‚‰Vueçš„å¼€å‘è€…æ¥è¯´ï¼Œéƒ½æœ‰ç€è«å¤§çš„å¸å¼•åŠ›ã€‚äº‹å®ä¸Šï¼Œ**VuePress å°±æ˜¯ä¸€ä¸ªç”± Vue ã€Vue Routerå’Œ webpacké©±åŠ¨çš„å•é¡µåº”ç”¨ã€‚**\n\n## å¿«é€Ÿå…¥é—¨\n\næ¥ä¸‹æ¥å°†é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹è®©ä½ å¿«é€Ÿæ­å»ºä¸€ä¸ªåšå®¢ç¯å¢ƒã€‚ä¸»é¢˜é‡‡ç”¨çš„æ˜¯`vuepress-theme-reco`ï¼Œä¸»é¢˜ç®€æ´ç¾è§‚ï¼ŒåŒæ—¶å…¼å®¹é»˜è®¤ä¸»é¢˜ã€‚\n\n1 åˆ›å»ºå¹¶è¿›å…¥ä¸€ä¸ªæ–°ç›®å½•\n\n```sh\nmkdir reco && cd reco\n```\n\n2 ä½¿ç”¨ä½ å–œæ¬¢çš„åŒ…ç®¡ç†å™¨è¿›è¡Œåˆå§‹åŒ–\n\n```sh\nyarn init # npm init\n```\n\n3 å°† VuePress å®‰è£…ä¸ºæœ¬åœ°ä¾èµ–ï¼ˆä¸æ¨èå…¨å±€å®‰è£…ï¼‰\n\n```sh\nyarn add -D vuepress # npm install -D vuepress\n```\n\n4 åˆ›å»ºä½ çš„ç¬¬ä¸€ç¯‡æ–‡æ¡£\n\n```sh\nmkdir docs && echo '# Hello VuePress' > docs/readme.md\n```\n\n5 åœ¨ `package.json` ä¸­æ·»åŠ ä¸€äº› scripts\n\n```json\n{\n  \"scripts\": {\n    \"docs:dev\": \"vuepress dev docs\",\n    \"docs:build\": \"vuepress build docs\"\n  }\n}\n```\n\n6 å®‰è£…ä¸»é¢˜`vuepress-theme-reco`\n\n```sh\nyarn add vuepress-theme-reco # npm install vuepress-theme-reco --save-dev\n```\n\n7 åˆ›å»º`.vuepress`æ–‡ä»¶å¤¹å¹¶åˆ›å»º`config.js`é…ç½®æ–‡ä»¶\n\n```sh\nmkdir docs/.vuepress && touch docs/.vuepress/config.js\n```\n\n8 ç¼–è¾‘`config.js`æ–‡ä»¶\n\n```js\nmodule.exports = {\n  title: 'Title', //é¦–é¡µå·¦ä¸Šè§’title\n  theme: 'reco', // åº”ç”¨åšå®¢ä¸»é¢˜\n  themeConfig: {\n    type: 'blog',\n    nav: [ // é¦–é¡µå¯¼èˆªæ \n      { text: 'Home', link: '/', icon: 'reco-home' },\n      { text: 'TimeLine', link: '/timeline/', icon: 'reco-date' }\n    ],\n    author: 'xxx', // é¦–é¡µä½œè€…\n    authorAvatar: 'https://vuepress.vuejs.org/hero.png', // é¦–é¡µå¤´åƒ\n    subSidebar: 'auto', // åšå®¢é¡µé¢çš„ç›®å½•\n    // åšå®¢é…ç½®\n    blogConfig: {\n      category: {\n        location: 2,     // åœ¨å¯¼èˆªæ èœå•ä¸­æ‰€å çš„ä½ç½®ï¼Œé»˜è®¤2\n        text: 'Category' // é»˜è®¤æ–‡æ¡ˆ â€œåˆ†ç±»â€\n      },\n      tag: {\n        location: 3,     // åœ¨å¯¼èˆªæ èœå•ä¸­æ‰€å çš„ä½ç½®ï¼Œé»˜è®¤3\n        text: 'Tag'      // é»˜è®¤æ–‡æ¡ˆ â€œæ ‡ç­¾â€\n      },\n      socialLinks: [     // ä¿¡æ¯æ å±•ç¤ºç¤¾äº¤ä¿¡æ¯\n        { icon: 'reco-github', link: 'https://github.com/recoluan' },\n        { icon: 'reco-npm', link: 'https://www.npmjs.com/~reco_luan' }\n      ]\n    }\n  }\n}\n```\n\n9 ç¼–è¾‘`docs/readme.md`\n\n```yaml\n---\nhome: true\nheroText: VuePress\ntagline: Vue é©±åŠ¨çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨\n---\n```\n\n10 åœ¨`docs`ä¸‹åˆ›å»º`posts`ç›®å½•ç”¨äºå­˜æ”¾åšå®¢æºæ–‡ä»¶\n\n```sh\nmkdir docs/posts;\n```\n\n11 åœ¨`post`ç›®å½•ä¸‹æ–°å»ºä¸‰ä¸ª.mdæ–‡ä»¶\n\n```yaml\n---\ntitle: post1\ndate: '2020-04-20 00:00:00'\ncategories:\n - frontEnd\ntags:\n - vuepress\nkeys: # åŠ å¯†\n - 'e10adc3949ba59abbe56e057f20f883e' # 123456\nsticky: 1 # æ–‡ç« ç½®é¡¶\npublish: true # æ˜¯å¦å‘å¸ƒ\n---\n\n# post1\n```\n\nä»¥æ­¤ç±»æ¨æ–°å»ºå‡ºpost2å’Œpost3ã€‚\n\n12 æ£€æŸ¥ç›®å½•ç»“æ„\n\n```\nvuepress/\nâ”œâ”€â”€ docs\nâ”‚Â Â  â”œâ”€â”€ .vuepress\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ config.js\nâ”‚Â Â  â”œâ”€â”€ readme.md\nâ”‚Â Â  â””â”€â”€ posts\nâ”‚Â Â      â”œâ”€â”€ post1.md\nâ”‚Â Â      â”œâ”€â”€ post2.md\nâ”‚Â Â      â””â”€â”€ post3.md\nâ”œâ”€â”€ package.json\nâ””â”€â”€ yarn.lock\n```\n\n\n\n13 åœ¨`reco`ç›®å½•ä¸‹æ‰§è¡Œ`yarn docs:dev`ï¼Œæ‰“å¼€[localhost:8080](http://localhost:8080)\n\n:::warning\nå¦‚æœå‡ºç°ä¹±ç è¯·æ£€æŸ¥ç¼–ç æ˜¯å¦ä¸ºUTF-8\n:::\n\nè‡³æ­¤ï¼Œåšå®¢çš„åŸºç¡€æ­å»ºä¾¿ç»“æŸäº†ã€‚\n\nè‡³äºå…¶ä»–çš„å®ç°ç»†èŠ‚ï¼Œé™äºç¯‡å¹…è¿™é‡Œå°±ä¸ä¸€ä¸€èµ˜è¿°ã€‚æœ‰éœ€è¦çš„å¯ä»¥ç›´æ¥å‚è€ƒ[VuePresså®˜æ–¹æ–‡æ¡£](https://vuepress.vuejs.org/)ä»¥åŠ[vuepress-theme-recoå®˜æ–¹æ–‡æ¡£](https://vuepress-theme-reco.recoluan.com/)\n\n## éƒ¨ç½²\n\néƒ¨ç½²çš„æ–¹å¼å¾ˆå¤šï¼Œè€Œä¸”è¿˜åˆ†ä¸ºäº‘æœåŠ¡å™¨å’Œé™æ€ç½‘ç«™æ‰˜ç®¡ã€‚æ‰€ä»¥æ¥ä¸‹æ¥å°†é€šè¿‡ä¸‰ä¸ªæ–¹æ¡ˆè¿›è¡Œåˆ†æã€‚\n\n### æºç éƒ¨ç½²\n\næœ€åŸå§‹ï¼Œæœ€ç²—æš´çš„æ–¹å¼å°±æ˜¯é€šè¿‡`yarn docs:build`ç¼–è¯‘å‡ºé™æ€èµ„æºæ–‡ä»¶ï¼Œæ–‡ä»¶é»˜è®¤ä¿å­˜åœ¨`docs/.vuepress/dist`ä¸‹ï¼Œä½ å¯ä»¥é€šè¿‡gitæˆ–è€…ftpç­‰å…¶ä»–æ–¹å¼å°†å…¶éƒ¨ç½²åˆ°Github Pagesã€Serverlessæˆ–æ˜¯é™æ€èµ„æºæœåŠ¡å™¨ã€‚\n\n``` sh\n# get the dist folder\nyarn docs:build\n# sftp to tencent cloud & lcd the path of dist\nput -r dist/ /var/www/html/\nsystemctl restart nginx\nsystemctl status nginx\n```\n\n### Github Action\n\n:::tip\néœ€è¦ç®€å•äº†è§£Gitã€Github Action\n:::\n\nå¦‚æœä½ å‡†å¤‡éƒ¨ç½²Github Pagesï¼Œé‚£ä¹ˆGithub Actionå¯èƒ½æ˜¯è¾ƒå¥½çš„é€‰æ‹©ã€‚\n\nä½¿ç”¨Github Actionä½ å¯ä»¥\n\n1. åŒæ—¶å‘å¸ƒåˆ°Github Pageså’ŒGitee Pages\n2. å¤‡ä»½ä½ çš„åšå®¢æºæ–‡ä»¶\n\nä¸»è¦é‡‡ç”¨äº†ä¸¤ä¸ªActionæ¥å®ç°ä»¥ä¸ŠåŠŸèƒ½\n\n1. [Vuepress deploy](https://github.com/marketplace/actions/vuepress-deploy)\n2. [Hub Mirror Action](https://github.com/marketplace/actions/hub-mirror-action)\n\nè¿™é‡Œå°±ä¸èµ˜è¿°Github Actionçš„ç”¨æ³•äº†ã€‚\n\n### ä¸€äº›å»ºè®®\n\nç±»ä¼¼Github Pagesçš„æœåŠ¡æœ‰å¾ˆå¤šï¼Œåƒ[Github Pages](https://pages.github.com/)ã€[Gitlab Pages](https://about.gitlab.com/stages-devops-lifecycle/pages/)ã€[Gitee Pages](https://gitee.com/help/articles/4136)ã€[Cloudflare Pages](https://pages.cloudflare.com/)ï¼Œé™¤æ­¤ä¹‹å¤–å¯ä¾›é€‰æ‹©çš„è¿˜æœ‰[Netlify](https://www.netlify.com/)ï¼Œ[Vercel](https://vercel.com/)ï¼Œæˆ–è€…é€‰æ‹©å›½å†…ä¸€äº›ServerlessæœåŠ¡æ¥ä¿è¯ä¸€ä¸ªè‰¯å¥½çš„å“åº”é€Ÿåº¦ã€‚\n\nç®€å•åˆ†æ\n\nå¦‚æœæ˜¯å›½å†…ä¸ä½¿ç”¨ä»£ç†çš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©Gitee Pageså¯ä»¥è·å¾—ä¸€ä¸ªè‰¯å¥½çš„ä½“éªŒï¼Œç¼ºç‚¹æ˜¯æ˜¯Gitee PageséProç”¨æˆ·ä¸æ”¯æŒè‡ªå®šä¹‰åŸŸåï¼Œæ¯æ¬¡æäº¤å¾—æ‰‹åŠ¨æ›´æ–°ã€‚\n\né€‰æ‹©å›½å†…ServerlessæœåŠ¡ä¸€æ˜¯éœ€è¦ä»˜è´¹ï¼Œå†ä¸€ä¸ªå›½å†…æœåŠ¡å™¨è‡ªå®šä¹‰åŸŸåæ˜¯éœ€è¦å¤‡æ¡ˆçš„ã€‚\n\né™¤äº†ä»¥ä¸Šæ–¹æ¡ˆçš„è¯ï¼Œå…¶ä»–æ–¹æ¡ˆåŸºæœ¬éƒ½æ˜¯å›½å¤–æœåŠ¡å™¨ï¼Œåœ¨æ²¡æœ‰ä»£ç†çš„æƒ…å†µä¸‹è®¿é—®å¿…ç„¶æ˜¯ååˆ†æ…¢çš„ã€‚\n\næ¨èGithub Pages + Gitee Pagesã€‚\n\né¦–å…ˆï¼Œéƒ¨ç½²æºä»£ç åˆ°Gitä»“åº“ï¼Œé€šè¿‡Github Actionè‡ªåŠ¨å¤‡ä»½æºç¨‹åºåˆ°GiteeåŒæ—¶å‘å¸ƒé™æ€èµ„æºåˆ°Github Pageså’ŒGitee Pagesã€‚\n\nå°†åŸŸåè§£æåˆ°Github PagesåŒæ—¶åœ¨navbaræä¾›é•œåƒé€‰æ‹©ã€‚å‰ææ˜¯ä½ Github Pagesèƒ½è®¿é—®ã€‚æ„ä¹‰ä¸å¤§ã€‚\n\næˆ–è€…ç›´æ¥æ£€æµ‹æµè§ˆå™¨è¯­è¨€æˆ–è€…åŸºäºipé€‰æ‹©æ˜¯å¦è·³è½¬Gitee Pages\n\nå…·ä½“æ–¹æ¡ˆè¯·è‡ªè¡Œå‚è€ƒã€‚\n\n## æœ€å\n\nè¿˜æ˜¯é‚£å¥è¯ï¼ŒVuePressç›®å‰ç”¨ä½œåšå®¢éœ€è¦æŠ˜è…¾ï¼Œå¦‚æœä½ å·²ç»åœ¨ä½¿ç”¨Hexoéƒ¨ç½²ï¼Œé‚£ä¹ˆå®Œå…¨æ²¡æœ‰å¿…è¦åˆ‡æ¢ï¼Œå°¤å…¶æ˜¯åœ¨ä½ å¹¶ä¸ç†Ÿæ‚‰Vueçš„æƒ…å†µä¸‹ã€‚\n\nå†™åšå®¢ä¸æ˜¯ä¸ºäº†æ¢UIï¼Œå†™åšå®¢åªæ˜¯ä¸ºäº†å†™åšå®¢ã€‚\n","post/2021/20210425/":"\n## åºè¨€\n\nGithub Actionæ˜¯Githubè‡ª2018å¹´10æœˆæ¨å‡ºçš„ä¸€æ¬¾æœåŠ¡ï¼Œä¸»è¦ç”¨äºCI/CD\n\n:::tip\nCI / CD (**C**ontinuous **I**ntegration / **C**ontinuous **D**elivery or **D**eployment)\n\næŒç»­é›†æˆ & æŒç»­äº¤ä»˜/æŒç»­éƒ¨ç½²\n:::\n\n## å¯ä»¥åšäº›ä»€ä¹ˆ\n\n1. è‡ªåŠ¨éƒ¨ç½²ä½ çš„é¡¹ç›®åˆ°Github Pages\n2. ç¼–è¯‘OpenWRTå›ºä»¶\n3. ä»£ç è´¨é‡æ£€æŸ¥\n4. ...\n\nGithub Actionçš„ç©æ³•éå¸¸å¤šï¼Œåœ¨å®˜æ–¹çš„[Marketplace](https://github.com/marketplace?type=actions)ä¸­ï¼Œä½ å¯ä»¥æœç´¢åˆ°å¤§é‡åˆ«äººå·²ç»å†™å¥½çš„Actionï¼Œå‚è€ƒå¯¹åº”æ–‡æ¡£å³å¯è½»æ¾å®ç°ä¸€äº›å¼ºå¤§çš„åŠŸèƒ½ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æƒ³è‡ªå®šä¹‰ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå‰ææ˜¯ä½ è¶³å¤Ÿäº†è§£å®ƒã€‚\n\n## ä¸€äº›æ¦‚å¿µ\n\nåœ¨Github Actionä¸­ï¼Œé€šå¸¸ç”±ä¸€ä¸ªyamlé…ç½®æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå·¥ä½œæµã€‚è¿™ä¸ªyamlæ–‡ä»¶çš„å‘½åå¯ä»¥éšæ„ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨`/.github/workflows/`ç›®å½•ä¸‹ã€‚\n\nåœ¨è¿™ä¸ªyamlæ–‡ä»¶ä¸‹ï¼Œä½ éœ€è¦è¿›è¡Œå¤§é‡çš„é…ç½®ã€‚\n\nä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯¦ç»†ä»‹ç»ä¸€ä¸‹\n\n*github-actions-demo.yml*\n``` yaml\n# å±•ç¤ºçš„åç§° é»˜è®¤ä¸ºæ–‡ä»¶å\nname: GitHub Actions Demo\n# è§¦å‘çš„æ¡ä»¶ï¼Œè¯¦ç»†å‚è€ƒï¼šhttps://docs.github.com/en/actions/reference/events-that-trigger-workflows\non: [push]\n# å·¥ä½œ\njobs:\n   # è‡ªå®šä¹‰çš„å·¥ä½œ\n  Explore-GitHub-Actions:\n    # è¿è¡Œç¯å¢ƒï¼Œè¯¦ç»†å‚è€ƒï¼šhttps://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners\n    runs-on: ubuntu-latest\n    #æ­¥éª¤\n    steps:\n      - run: echo \"ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event.\"\n      - run: echo \"ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!\"\n      - run: echo \"ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}.\"\n      - name: Check out repository code\n        uses: actions/checkout@v2\n      - run: echo \"ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner.\"\n      - run: echo \"ğŸ–¥ï¸ The workflow is now ready to test your code on the runner.\"\n      - name: List files in the repository\n        run: |\n          ls ${{ github.workspace }}\n      - run: echo \"ğŸ This job's status is ${{ job.status }}.\"\n```\n\nä»¥ä¸Šæ˜¯ä¸€ä¸ªè¾ƒä¸ºç®€å•çš„æ¨¡æ¿ã€‚å…·ä½“ä¼šå› éœ€æ±‚çš„å¢åŠ å¯¼è‡´å‚æ•°ä¹Ÿä¼šå¢åŠ ï¼Œä¾‹å¦‚envï¼Œé€šå¸¸æ˜¯ä¸€äº›ä¸ªäººçš„é…ç½®å‚æ•°ã€‚æˆ–è€…secretsï¼Œä¸€èˆ¬æ˜¯ç”¨æ¥è·å–Githubçš„Access Tokenä¹‹ç±»çš„åŠ å¯†å‚æ•°ã€‚æ€»ä¹‹ï¼Œå¤§éƒ¨åˆ†é…ç½®éƒ½æ˜¯ç±»ä¼¼ç»“æ„ã€‚\n\n## ä¸€ä¸ªæ —å­\n\nå› ä¸ºæœ¬åšå®¢å°±æ˜¯åˆ©ç”¨äº†Github Actionå®Œæˆçš„æŒç»­éƒ¨ç½²ã€‚æ‰€ä»¥è¿™é‡Œç®€å•è¯´æ˜ä¸€ä¸‹è¯¥Actionçš„ä½¿ç”¨æ–¹å¼ã€‚\n\né¦–å…ˆåœ¨å¸‚åœºæœç´¢VuePressï¼Œå‘ç°äº†ä¸€ä¸ªstaræ•°æœ€é«˜çš„[VuePress Deploy](https://github.com/marketplace/actions/vuepress-deploy)\n\nä½¿ç”¨æ–¹æ³•åœ¨å‘å¸ƒé¡µæè¿°çš„ååˆ†æ¸…æ¥šï¼Œå¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥é„¹\n\n1. åœ¨ä½ çš„VuePressé¡¹ç›®çš„æ ¹ç›®å½•æ–°å»º`.github/workflows`ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­æ–°å»ºä¸€ä¸ª`vuepress-deploy.yml`æ–‡ä»¶ï¼Œå¤åˆ¶ä»¥ä¸‹å†…å®¹ã€‚\n\n```yaml\nname: Build and Deploy\non: [push]\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n    - name: Checkout\n      uses: actions/checkout@master\n\n    - name: vuepress-deploy\n      uses: jenkey2011/vuepress-deploy@master\n      env:\n        ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}\n        TARGET_REPO: username/repo\n        TARGET_BRANCH: master\n        BUILD_SCRIPT: yarn && yarn build\n        BUILD_DIR: blog/.vuepress/dist/\n```\n\nå…¶ä¸­`TARGET_REPO`æ˜¯Githubçš„ç”¨æˆ·ååŠä½ æƒ³å­˜æ”¾VuePressçš„ä»“åº“ï¼Œ`TARGET_BRANCH`æ˜¯ä½ æƒ³è¦æ¨é€ä»“åº“çš„åˆ†æ”¯ï¼Œ`BUILD_SCRIPT`æ˜¯ä½ çš„æ„å»ºè„šæœ¬ï¼Œ`BUILD_DIR`æ˜¯ä½ æ„å»ºä¹‹åç”Ÿæˆçš„æ–‡ä»¶ç›®å½•ã€‚æ ¹æ®è‡ªå·±æœ¬åœ°çš„æƒ…å†µç›¸åº”é…ç½®å³å¯ã€‚\n\n2. Github tokençš„ç”Ÿæˆå’Œä»“åº“secretsçš„æ·»åŠ \n\n    Tokençš„ç”Ÿæˆï¼šç‚¹å‡»ä½ çš„å¤´åƒ > Settings > Developer settings > Personal access tokens > Generate new token. æƒé™è‡³å°‘è¦å‹¾é€‰repo\n    secretsçš„æ·»åŠ ï¼šGithubçš„ä»“åº“ä¸‹ > Settings > Secretsï¼Œ åˆ›å»ºACCESS_TOKENï¼Œ å€¼å°±å¡«å†™ä½ åˆšæ‰åˆ›å»ºçš„tokenï¼Œç¡®å®šã€‚\n\n3. æ¨é€ä½ çš„æœ¬åœ°ä»“åº“åˆ°Githubï¼Œè§¦å‘Pushäº‹ä»¶ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¼€å§‹ã€‚åœ¨ä»“åº“çš„Actioné¡µé¢ä¸‹å³å¯æŸ¥çœ‹å…·ä½“è¿‡ç¨‹çš„æƒ…å†µã€‚\n\n## æœ€å\n\nè‡ªæ­¤ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹Github Actionæœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚ç°åœ¨ï¼Œä½ å·²ç»å¯ä»¥å¼€å§‹å°è¯•é€šè¿‡[Marketplace](https://github.com/marketplace?type=actions)æœç´¢ä½ æ„Ÿå…´è¶£çš„Actionå¹¶ä½¿ç”¨ï¼Œæˆ–è€…å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://docs.github.com/en/actions)è‡ªè¡Œç¼–å†™ä¸€ä¸ªActionäº†ã€‚\n","post/2021/20210508/":"\n## åºè¨€\n\nä¹‹å‰ä¸€ç›´å¯¹webpackéƒ½æ˜¯æ‹¿æ¥å³ç”¨ï¼Œä»æ¥æ²¡å»äº†è§£ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼ŒGetting Startedä¹Ÿæ²¡çœ‹è¿‡ã€‚\n\næ‰€ä»¥ä»Šå¤©çœ‹äº†ä¸€ä¸‹æ–‡æ¡£ï¼Œäº†è§£äº†ä¸€ä¸‹åŸºæœ¬æ¦‚å¿µï¼Œå°±ç®€å•åšä¸ªè®°å½•ã€‚\n\n:::tip\nè¯¥æ–‡ç« ä»…ä»‹ç»ä¸€äº›åŸºç¡€æ¦‚å¿µå’Œå…¥é—¨æ¡ˆä¾‹ï¼Œæ›´å¤šè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚\n\n[è‹±æ–‡åŸç‰ˆ](https://webpack.js.org/)\n\n[ä¸­æ–‡ç‰ˆ](https://webpack.docschina.org/)\n:::\n\n## ä»€ä¹ˆæ˜¯webpack\n\næœ¬è´¨ä¸Šï¼Œ**webpack** æ˜¯ä¸€ä¸ªç”¨äºç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„ *é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·*ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨æ„å»ºä¸€ä¸ª ä¾èµ–å›¾(dependency graph)ï¼Œæ­¤ä¾èµ–å›¾å¯¹åº”æ˜ å°„åˆ°é¡¹ç›®æ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª *bundle*ã€‚\n\n## ä¸€äº›æ ¸å¿ƒæ¦‚å¿µ\n\nä¸»è¦æ˜¯ä»¥ä¸‹å‡ ä¸ªkeywords\n\n- Entry\n- Output\n- Loaders\n- Plugins\n- Mode\n- Browser Compatibility\n\n### Entry\n\nç”¨äºæŒ‡å®šä¸€ä¸ªå…¥å£jsæ–‡ä»¶ä½œä¸ºä¾èµ–å›¾çš„å¼€å§‹ã€‚\n\n```js\nmodule.exports = {\n  entry: './path/to/my/entry/file.js',\n};\n```\n\n### Output\n\nå‘Šè¯‰ webpack åœ¨å“ªé‡Œè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„ *bundle*ï¼Œä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶ã€‚\n\nä¸»è¦è¾“å‡ºæ–‡ä»¶çš„é»˜è®¤å€¼æ˜¯ `./dist/main.js`ï¼Œå…¶ä»–ç”Ÿæˆæ–‡ä»¶é»˜è®¤æ”¾ç½®åœ¨ `./dist` æ–‡ä»¶å¤¹ä¸­ã€‚\n\n```js\nconst path = require('path');\n\nmodule.exports = {\n  entry: './path/to/my/entry/file.js',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'my-first-webpack.bundle.js',\n  },\n};\n```\n\n### loader\n\nè®© webpack èƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆæ¨¡å—ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ä¾èµ–å›¾ã€‚\n\né»˜è®¤å¯å¤„ç†JavaScript å’Œ JSON æ–‡ä»¶ã€‚\n\nloaderç”±ä¸¤ä¸ªå±æ€§ç»„æˆï¼š\n\n1. `test` å±æ€§ï¼Œè¯†åˆ«å‡ºå“ªäº›æ–‡ä»¶ä¼šè¢«è½¬æ¢ã€‚\n2. `use` å±æ€§ï¼Œå®šä¹‰å‡ºåœ¨è¿›è¡Œè½¬æ¢æ—¶ï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ª loaderã€‚\n\n```js\nconst path = require('path');\n\nmodule.exports = {\n  output: {\n    filename: 'my-first-webpack.bundle.js',\n  },\n  module: {\n    rules: [{ test: /\\.txt$/, use: 'raw-loader' }],\n  },\n};\n```\n\nä»¥ä¸Šé…ç½®ä¸­ï¼Œå¯¹ä¸€ä¸ªå•ç‹¬çš„ module å¯¹è±¡å®šä¹‰äº† `rules` å±æ€§ï¼Œé‡Œé¢åŒ…å«ä¸¤ä¸ªå¿…é¡»å±æ€§ï¼š`test` å’Œ `use`ã€‚è¿™å‘Šè¯‰ webpack ç¼–è¯‘å™¨(compiler) å¦‚ä¸‹ä¿¡æ¯ï¼š\n\n> â€œå˜¿ï¼Œwebpack ç¼–è¯‘å™¨ï¼Œå½“ä½ ç¢°åˆ°ã€Œåœ¨ `require()`/`import` è¯­å¥ä¸­è¢«è§£æä¸º '.txt' çš„è·¯å¾„ã€æ—¶ï¼Œåœ¨ä½ å¯¹å®ƒæ‰“åŒ…ä¹‹å‰ï¼Œå…ˆ **use(ä½¿ç”¨)** `raw-loader` è½¬æ¢ä¸€ä¸‹ã€‚â€\n\n### Plugin\n\næ’ä»¶å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚åŒ…æ‹¬ï¼šæ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œæ³¨å…¥ç¯å¢ƒå˜é‡ã€‚\n\næƒ³è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œä½ åªéœ€è¦ `require()` å®ƒï¼Œç„¶åæŠŠå®ƒæ·»åŠ åˆ° `plugins` æ•°ç»„ä¸­ã€‚å¤šæ•°æ’ä»¶å¯ä»¥é€šè¿‡é€‰é¡¹(option)è‡ªå®šä¹‰ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­å› ä¸ºä¸åŒç›®çš„è€Œå¤šæ¬¡ä½¿ç”¨åŒä¸€ä¸ªæ’ä»¶ï¼Œè¿™æ—¶éœ€è¦é€šè¿‡ä½¿ç”¨ `new` æ“ä½œç¬¦æ¥åˆ›å»ºä¸€ä¸ªæ’ä»¶å®ä¾‹ã€‚\n\n```js\nconst HtmlWebpackPlugin = require('html-webpack-plugin'); // é€šè¿‡ npm å®‰è£…\nconst webpack = require('webpack'); // ç”¨äºè®¿é—®å†…ç½®æ’ä»¶\n\nmodule.exports = {\n  module: {\n    rules: [{ test: /\\.txt$/, use: 'raw-loader' }],\n  },\n  plugins: [new HtmlWebpackPlugin({ template: './src/index.html' })],\n};\n```\n\nåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ`html-webpack-plugin` ä¸ºåº”ç”¨ç¨‹åºç”Ÿæˆä¸€ä¸ª HTML æ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨æ³¨å…¥æ‰€æœ‰ç”Ÿæˆçš„ bundleã€‚\n\n### Mode\n\né€šè¿‡é€‰æ‹© `development`, `production` æˆ– `none` ä¹‹ä¸­çš„ä¸€ä¸ªï¼Œæ¥è®¾ç½® `mode` å‚æ•°ï¼Œä½ å¯ä»¥å¯ç”¨ webpack å†…ç½®åœ¨ç›¸åº”ç¯å¢ƒä¸‹çš„ä¼˜åŒ–ã€‚å…¶é»˜è®¤å€¼ä¸º `production`ã€‚\n\n```js\nmodule.exports = {\n  mode: 'production',\n};\n```\n\n### Browser Compatibility\n\nwebpack æ”¯æŒæ‰€æœ‰ç¬¦åˆ [ES5 æ ‡å‡†](https://kangax.github.io/compat-table/es5/) çš„æµè§ˆå™¨ï¼ˆä¸æ”¯æŒ IE8 åŠä»¥ä¸‹ç‰ˆæœ¬ï¼‰ã€‚webpack çš„ `import()` å’Œ `require.ensure()` éœ€è¦ `Promise`ã€‚å¦‚æœä½ æƒ³è¦æ”¯æŒæ—§ç‰ˆæœ¬æµè§ˆå™¨ï¼Œåœ¨ä½¿ç”¨è¿™äº›è¡¨è¾¾å¼ä¹‹å‰ï¼Œè¿˜éœ€è¦ [æå‰åŠ è½½ polyfill](https://webpack.docschina.org/guides/shimming/)ã€‚\n\n## Getting Started\n\n### åŸºæœ¬å®‰è£…\n\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤\n\n```bash\nmkdir webpack-demo\ncd webpack-demo\nnpm init -y\nnpm install webpack webpack-cli --save-dev\n```\n\nåˆ›å»ºä»¥ä¸‹ç›®å½•ç»“æ„\n\n**project**\n\n```diff\n  webpack-demo\n  |- package.json\n+ |- index.html\n+ |- /src\n+   |- index.js\n```\n\n**src/index.js**\n\n```javascript\nfunction component() {\n  const element = document.createElement('div');\n\n  // lodashï¼ˆç›®å‰é€šè¿‡ä¸€ä¸ª script å¼•å…¥ï¼‰å¯¹äºæ‰§è¡Œè¿™ä¸€è¡Œæ˜¯å¿…éœ€çš„\n  element.innerHTML = _.join(['Hello', 'webpack'], ' ');\n\n  return element;\n}\n\ndocument.body.appendChild(component());\n```\n\n**index.html**\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml>\n  \u003Chead>\n    \u003Cmeta charset=\"utf-8\" />\n    \u003Ctitle>èµ·æ­¥\u003C/title>\n    \u003Cscript src=\"https://unpkg.com/lodash@4.17.20\">\u003C/script>\n  \u003C/head>\n  \u003Cbody>\n    \u003Cscript src=\"./src/index.js\">\u003C/script>\n  \u003C/body>\n\u003C/html>\n```\n\n> [Lodash](https://lodash.com/) æ˜¯ä¸€ä¸ªä¸€è‡´æ€§ã€æ¨¡å—åŒ–ã€é«˜æ€§èƒ½çš„ JavaScript å®ç”¨å·¥å…·åº“ã€‚\n\næˆ‘ä»¬è¿˜éœ€è¦è°ƒæ•´ `package.json` æ–‡ä»¶ï¼Œä»¥ä¾¿ç¡®ä¿æˆ‘ä»¬å®‰è£…åŒ…æ˜¯ `private(ç§æœ‰çš„)`ï¼Œå¹¶ä¸”ç§»é™¤ `main` å…¥å£ã€‚è¿™å¯ä»¥é˜²æ­¢æ„å¤–å‘å¸ƒä½ çš„ä»£ç ã€‚\n\n**package.json**\n\n```diff\n {\n   \"name\": \"webpack-demo\",\n   \"version\": \"1.0.0\",\n   \"description\": \"\",\n-  \"main\": \"index.js\",\n+  \"private\": true,\n   \"scripts\": {\n     \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n   },\n   \"keywords\": [],\n   \"author\": \"\",\n   \"license\": \"ISC\",\n   \"devDependencies\": {\n     \"webpack\": \"^5.4.0\",\n     \"webpack-cli\": \"^4.2.0\"\n   }\n }\n```\n\n### åˆ›å»ºä¸€ä¸ª bundle\n\nä¿®æ”¹ç›®å½•ç»“æ„\n\n```diff\n  webpack-demo\n  |- package.json\n+ |- /dist\n+   |- index.html\n- |- index.html\n  |- /src\n    |- index.js\n```\n\næœ¬åœ°å®‰è£…lodash\n\n```bash\nnpm install --save lodash\n```\n\n> åœ¨å®‰è£…ä¸€ä¸ª è¦æ‰“åŒ…åˆ°ç”Ÿäº§ç¯å¢ƒ bundle ä¸­çš„packageæ—¶ï¼Œï¼Œä½ åº”è¯¥ä½¿ç”¨ `npm install --save`ã€‚å¦‚æœä½ åœ¨å®‰è£…ä¸€ä¸ªç”¨äºå¼€å‘ç¯å¢ƒçš„ package æ—¶ï¼ˆä¾‹å¦‚ï¼Œlinter, æµ‹è¯•åº“ç­‰ï¼‰ï¼Œä½ åº”è¯¥ä½¿ç”¨ `npm install --save-dev`ã€‚æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹ [npm æ–‡æ¡£](https://docs.npmjs.com/cli/install)ã€‚\n\nç°åœ¨ï¼Œåœ¨æˆ‘ä»¬çš„ script ä¸­ import `lodash`ï¼š\n\n**src/index.js**\n\n```diff\n+import _ from 'lodash';\n+\n function component() {\n   const element = document.createElement('div');\n\n-  // lodashï¼ˆç›®å‰é€šè¿‡ä¸€ä¸ª script å¼•å…¥ï¼‰å¯¹äºæ‰§è¡Œè¿™ä¸€è¡Œæ˜¯å¿…éœ€çš„\n+  // lodash åœ¨å½“å‰ script ä¸­ä½¿ç”¨ import å¼•å…¥\n   element.innerHTML = _.join(['Hello', 'webpack'], ' ');\n\n   return element;\n }\n\n document.body.appendChild(component());\n```\n\nç°åœ¨ï¼Œæˆ‘ä»¬å°†ä¼šæ‰“åŒ…æ‰€æœ‰è„šæœ¬ï¼Œæˆ‘ä»¬å¿…é¡»æ›´æ–° `index.html` æ–‡ä»¶ã€‚ç”±äºç°åœ¨æ˜¯é€šè¿‡ `import` å¼•å…¥ lodashï¼Œæ‰€ä»¥è¦å°† lodash `\u003Cscript>` åˆ é™¤ï¼Œç„¶åä¿®æ”¹å¦ä¸€ä¸ª `\u003Cscript>` æ ‡ç­¾æ¥åŠ è½½ bundleï¼Œè€Œä¸æ˜¯åŸå§‹çš„ `./src` æ–‡ä»¶ï¼š\n\n**dist/index.html**\n\n```diff\n \u003C!DOCTYPE html>\n \u003Chtml>\n   \u003Chead>\n     \u003Cmeta charset=\"utf-8\" />\n     \u003Ctitle>èµ·æ­¥\u003C/title>\n-    \u003Cscript src=\"https://unpkg.com/lodash@4.17.20\">\u003C/script>\n   \u003C/head>\n   \u003Cbody>\n-    \u003Cscript src=\"./src/index.js\">\u003C/script>\n+    \u003Cscript src=\"main.js\">\u003C/script>\n   \u003C/body>\n \u003C/html>\n```\n\næ‰§è¡Œ `npx webpack`ï¼Œç„¶åæ‰“å¼€`dist/index.html`ï¼Œåº”è¯¥å°±èƒ½çœ‹åˆ°hello webpackäº†ã€‚è¯´æ˜importçš„jsä¹Ÿè¢«æ‰“åŒ…è¿›å»äº†ã€‚\n\n:::warning\nç›´æ¥è¿è¡Œhtmlå‡ºç°main.jsè¯­æ³•é”™è¯¯ï¼Œä½¿ç”¨vscode open with live serverå´å‘ç°ä¸€åˆ‡æ­£å¸¸\n\nåˆæ­¥æ€€ç–‘æ˜¯jsç­‰çº§é—®é¢˜ï¼Œåæ¥f12æŸ¥çœ‹jsï¼Œå‘ç°å‡ºç°ä¹±ç ï¼ŒæŸ¥çœ‹htmlç¼–ç ï¼Œæœç„¶æœ‰é—®é¢˜ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæ˜¯utf-16ï¼Œè€Œjsç¼–ç ä¸ºutf-8ï¼Œé‚ä¿®æ”¹htmlç¼–ç ä¸ºutf-8ï¼Œé—®é¢˜è§£å†³\n:::\n\n### æ¨¡å—\n\nES2015ï¼ˆES6çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼‰çš„`import`å’Œ`export`å·²ååˆ†å¸¸è§ï¼Œä½†æ˜¯å¾ˆå¤šæµè§ˆå™¨å´ä¸èƒ½æ”¯æŒï¼Œæ‰€ä»¥webpacké»˜è®¤ä¼šå°†ä¸€äº›æ¨¡å—çš„è¯­æ³•è½¬æ¢æˆæµè§ˆå™¨å¯ä»¥å…¼å®¹çš„æ–¹å¼ã€‚é™¤äº†`export`å’Œ`import`ï¼Œwebpackè¿˜æ”¯æŒæ›´å¤šä¿¡æ¯æŸ¥çœ‹[æ¨¡å—API](https://webpack.docschina.org/api/module-methods)\n\n:::warning\nwebpack ä¸ä¼šæ›´æ”¹ä»£ç ä¸­é™¤ `import` å’Œ `export` è¯­å¥ä»¥å¤–çš„éƒ¨åˆ†ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨å…¶å®ƒ [ES2015 ç‰¹æ€§](http://es6-features.org/)ï¼Œè¯·ç¡®ä¿ä½ åœ¨ webpack [loader ç³»ç»Ÿ](https://webpack.docschina.org/concepts/loaders/) ä¸­ä½¿ç”¨äº†ä¸€ä¸ªåƒæ˜¯ [Babel](https://babel.docschina.org/) æˆ– [BublÃ©](https://buble.surge.sh/guide/) çš„ [transpiler(è½¬è¯‘å™¨)](https://webpack.docschina.org/loaders/#transpiling)ã€‚\n:::\n\n## ä½¿ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶\n\nåœ¨ä»¥ä¸‹ç›®å½•åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œ`webpack.config.js`\n\n```diff\n webpack-demo\n  |- package.json\n+ |- webpack.config.js\n  |- /dist\n    |- index.html\n  |- /src\n    |- index.js\n```\n\n```javascript\nconst path = require('path');\n\nmodule.exports = {\n  entry: './src/index.js',\n  output: {\n    filename: 'main.js',\n    path: path.resolve(__dirname, 'dist'),\n  },\n};\n```\n\næ‰§è¡Œ`npx webpack --config webpack.config.js`ï¼ŒæˆåŠŸæ„å»ºã€‚\n\n:::tip\n`--config`åªæ˜¯è¡¨æ˜å¯ä»¥æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œç¼ºçœå€¼ä¸ºwebpack.config.jsï¼Œä¹Ÿå°±æ˜¯ä»¥ä¸Šçš„--configå¯ä»¥è¢«çœç•¥\n:::\n\n## npm scripts\n\nä¸€èˆ¬æƒ…å†µï¼Œæˆ‘ä»¬ä¼šå°†webpackçš„è„šæœ¬é…ç½®åˆ°npmçš„scriptä¸­ã€‚\n\n**package.json**\n\n```diff\n\"scripts\": {\n     \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n+    \"build\": \"webpack\"\n   },\n```\n\nç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥æ‰§è¡Œ`npm run build`æ¥è¿›è¡Œæ‰“åŒ…äº†ã€‚\n\n:::tip\nå¯ä»¥é€šè¿‡åœ¨ npm run build å‘½ä»¤ä¸å‚æ•°ä¹‹é—´æ·»åŠ ä¸¤ä¸ªè¿æ¥ç¬¦çš„æ–¹å¼å‘ webpack ä¼ é€’è‡ªå®šä¹‰å‚æ•°ï¼Œä¾‹å¦‚ï¼šnpm run build -- --colorã€‚\n\nä¹Ÿå¯ä»¥åœ¨build scriptä¸­webpackååŠ ä¸Šè‡ªå®šä¹‰å‚æ•°\n:::\n\n## ç®¡ç†èµ„æº\n\nä¸ºäº†åœ¨ JavaScript æ¨¡å—ä¸­ import ä¸€ä¸ª CSS æ–‡ä»¶ï¼Œä½ éœ€è¦å®‰è£… style-loader å’Œ css-loaderï¼Œå¹¶åœ¨ module é…ç½® ä¸­æ·»åŠ è¿™äº› loaderï¼š\n\n```bash\nnpm install --save-dev style-loader css-loader\n```\n\nåŒæ—¶é…ç½®**webpack.config.js**\n\n```diff\n const path = require('path');\n\n module.exports = {\n   entry: './src/index.js',\n   output: {\n     filename: 'bundle.js',\n     path: path.resolve(__dirname, 'dist'),\n   },\n+  module: {\n+    rules: [\n+      {\n+        test: /\\.css$/i,\n+        use: ['style-loader', 'css-loader'],\n+      },\n+    ],\n+  },\n };\n```\n\nè¿™æ ·ï¼Œé¡¹ç›®ä¾èµ–çš„CSSå°†ä¼šè¢«æ‰“åŒ…ã€‚\n\næ›´å¤šèµ„æºç±»å‹å‚è€ƒ[å®˜æ–¹æ–‡æ¡£-ç®¡ç†èµ„æº](https://webpack.docschina.org/guides/asset-management/)ã€‚\n\n## æœ€å\n\nè‡³æ­¤ï¼Œwebpackçš„å…¥é—¨å¯ä»¥å‘Šä¸€æ®µè½äº†ï¼Œæœ‰äº›è¿™äº›åŸºæœ¬æ¦‚å¿µå’Œä½¿ç”¨æ–¹å¼ï¼Œç›¸ä¿¡å·²ç»èƒ½å¤Ÿè®©åˆå­¦è€…åˆæ­¥ä½¿ç”¨webpackäº†ã€‚\n\n","post/2021/20210510/":"\r\n## åºè¨€\r\n\r\nBabelæ˜¯JavaScriptçš„ç¼–è¯‘å™¨ï¼Œä¸»è¦ç”¨äºè½¬æ¢ECMAScript 2015+ çš„ä»£ç ï¼Œä½¿ä¹‹å¯ä»¥åœ¨å„ç§ç¯å¢ƒæ­£å¸¸è¿è¡Œã€‚ç”¨æˆ·å®Œå…¨å¯ä»¥ä½¿ç”¨æœ€æ–°çš„ECMAScriptè¯­æ³•è€Œå®Œå…¨æ— éœ€æ‹…å¿ƒæµè§ˆå™¨æ˜¯å¦æ”¯æŒçš„é—®é¢˜ã€‚\r\n\r\n## ä½¿ç”¨æŒ‡å—\r\n\r\næŒ‰ç…§æƒ¯ä¾‹ï¼Œè¿™é‡Œä¾æ—§é‡‡å–ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹æ¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ç†è§£å’Œä½¿ç”¨Babelã€‚\r\n\r\næ¡ˆä¾‹ä¸»è¦ä»‹ç»å¦‚ä½•é€šè¿‡Babelçš„å‘½ä»¤è¡Œå·¥å…·è½¬æ¢EMCAScript 2015+çš„è¯­æ³•è‡³æ›´ä½çš„ç­‰çº§ã€‚\r\n\r\né¦–å…ˆæ˜¯Babelçš„å®‰è£…\r\n\r\n```bash\r\nnpm install --save-dev @babel/core @babel/cli @babel/preset-env\r\n```\r\n\r\nåˆ›å»ºBabelçš„é…ç½®æ–‡ä»¶ï¼Œ`babel.config.json`\r\n\r\n```json\r\n{\r\n  \"presets\": [\r\n    [\r\n      \"@babel/env\",\r\n      {\r\n        \"targets\": {\r\n          \"edge\": \"17\",\r\n          \"firefox\": \"60\",\r\n          \"chrome\": \"67\",\r\n          \"safari\": \"11.1\"\r\n        },\r\n        \"useBuiltIns\": \"usage\", // å½“æ­¤å‚æ•°è®¾ç½®ä¸º \"usage\" æ—¶ï¼Œå°±ä¼šåŠ è½½ä¸Šé¢æ‰€æåˆ°çš„æœ€åä¸€ä¸ªä¼˜åŒ–æªæ–½ï¼Œä¹Ÿå°±æ˜¯åªåŒ…å«ä½ æ‰€éœ€è¦çš„ polyfillã€‚\r\n        \"corejs\": \"3.6.5\"\r\n      }\r\n    ]\r\n  ]\r\n}\r\n```\r\n\r\nç°åœ¨æ–°å»ºä¸€ä¸ª`src`å’Œ`lib`ç›®å½•ï¼Œå¹¶åœ¨`src`ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª`main.js`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\r\n\r\n```js\r\nconst x = (x, y) => x * y\r\n```\r\n\r\né€šè¿‡npxæ‰§è¡Œbabelå‘½ä»¤ï¼Œå°†srcä¸‹çš„æ–‡ä»¶è¿›è¡Œè½¬åŒ–å¹¶è¾“å‡ºåˆ°libç›®å½•\r\n\r\n```bash\r\nnpx babel src --out-dir lib --presets=@babel/env\r\n```\r\n\r\nç°åœ¨ä½ å¯ä»¥æ‰“å¼€libç›®å½•ï¼ŒæŸ¥çœ‹è½¬æ¢ä¹‹åçš„ä»£ç äº†ã€‚\r\n\r\n## åŸºç¡€æ¦‚å¿µ\r\n\r\nè™½ç„¶æ¡ˆä¾‹çœ‹èµ·æ¥ååˆ†ç®€å•æ˜“ç”¨ï¼Œä½†æ˜¯äº†è§£ä¸€äº›åŸºç¡€æ¦‚å¿µä¼šè®©ä½ æ›´å¥½ç†è§£Babelã€‚\r\n\r\nåœ¨ä¸Šè¿°æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å®‰è£…äº†`@babel/core` `@babel/cli` `@babel/preset-env`è¿™ä¸‰ä¸ªåŒ…ã€‚\r\n\r\nå…¶ä¸­coreæ˜¯æ ¸å¿ƒï¼Œcliæ˜¯å‘½ä»¤è¡Œå·¥å…·ï¼ˆ*æ²¡æœ‰cliå°±éœ€è¦ä½¿ç”¨apiè¿›è¡Œè½¬æ¢*ï¼‰ï¼Œè¿™ä¸¤ä¸ªéƒ½å¾ˆå¥½ç†è§£ï¼Œå…³é”®æ˜¯preset-envæ˜¯ä»€ä¹ˆï¼Ÿ\r\n\r\n**é¢„è®¾**ï¼ˆ**preset**ï¼‰æ˜¯ä¸€äº›æ’ä»¶çš„é›†åˆï¼Œ`@babel/preset-env`æ˜¯ä¸ªå®˜æ–¹çš„é¢„è®¾ï¼Œå®ƒå·²ç»è‡ªåŠ¨å¸®æˆ‘ä»¬é…ç½®äº†è®¸å¤šæ’ä»¶ã€‚ä¾‹å¦‚ç®­å¤´å‡½æ•°è½¬æ¢ã€‚\r\n\r\n> åœ¨æ²¡æœ‰é¢„è®¾çš„æƒ…å†µä¸‹ï¼Œä½ éœ€è¦è‡ªå·±å®‰è£…å¾ˆå¤šæ’ä»¶ã€‚\r\n\r\n> ä½ å¯ä»¥åˆ†äº«è‡ªå·±çš„æ’ä»¶é›†åˆä¸ºé¢„è®¾ã€‚\r\n\r\n**Polyfill**ï¼š`@babel/polyfill` æ¨¡å—åŒ…å« core-js å’Œä¸€ä¸ªè‡ªå®šä¹‰çš„ regenerator runtime æ¥æ¨¡æ‹Ÿå®Œæ•´çš„ ES2015+ ç¯å¢ƒã€‚\r\n\r\n> Babelé»˜è®¤åªè½¬æ¢è¯­æ³•ï¼ˆsyntaxï¼‰ï¼Œè€Œä¸è½¬æ¢APIï¼Œæ‰€ä»¥éœ€è¦polyfillæ¥è®©æµè§ˆå™¨æ”¯æŒAPIï¼Œè€Œä¸æ˜¯å‡ºç°xxx is not a functionã€‚\r\n\r\nè¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨è¯¸å¦‚ `Promise` å’Œ `WeakMap` ä¹‹ç±»çš„æ–°çš„å†…ç½®ç»„ä»¶ã€ `Array.from` æˆ– `Object.assign` ä¹‹ç±»çš„é™æ€æ–¹æ³•ã€ `Array.prototype.includes` ä¹‹ç±»çš„å®ä¾‹æ–¹æ³•ä»¥åŠç”Ÿæˆå™¨å‡½æ•°ï¼ˆgenerator functionsï¼‰ï¼ˆå‰ææ˜¯ä½ ä½¿ç”¨äº† regenerator æ’ä»¶ï¼‰ã€‚\r\n\r\nå¯¹äºä¸€äº›äººæ¥è¯´ï¼Œå¯èƒ½ä¸ä¼šä½¿ç”¨åˆ°è¿™ä¹ˆå¤šç‰¹æ€§ï¼Œæ‰€ä»¥`preset-env`æä¾›äº†ä¸€ä¸ªå‚æ•°**useBuiltIns**ï¼Œå½“æ­¤å‚æ•°è®¾ç½®ä¸º **usage** æ—¶ï¼ŒBabel å°†æ£€æŸ¥ä½ çš„æ‰€æœ‰ä»£ç ï¼Œä»¥ä¾¿æŸ¥æ‰¾ç›®æ ‡ç¯å¢ƒä¸­ç¼ºå¤±çš„åŠŸèƒ½ï¼Œç„¶ååªæŠŠå¿…é¡»çš„ polyfill åŒ…å«è¿›æ¥ã€‚\r\n\r\n> ä» Babel 7.4.0 ç‰ˆæœ¬å¼€å§‹ï¼Œè¿™ä¸ªè½¯ä»¶åŒ…å·²ç»ä¸å»ºè®®ä½¿ç”¨äº†ï¼Œå»ºè®®ç›´æ¥åŒ…å« `core-js/stable` ï¼ˆç”¨äºæ¨¡æ‹Ÿ ECMAScript çš„åŠŸèƒ½ï¼‰å’Œ `regenerator-runtime/runtime` éœ€è¦ä½¿ç”¨è½¬è¯‘åçš„ç”Ÿæˆå™¨å‡½æ•°ï¼‰ï¼š\r\n\r\næƒ³äº†è§£æ›´å¤špresetå¯ä»¥æŸ¥çœ‹[https://babeljs.io/docs/en/babel-preset-env](https://babeljs.io/docs/en/babel-preset-env)\r\n\r\n## webpack & babel\r\n\r\nä»¥ä¸‹æ˜¯webpackä½¿ç”¨babelçš„æŒ‡å—ã€‚\r\n\r\nå®‰è£…loader\r\n\r\n```bash\r\nnpm install --save-dev babel-loader @babel/core\r\n```\r\n\r\nå®‰è£…é¢„è®¾\r\n\r\n```bash\r\nnpm install @babel/preset-env --save-dev\r\n```\r\n\r\n`webpack.config.js`\r\n\r\n```js\r\n{\r\n  module: {\r\n    rules: [\r\n      {\r\n        test: /\\.m?js$/,\r\n        exclude: /node_modules/,\r\n        use: {\r\n          loader: \"babel-loader\",\r\n          options: {\r\n            presets: ['@babel/preset-env']\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nFor more information see the [babel/babel-loader repo](https://github.com/babel/babel-loader).\r\n\r\n`babel.config.json`\r\n\r\n```diff\r\n    const path = require('path');\r\n\r\n    module.exports = {\r\n      entry: './src/index.js',\r\n      output: {\r\n        filename: 'main.js',\r\n        path: path.resolve(__dirname, 'dist'),\r\n      },\r\n      mode: 'development',\r\n      module: {\r\n+        rules: [\r\n+          {\r\n+            test: /\\.m?js$/,\r\n+            exclude: /node_modules/,\r\n+            use: {\r\n+              loader: \"babel-loader\",\r\n+              options: {\r\n+                presets: ['@babel/preset-env'\r\n+                ]\r\n+              }\r\n+            }\r\n+          }\r\n+        ]\r\n      }\r\n    };\r\n```\r\n\r\n`babel.config.json`\r\n\r\n```json\r\n{\r\n  \"presets\": [\"@babel/preset-env\"]\r\n}\r\n```\r\n\r\n## æœ€å\r\n\r\næ›´å¤šç»†èŠ‚å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://babeljs.io/)\r\n\r\n","post/2021/20210518/":"\n## å‰è¨€\n\nDruidæ˜¯é˜¿é‡Œå¼€æºçš„ä¸€ä¸ªJavaæ•°æ®åº“è¿æ¥æ± ï¼Œèƒ½å¤Ÿæä¾›å¼ºå¤§çš„ç›‘æ§å’Œæ‰©å±•åŠŸèƒ½ã€‚\n\nDruidä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†\n\n1. DruidDriverï¼šä»£æ›¿é»˜è®¤çš„Database Driver\n2. DruidDataSourceï¼šæ•°æ®åº“è¿æ¥æ± éƒ¨åˆ†\n3. SQLParserï¼šSQLåˆ†æ\n\n:::warning\nApacheä¸‹åŒæ ·æœ‰ä¸ªé¡¹ç›®å«Druidï¼Œé‚£ä¸ªDruidæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½å®æ—¶åˆ†ææ•°æ®åº“ã€‚\n:::\n\n## ä¸SpringBootçš„é›†æˆ\n\nä»¥ä¸‹å°†é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹å±•ç¤ºDruidä¸SpringBootçš„ç»§æ‰¿ã€‚\n\npom.xml\n\n``` xml\n\u003Cdependency>\n    \u003CgroupId>com.alibaba\u003C/groupId>\n    \u003CartifactId>druid-spring-boot-starter\u003C/artifactId>\n\u003C/dependency>\n```\n[https://mvnrepository.com/artifact/com.alibaba/druid-spring-boot-starter](https://mvnrepository.com/artifact/com.alibaba/druid-spring-boot-starter) è‡ªè¡Œé€‰æ‹©ç‰ˆæœ¬\n\napplication.yml\n\n```yaml\nspring:\n  datasource:\n    username: xxx\n    password: xxx\n    driver-class-name: x\n    url: xxx\n    type: com.alibaba.druid.pool.DruidDataSource\n    druid:\n      initial-size: 5\n      min-idle: 5\n      max-active: 20\n      test-while-idle: true\n      test-on-borrow: false\n      test-on-return: false\n      pool-prepared-statements: true\n      max-pool-prepared-statement-per-connection-size: 20\n      max-wait: 60000\n      time-between-eviction-runs-millis: 60000\n      min-evictable-idle-time-millis: 30000\n      filters: stat\n      async-init: true\n      stat-view-servlet:\n        login-username: druid\n        login-password: 123456\n```\n\né…ç½®äº†ç™»å½•çš„ç”¨æˆ·åå¯†ç ï¼Œæ‚‰çŸ¥ã€‚å…¶ä»–é…ç½®å¯ä»¥å‚è€ƒæ–‡æœ«çš„å‚è€ƒæ–‡æ¡£ã€‚\n\né»˜è®¤çš„ç›‘æ§é¡µé¢ï¼š`http://host:port/druid/webapp.html` (hostï¼šåŸŸå/IPï¼Œportï¼šç«¯å£å·)ï¼Œæ‰“å¼€ä¹‹åè¾“å…¥ç”¨æˆ·åå¯†ç åº”è¯¥å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç±»ä¼¼çš„ç›‘æ§é¡µé¢ã€‚\n\n![image-20210518214400455](https://cdn.jsdelivr.net/gh/alightyoung/static/img/20210519102624.png)\n\n## æœ€å\n\n:::tip{text=\"å‚è€ƒæ–‡æ¡£\"}\n[https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter](https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter)\n\n[https://www.oschina.net/p/druid?hmsr=aladdin1e1](https://www.oschina.net/p/druid?hmsr=aladdin1e1)\n\n[https://juejin.cn/post/6844904190909628429](https://juejin.cn/post/6844904190909628429)\n:::\n","post/2021/20210629/":"\n## ç®€ä»‹\n\nEChartsï¼Œä¸€ä¸ªä½¿ç”¨ JavaScript å®ç°çš„å¼€æºå¯è§†åŒ–åº“ï¼Œå¯ä»¥æµç•…çš„è¿è¡Œåœ¨ PC å’Œç§»åŠ¨è®¾å¤‡ä¸Šï¼Œå…¼å®¹å½“å‰ç»å¤§éƒ¨åˆ†æµè§ˆå™¨ï¼ˆIE8/9/10/11ï¼ŒChromeï¼ŒFirefoxï¼ŒSafariç­‰ï¼‰ï¼Œåº•å±‚ä¾èµ–çŸ¢é‡å›¾å½¢åº“ [ZRender](https://github.com/ecomfe/zrender)ï¼Œæä¾›ç›´è§‚ï¼Œäº¤äº’ä¸°å¯Œï¼Œå¯é«˜åº¦ä¸ªæ€§åŒ–å®šåˆ¶çš„æ•°æ®å¯è§†åŒ–å›¾è¡¨ã€‚\n\nEchartsä¸ä»…æä¾›äº†å¸¸è§æ¡å½¢å›¾ï¼ŒæŠ˜çº¿å›¾ï¼Œæ‰‡å½¢å›¾ç­‰æ•°åç§ç±»å‹çš„å›¾ï¼Œè¿˜æ”¯æŒè‡ªå®šä¹‰å›¾ï¼ŒåŸºæœ¬å¯ä»¥æ¶µç›–ä½ æ‰€æœ‰çš„éœ€æ±‚ã€‚\n\n## å¿«é€Ÿå…¥é—¨\n\næœ€ç®€å•çš„äº†è§£æ–¹å¼å°±æ˜¯é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹ã€‚ï¼ˆVue2ç¯å¢ƒ + Echarts5ï¼‰\n\n1 ä¸‹è½½å®‰è£…\n\n```shell\nnpm install echarts --save\n```\n\n2 åœ¨main.jså¼•ç”¨å¹¶å®šä¹‰å…¨å±€å˜é‡\n\n```js\n// import echarts from 'echarts' // 5.0-æ–¹å¼\nimport * as echarts from 'echarts' // 5.0+æ–¹å¼\nVue.prototype.$echarts = echarts\n```\n\n:::tip\nè¿™é‡Œä¸ºäº†å¿«é€Ÿä¸Šæ‰‹ç›´æ¥å¼•ç”¨äº†å…¨éƒ¨çš„ç»„ä»¶ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šé€‰æ‹©æŒ‰éœ€å¼•ç”¨ï¼Œè¿™ç‚¹åœ¨ä¹‹åä¼šè¯´æ˜ã€‚\n:::\n\n3 åœ¨ç»„ä»¶ä¸­åˆ›å»ºä¸€ä¸ªå®¹å™¨ç”¨äºå±•ç¤ºå›¾\n\n```html\n\u003Cdiv id=\"main\" :style=\"{ width: '800px', height: '300px' }\">\u003C/div>\n```\n\n4 åœ¨mountedå‡½æ•°ä¸­è¿›è¡Œå›¾çš„åˆå§‹åŒ–åˆ›å»º\n\n```js\nvar chartDom = document.getElementById('main');\nvar myChart = this.$echarts.init(chartDom);\nvar option;\n\noption = {\n    xAxis: {\n        type: 'category',\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n    },\n    yAxis: {\n        type: 'value'\n    },\n    series: [{\n        data: [120, 200, 150, 80, 70, 110, 130],\n        type: 'bar'\n    }]\n};\n\noption && myChart.setOption(option);\n```\n\nè¿™æ ·ä¸€ä¸ªæœ€ç®€å•çš„æŸ±çŠ¶å›¾æ¡ˆä¾‹å°±å®Œæˆäº†ã€‚ä½ å¯ä»¥åœ¨Echartsçš„å®˜ç½‘ä¸Šæ‰¾åˆ°æ›´å¤šæ¡ˆä¾‹ï¼Œå¹¶ä¸”æ¯ä¸ªæ¡ˆä¾‹éƒ½å¯é€‰æ‹©æŒ‰éœ€å¼•ç”¨çš„æ–¹å¼ã€‚[ä¼ é€é—¨](https://echarts.apache.org/examples/zh/index.html)\n\n\n## æœ€å\n\nEchartsçš„ä»‹ç»è‡³æ­¤ç»“æŸï¼Œè¿™é‡Œåªæ˜¯ç®€å•çš„äº†è§£ï¼Œä»¥åå†å¡«å‘ã€‚\n","post/2021/20210630/":"\n## ç®€ä»‹\n\nMock.js æ˜¯ä¸€ä¸ª**æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå™¨**ï¼Œå¸®åŠ©å‰ç«¯å¼€å‘å’ŒåŸå‹ä¸åç«¯è¿›ç¨‹åˆ†ç¦»ï¼Œå‡å°‘ä¸€äº›å•è°ƒçš„å·¥ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•æ—¶ã€‚\n\nç®€å•æ¥è¯´ï¼Œä½ å¯ä»¥åˆ©ç”¨å®ƒæ¥ç”Ÿæˆå¤§é‡æµ‹è¯•æ•°æ®ï¼Œå¹¶ä¸”ä½ è¿˜å¯ä»¥æ‹¦æˆªAjaxè¯·æ±‚ï¼Œè¿”å›æ ¼å¼æ­£ç¡®çš„æµ‹è¯•æ•°æ®ã€‚\n\n## å¿«é€Ÿä¸Šæ‰‹\n\nç…§ä¾‹ç¼–å†™ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚(ä¾æ—§æ˜¯vue2ç¯å¢ƒ)\n\n1 ä¸‹è½½å®‰è£…\n\n```sh\nnpm install mockjs -S\n```\n\n2 main.jså¼•ç”¨å¹¶å®šä¹‰å…¨å±€å˜é‡ï¼Œè¿™é‡Œè¿˜ä½¿ç”¨äº†axioså‘é€è¯·æ±‚ï¼Œç”¨äºæµ‹è¯•mockjsçš„ajaxæ‹¦æˆªåŠŸèƒ½ã€‚\n\n```js\nimport Mock from 'mockjs'\nimport axios from 'axios'\n\nVue.prototype.$mock = Mock\nVue.prototype.$axios = axios\n```\n\n3 åœ¨ç»„ä»¶ä¸­ä½¿ç”¨mockjs\n\n```js\n  data() {\n    return {\n      provinces: [],\n    };\n  },\n  mounted() {\n    var data = this.$mock.mock('province',{\n      \"list|10\": [\"@province\"],\n    });\n    this.$axios.get('province').then(res=>{\n      this.provinces = res.data.list;\n      console.log(this.province)\n    })\n  }\n```\n\næŸ¥çœ‹æ§åˆ¶å°ï¼Œå‘ç°å·²ç»è‡ªåŠ¨ç”Ÿæˆäº†10ä¸ªéšæœºçœä»½ã€‚\n\n## æ ¸å¿ƒæ¦‚å¿µä¸å‡½æ•°\n\nåœ¨ä¸Šé¢çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨è¿‡äº†mockå‡½æ•°ï¼Œæ¥ä¸‹æ¥ä¸»è¦è¯¦ç»†è§£æä¸€ä¸‹è¿™äº›å‡½æ•°ã€‚\n\n### Mock.mock\n\n`Mock.mock( rurl?, rtype?, template|function( options ) )`\n\nè¯¥å‡½æ•°å¯æ ¹æ®å‚æ•°çš„ç»„åˆåˆ†ä¸ºä»¥ä¸‹å‡ ç§æƒ…å†µï¼š\n\n- `Mock.mock(template)` ï¼šæ ¹æ®æ•°æ®æ¨¡æ¿ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®ã€‚\n- `Mock.mock(rurl,template)` ï¼šè®°å½•æ•°æ®æ¨¡æ¿ã€‚å½“æ‹¦æˆªåˆ°åŒ¹é… rurl çš„ Ajax è¯·æ±‚æ—¶ï¼Œå°†æ ¹æ®æ•°æ®æ¨¡æ¿ template ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®ï¼Œå¹¶ä½œä¸ºå“åº”æ•°æ®è¿”å›ã€‚\n- `Mock.mock(rurl,function(options))` ï¼šè®°å½•ç”¨äºç”Ÿæˆå“åº”æ•°æ®çš„å‡½æ•°ã€‚å½“æ‹¦æˆªåˆ°åŒ¹é… rurl çš„ Ajax è¯·æ±‚æ—¶ï¼Œå‡½æ•° function(options) å°†è¢«æ‰§è¡Œï¼Œå¹¶æŠŠæ‰§è¡Œç»“æœä½œä¸ºå“åº”æ•°æ®è¿”å›ã€‚\n- `Mock.mock(rurl,rtype,template)` ï¼šè®°å½•æ•°æ®æ¨¡æ¿ã€‚å½“æ‹¦æˆªåˆ°åŒ¹é… rurl å’Œ rtype çš„ Ajax è¯·æ±‚æ—¶ï¼Œå°†æ ¹æ®æ•°æ®æ¨¡æ¿ template ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®ï¼Œå¹¶ä½œä¸ºå“åº”æ•°æ®è¿”å›ã€‚\n- `Mock.mock(rurl,rtype,function(options))` ï¼šè®°å½•ç”¨äºç”Ÿæˆå“åº”æ•°æ®çš„å‡½æ•°ã€‚å½“æ‹¦æˆªåˆ°åŒ¹é… rurl å’Œ rtype çš„ Ajax è¯·æ±‚æ—¶ï¼Œå‡½æ•° function(options) å°†è¢«æ‰§è¡Œï¼Œå¹¶æŠŠæ‰§è¡Œç»“æœä½œä¸ºå“åº”æ•°æ®è¿”å›ã€‚\n\n### Mock.Random\n\nMock.Random æ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œç”¨äºç”Ÿæˆå„ç§éšæœºæ•°æ®ã€‚\n\nåœ¨ä¸Šè¿°ç¤ºä¾‹ä»£ç ä¸­ï¼Œç”¨åˆ°çš„`@province`å…¶å®å°±æ˜¯ã€å ä½ç¬¦ã€ã€‚\n\nMock.Random çš„æ–¹æ³•åœ¨æ•°æ®æ¨¡æ¿ä¸­ç§°ä¸ºã€å ä½ç¬¦ã€ï¼Œä¹¦å†™æ ¼å¼ä¸º @å ä½ç¬¦(å‚æ•° [, å‚æ•°]) ã€‚\n\n### æ•°æ®æ¨¡æ¿\n\næ•°æ®æ¨¡æ¿ï¼Œå°±æ˜¯ä¹‹å‰æˆ‘ä»¬ç¤ºä¾‹ä»£ç ä¸­çš„`{\"list|10\": [\"@province\"],}`ï¼Œè¯¥æ¨¡æ¿å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªlistå±æ€§ï¼Œè¯¥å±æ€§ä¼šç”Ÿè¾°10ä¸ªéšæœºçœä»½ã€‚\n\nå› ä¸ºæ•°æ®æ¨¡æ¿çš„ç±»å‹ååˆ†ä¸°å¯Œï¼Œè¿™é‡Œä¹Ÿä¸å¯èƒ½ä¸€ä¸€åˆ—ä¸¾ï¼Œé™„ä¸Šå®˜æ–¹ç½‘ç«™ç¤ºä¾‹é¡µé¢ï¼Œ[ä¼ é€é—¨](http://mockjs.com/examples.html)ã€‚\n\n\n## æœ€å\n\nMockjsçš„åŸºæœ¬ç”¨æ³•å·®ä¸å¤šå°±æ˜¯è¿™äº›äº†ï¼Œå…¶ä¸­è¿˜æœ‰ä¸€äº›å‡½æ•°æˆ–è€…å…¶ä»–ç‚¹æ²¡æœ‰è¯´æ˜æ˜¯å› ä¸ºæš‚æ—¶æ²¡ç”¨ä¸Šã€‚\n\næ‰€ä»¥è¿™é‡Œä¹Ÿä¸€å¹¶é™„ä¸Šå®˜æ–¹Github wikiå’Œæ–‡æ¡£ç«™ã€‚éœ€è¦çš„å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ã€‚\n\n:::tip\nGithub : [https://github.com/nuysoft/Mock](https://github.com/nuysoft/Mock)\n\nWiki : [https://github.com/nuysoft/Mock/wiki](https://github.com/nuysoft/Mock/wiki)\n\nOfficial Doc : [http://mockjs.com/](http://mockjs.com/)\n:::\n\n","post/2021/20210706/":"\n## ç®€ä»‹\n\nSpring Cloud Alibabaæ—¨åœ¨ä¸ºå¾®æœåŠ¡å¼€å‘æä¾›ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚\n\nè¯´åˆ°Spring Cloud Alibabaå°±ä¸å¾—ä¸æåˆ°Dubboï¼ŒDubbo é¡¹ç›®è¯ç”Ÿäº 2008 å¹´ï¼Œç„¶ååœ¨2014å¹´åœæ›´ï¼Œæœ€ååˆåœ¨2017å¹´é‡è·æ–°ç”Ÿï¼Œå¯è°“æ˜¯ä¸€æ³¢ä¸‰æŠ˜ã€‚\n\n:::tip\næƒ³äº†è§£Dubboçš„æ•…äº‹å¯ä»¥çœ‹çœ‹ï¼š[Dubboä½œè€…äº²è¿°ï¼šé‚£äº›è¾‰ç…Œã€æ²‰å¯‚ä¸é‡ç”Ÿçš„æ•…äº‹](https://zhuanlan.zhihu.com/p/53935365)\n:::\n\næ¥ç€åœ¨2018å¹´ï¼ŒSpring Cloud Alibabaæ­£å¼è¿›å…¥Spring Cloudå®˜æ–¹å­µåŒ–å™¨ï¼Œå¹¶åœ¨Mavenä¸­å¤®åº“å‘å¸ƒäº†ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚\n\næ­£å¥½Netflixçš„ä¸€äº›ç»„ä»¶ï¼ˆSpring Cloudå®˜æ–¹æ•´åˆçš„ç»„ä»¶å¾ˆå¤šæ˜¯Netflixå¼€æºçš„ï¼Œæ¯”å¦‚Eurekaã€Zuulã€Hystrixç­‰ï¼‰ä¹Ÿä¸å†ç»´æŠ¤ï¼Œæ‰€ä»¥å­¦ä¹ Spring Cloud Alibabaä¹Ÿå°±æä¸Šæ—¥ç¨‹äº†ã€‚\n\nä»¥ä¸‹æ¡ˆä¾‹å‡é‡‡ç”¨`Spring Cloud Alibaba 2.2.1.RELEASE`ç‰ˆæœ¬\n\n[ç‰ˆæœ¬è¯´æ˜å‚è€ƒ](https://github.com/alibaba/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E)\n\n**pom.xml**\n\n```xml\n\u003CdependencyManagement>\n    \u003Cdependencies>\n        \u003Cdependency>\n            \u003CgroupId>com.alibaba.cloud\u003C/groupId>\n            \u003CartifactId>spring-cloud-alibaba-dependencies\u003C/artifactId>\n            \u003Cversion>2.2.1.RELEASE\u003C/version>\n            \u003Ctype>pom\u003C/type>\n            \u003Cscope>import\u003C/scope>\n        \u003C/dependency>\n    \u003C/dependencies>\n\u003C/dependencyManagement>\n```\n\n## æ ¸å¿ƒç»„ä»¶\n\n1. Nacosï¼šæœåŠ¡å‘ç°ä¸æ³¨å†Œã€åˆ†å¸ƒå¼é…ç½®ã€‚\n2. Dubboï¼šæœåŠ¡è°ƒç”¨\n3. Sentinelï¼šæœåŠ¡ç†”æ–­\n4. Seateï¼šåˆ†å¸ƒå¼äº‹åŠ¡\n5. RocketMQï¼šåˆ†å¸ƒå¼æ¶ˆæ¯\n\n## Nacos\n\nNacos æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®å’ŒæœåŠ¡ç®¡ç†å¹³å°ï¼Œç”¨äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨\n\n[Nacos Spring Cloud å¿«é€Ÿå¼€å§‹](https://nacos.io/zh-cn/docs/quick-start-spring-cloud.html)\n\n### æœåŠ¡ç«¯ä¸‹è½½åŠè¿è¡Œ\n\n1 ä¸‹è½½nacosæœåŠ¡ç«¯ï¼Œä½ æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼è·å–\n\n   - ä¸‹è½½ç¼–è¯‘å¥½çš„å‹ç¼©åŒ… - [https://github.com/alibaba/nacos/releases](https://github.com/alibaba/nacos/releases)\n\n   - ä¸‹è½½æºç è‡ªå·±ç¼–è¯‘\n\n```sh\ngit clone https://github.com/alibaba/nacos.git\ncd nacos/\nmvn -Prelease-nacos -Dmaven.test.skip=true clean install -U\nls -al distribution/target/\n\n// change the $version to your actual path\ncd distribution/target/nacos-server-$version/nacos/bin\n```\n\n2 å¯åŠ¨NacosæœåŠ¡ç«¯\n\n   **ä»¥ä¸‹å‘½ä»¤å‡åœ¨binç›®å½•ä¸­**\n\n   **Linux/Unix/Mac**\n\n   å¯åŠ¨å‘½ä»¤(standaloneä»£è¡¨ç€å•æœºæ¨¡å¼è¿è¡Œï¼Œéé›†ç¾¤æ¨¡å¼):\n\n```sh\nsh startup.sh -m standalone\n```\n\n:::warning\nå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ubuntuç³»ç»Ÿï¼Œæˆ–è€…è¿è¡Œè„šæœ¬æŠ¥é”™æç¤º[[ç¬¦å·æ‰¾ä¸åˆ°ï¼Œå¯å°è¯•å¦‚ä¸‹è¿è¡Œï¼š`bash startup.sh -m standalone`\n:::\n\n**Windows**\n\nå¯åŠ¨å‘½ä»¤(standaloneä»£è¡¨ç€å•æœºæ¨¡å¼è¿è¡Œï¼Œéé›†ç¾¤æ¨¡å¼):\n\n```sh\nstartup.cmd -m standalone\n```\n\néœ€è¦å…³é—­åˆ™ä½¿ç”¨`shutdown`å‘½ä»¤å³å¯ã€‚\n\n### Nacosé…ç½®ç®¡ç†\n\nåœ¨Nacos serverå¯åŠ¨ä¹‹åä¾¿å¯ä»¥é€šè¿‡ip+ç«¯å£æ‰“å¼€nacos webé¡µé¢äº†ï¼Œç”¨æˆ·åå¯†ç å‡ä¸ºnacosã€‚\n\nè¿›å…¥ç®¡ç†ç•Œé¢æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ŒdataIDä¸º`nacosconfig`\n\né…ç½®å¦‚ä¸‹\n\n```yaml\nuseLocalCache: test\n```\n\nè®°å¾—å‘å¸ƒã€‚\n\n**ä»£ç ä¸­è·å–nacosçš„é…ç½®**\n\n**`pom.xml`**ï¼ˆé»˜è®¤å·²ç»æ·»åŠ `springcloud` / `springboot`ï¼‰\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>com.alibaba.cloud\u003C/groupId>\n    \u003CartifactId>spring-cloud-starter-alibaba-nacos-config\u003C/artifactId>\n\u003C/dependency>\n```\n\n**`bootstrap.properties`**ï¼ˆ`bootstrap.properties`å…ˆäº `application.properties` åŠ è½½ï¼‰\n\n```properties\n# æœåŠ¡ç«¯çš„ipç«¯å£\nspring.cloud.nacos.config.server-addr=192.168.191.1:8848\n# dataIDï¼Œç”¨äºç¡®å®šé…ç½®\nspring.application.name=nacosconfig\n# é…ç½®æ–‡ä»¶æ ¼å¼\nspring.cloud.nacos.config.file-extension=yaml\n```\n\n**`ConfigController`**\n\n```java\n@RestController\n@RequestMapping(\"/config\")\n@RefreshScope // Spring Cloud åŸç”Ÿæ³¨è§£ï¼Œå®ç°é…ç½®è‡ªåŠ¨æ›´æ–°\npublic class ConfigController {\n\n    @Value(\"${useLocalCache:''}\")\n    private String useLocalCache;\n\n    @RequestMapping(\"/get\")\n    public String get() {\n        return useLocalCache;\n    }\n}\n```\n\nå¯åŠ¨SpringBootä¸»ç¨‹åºï¼ŒæŸ¥çœ‹`/config/get`æ¥å£ï¼Œå‘ç°å¯ä»¥è·å–è¿œç¨‹é…ç½®ã€‚å›åˆ°nacos webç®¡ç†ç•Œé¢ä¿®æ”¹testä¸ºtest1ï¼Œåˆ·æ–°æ¥å£ï¼Œå‘ç°å€¼å·²è‡ªåŠ¨ä¿®æ”¹ã€‚\n\n### NacosæœåŠ¡å‘ç°ä¸æ³¨å†Œ\n\nå¯åŠ¨Nacos Server\n\né¦–å…ˆåˆ›å»ºä¸¤ä¸ªæ¨¡å—ï¼Œä¸€ä¸ªä¸ºæœåŠ¡æä¾›è€…ï¼Œå¦ä¸€ä¸ªä¸ºæœåŠ¡æ¶ˆè´¹è€…ã€‚\n\nåœ¨æœåŠ¡æä¾›ç«¯å’ŒæœåŠ¡æ¶ˆè´¹ç«¯å‡æ·»åŠ `spring-cloud-starter-alibaba-nacos-discovery`ä¾èµ–ï¼Œé»˜è®¤å·²æ·»åŠ SpringBootä¾èµ–\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>com.alibaba.cloud\u003C/groupId>\n    \u003CartifactId>spring-cloud-starter-alibaba-nacos-discovery\u003C/artifactId>\n\u003C/dependency>\n```\n\næœåŠ¡æä¾›ç«¯ `application.propertiies`\n\n```properties\nserver.port=8070\nspring.application.name=service-provider\n\nspring.cloud.nacos.discovery.server-addr=127.0.0.1:8848\n```\n\næœåŠ¡æä¾›ç«¯ SpringBootå¯åŠ¨ç±»\n\n```java\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class NacosProviderApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(NacosProviderApplication.class, args);\n\t}\n\n\t@RestController\n\tclass EchoController {\n\t\t@RequestMapping(value = \"/echo/{string}\", method = RequestMethod.GET)\n\t\tpublic String echo(@PathVariable String string) {\n\t\t\treturn \"Hello Nacos Discovery \" + string;\n\t\t}\n\t}\n}\n```\n\næœåŠ¡æ¶ˆè´¹ç«¯ `application.propertiies`\n\n```properties\nserver.port=8080\nspring.application.name=service-consumer\n\nspring.cloud.nacos.discovery.server-addr=127.0.0.1:8848\n```\n\næœåŠ¡æ¶ˆè´¹ç«¯ SpringBootå¯åŠ¨ç±»\n\n```java\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class NacosConsumerApplication {\n\n    @LoadBalanced\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(NacosConsumerApplication.class, args);\n    }\n\n    @RestController\n    public class TestController {\n\n        private final RestTemplate restTemplate;\n\n        @Autowired\n        public TestController(RestTemplate restTemplate) {this.restTemplate = restTemplate;}\n\n        @RequestMapping(value = \"/echo/{str}\", method = RequestMethod.GET)\n        public String echo(@PathVariable String str) {\n            return restTemplate.getForObject(\"http://service-provider/echo/\" + str, String.class);\n        }\n    }\n}\n```\n\næœ€åï¼Œå¯åŠ¨ `ProviderApplication` å’Œ `ConsumerApplication` ï¼Œè°ƒç”¨ [http://localhost:8080/echo/2018](http://localhost:8080/echo/2018)ï¼Œè¿”å›å†…å®¹ä¸º Hello Nacos Discovery 2018ã€‚\n\næ­¤æ—¶ä¹Ÿå¯ä»¥æ‰“å¼€**Nacos webç®¡ç†ç•Œé¢**åœ°å€ï¼ŒæŸ¥çœ‹æœåŠ¡åˆ—è¡¨ã€‚\n\n## Sentinel\n\nSentinel ä»¥**æµé‡**ä¸ºåˆ‡å…¥ç‚¹ï¼Œä»**æµé‡æ§åˆ¶**ã€**ç†”æ–­é™çº§**ã€**ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤**ç­‰å¤šä¸ªç»´åº¦ä¿æŠ¤æœåŠ¡çš„ç¨³å®šæ€§ã€‚\n\n### WebFluxç®€ä»‹\n\nåœ¨ä»‹ç»Sentinelä¹‹å‰ï¼Œæˆ‘æƒ³æä¸€ä¸‹Spring WebFluxï¼ˆä»…äº†è§£ä¸€ä¸‹æ¦‚å¿µï¼‰ï¼Œå› ä¸ºSentinelç›®å‰å·²ç»æ”¯æŒSpring WebFluxï¼Œè€Œè¯¥æ¡†æ¶æ˜¯Spring 5æ¨å‡ºçš„ä¸€ä¸ªçš„éé˜»å¡ï¼Œå“åº”å¼Webæ¡†æ¶\n\n:::tip\nå“åº”å¼ç¼–ç¨‹ï¼ˆreactive programmingï¼‰æ˜¯ä¸€ç§åŸºäºæ•°æ®æµï¼ˆdata streamï¼‰å’Œå˜åŒ–ä¼ é€’ï¼ˆpropagation of changeï¼‰çš„å£°æ˜å¼ï¼ˆdeclarativeï¼‰çš„ç¼–ç¨‹èŒƒå¼ã€‚\n:::\n\nè¯¥æ¡†æ¶ç±»ä¼¼äºSpring MVCï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒæ˜¯éé˜»å¡ã€å“åº”å¼çš„Webæ¡†æ¶ï¼Œå› æ­¤ç›¸è¾ƒäºSpring MVCï¼ŒSpring WebFluxæœ‰ç€å¾ˆå¤§çš„æ€§èƒ½ä¼˜åŠ¿ã€‚è¿™å¹¶ä¸æ„å‘³ç€ä½ éœ€è¦é©¬ä¸Šåˆ‡æ¢åˆ°Spring WebFluxï¼Œå› ä¸ºå“åº”å¼ç¼–ç¨‹å°±æ„å‘³ç€å®ƒä¼šå’Œè®¸å¤šä»¥å‰é˜»å¡å¼æ¡†æ¶æ­é…èµ·æ¥ä¸å·¥ä½œæˆ–è€…æ•ˆæœå¾ˆå·®ï¼ˆå¯ä»¥ä½†æ²¡æœ‰å¿…è¦ï¼‰ï¼Œä½†å¦‚æœä½ è§‰å¾—ä½ å·²ç»å®Œæˆå‡†å¤‡å¥½äº†åº”ä»˜éé˜»å¡å¼ç³»ç»ŸåŠå“åº”å¼ç¼–ç¨‹ï¼Œå¹¶ä¸”ä½ çš„ç³»ç»Ÿç¡®å®èƒ½é€šè¿‡å®ƒæå‡å·¨å¤§çš„æ€§èƒ½ï¼Œå°±å¯ä»¥è€ƒè™‘åˆ‡æ¢åˆ°å“åº”å¼ç¼–ç¨‹çš„åˆ†æ”¯æ¥ã€‚\n\nå¦å¤–Spring WebFluxæå‡çš„å¹¶ä¸æ˜¯å•ä¸ªæ¥å£çš„å“åº”é€Ÿç‡ï¼Œè€Œæ˜¯æé«˜æ•´ä¸ªç³»ç»Ÿçš„ååé‡ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ä¸€ä¸ªæ¥å£æ­£åœ¨ç­‰å¾…ä¸€ä¸ªéœ€è¦éå¸¸é•¿æ—¶é—´æ‰èƒ½å“åº”çš„å¤„ç†ï¼ˆè®¿é—®å¤§æ–‡ä»¶æˆ–è€…æ•°æ®åº“å…¨è¡¨æŸ¥è¯¢ä¹‹ç±»ï¼‰ï¼Œå¯¹äºé˜»å¡å¼çš„æ¶æ„æ¥è¯´ï¼Œæ­¤æ—¶çº¿ç¨‹å¡åœ¨è¿™é‡Œä½†æ˜¯ä»€ä¹ˆäº‹ä¹Ÿå¹²ä¸äº†ï¼Œä½†å¯¹äºéé˜»å¡å¼æ¶æ„ï¼Œå®ƒå°±å¯ä»¥åœ¨æ­¤æ—¶å°†çº¿ç¨‹ä½¿ç”¨æƒè®©å‡ºæ¥äº¤ç»™å…¶å®ƒè¯·æ±‚å»ä½¿ç”¨ã€‚\n\né™äºç¯‡å¹…ï¼Œè¿™é‡Œä¸å¤šèµ˜è¿°ï¼Œæœ‰ä¸ªåŸºæœ¬æ¦‚å¿µå°±å¥½ã€‚\n\nå¯¹äºæƒ³ä»Spring MVCåˆ‡æ¢åˆ°Spring WebFluxçš„SpringBootç”¨æˆ·æ¥è¯´ï¼Œåªéœ€è¦å°†artifactIdä»`spring-boot-starter-web`æ”¹æˆ`spring-boot-starter-webflux`å³å¯ã€‚\n\n:::warning{text=\"æ³¨æ„\"}\n\nåœ¨Spring MVCæ¨¡å¼ä¸‹ï¼Œé»˜è®¤é‡‡ç”¨Servlet + Tomcat\n\nè€Œåœ¨Spring WebFluxä¸‹ï¼Œé»˜è®¤é‡‡ç”¨Reactor + Netty\n:::\n\n### Quick Start\n\nSentinelæä¾›äº†ä¸¤ç§æ–¹å¼æ¥è¿›è¡Œæ¥å…¥ï¼Œä¸€ç§æ˜¯æ— ä¾µå…¥å¼æ¥å…¥ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯ä»£ç æ‰‹åŠ¨æ¥å…¥ã€‚\n\n:::details{text=\"æ— ä¾µå…¥æ¥å…¥\"}\n\n*è‹¥å¸Œæœ›æ— ä¾µå…¥å°†å·²æœ‰æœåŠ¡æ¥å…¥ Sentinel æ¥å¿«é€Ÿä½“éªŒ Sentinel å…¨æ–¹ä½çš„æµé‡é˜²æŠ¤å’Œå¯è§‚æµ‹èƒ½åŠ›ï¼Œæ¨èé‡‡ç”¨ [Java Agent æ–¹å¼](https://help.aliyun.com/document_detail/102506.html)å¿«é€Ÿã€æ— ä¾µå…¥å°†åº”ç”¨æ¥å…¥åˆ°[äº‘ä¸Š AHAS æ§åˆ¶å°](https://github.com/alibaba/Sentinel/wiki/AHAS-Sentinel-æ§åˆ¶å°)æ¥ä½“éªŒ Sentinel çš„èƒ½åŠ›ã€‚*\n\n:::\n\n:::details{text=\"ä»£ç æ‰‹åŠ¨æ¥å…¥\"}\n\né¦–å…ˆå¼•å…¥ä¾èµ–\n\n```xml\n\u003Cdependency>\n    \u003CgroupId>com.alibaba.cloud\u003C/groupId>\n    \u003CartifactId>spring-cloud-starter-alibaba-sentinel\u003C/artifactId>\n\u003C/dependency>\n```\n\né€šè¿‡`@SentinelResource`æ ‡è¯†Sentinelèµ„æºï¼Œæœ€å¸¸è§çš„å°±æ˜¯æ–¹æ³•ã€‚\n\n```java\npublic class TestService {\n\n    // åŸå‡½æ•°\n    @SentinelResource(value = \"hello\", blockHandler = \"exceptionHandler\", fallback = \"helloFallback\")\n    public String hello(long s) {\n        return String.format(\"Hello at %d\", s);\n    }\n\n    // Fallback å‡½æ•°ï¼Œå‡½æ•°ç­¾åä¸åŸå‡½æ•°ä¸€è‡´æˆ–åŠ ä¸€ä¸ª Throwable ç±»å‹çš„å‚æ•°.\n    public String helloFallback(long s) {\n        return String.format(\"Halooooo %d\", s);\n    }\n\n    // Block å¼‚å¸¸å¤„ç†å‡½æ•°ï¼Œå‚æ•°æœ€åå¤šä¸€ä¸ª BlockExceptionï¼Œå…¶ä½™ä¸åŸå‡½æ•°ä¸€è‡´.\n    public String exceptionHandler(long s, BlockException ex) {\n        // Do some log here.\n        ex.printStackTrace();\n        return \"Oops, error occurred at \" + s;\n    }\n\n    // è¿™é‡Œå•ç‹¬æ¼”ç¤º blockHandlerClass çš„é…ç½®.\n    // å¯¹åº”çš„ `handleException` å‡½æ•°éœ€è¦ä½äº `ExceptionUtil` ç±»ä¸­ï¼Œå¹¶ä¸”å¿…é¡»ä¸º public static å‡½æ•°.\n    @SentinelResource(value = \"test\", blockHandler = \"handleException\", blockHandlerClass = {ExceptionUtil.class})\n    public void test() {\n        System.out.println(\"Test\");\n    }\n}\n```\n\nç»†èŠ‚å‚è€ƒï¼Œ[Sentinelæ³¨è§£æ”¯æŒ](https://github.com/alibaba/Sentinel/wiki/%E6%B3%A8%E8%A7%A3%E6%94%AF%E6%8C%81)\n:::\n\n:::details{text=\"æ§åˆ¶é¢æ¿\"}\n\nä» [release é¡µé¢](https://github.com/alibaba/Sentinel/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„æ§åˆ¶å° jar åŒ…ã€‚\n\nå¯åŠ¨ ï¼ˆè¿™é‡Œå‘½ä»¤æ²¡æœ‰åŠ ä¸Šç‰ˆæœ¬ï¼Œè‡ªè¡Œåˆ æ‰ä¸‹è½½jarçš„ç‰ˆæœ¬å·æˆ–è€…ç»™å‘½ä»¤åŠ ä¸Šç‰ˆæœ¬ï¼‰\n\n``` sh\njava -Dserver.port=8080 -Dcsp.sentinel.dashboard.server=localhost:8080 -Dproject.name=sentinel-dashboard -jar sentinel-dashboard.jar\n```\n\nä» Sentinel 1.6.0 èµ·ï¼ŒSentinel æ§åˆ¶å°å¼•å…¥åŸºæœ¬çš„**ç™»å½•**åŠŸèƒ½ï¼Œé»˜è®¤ç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯ `sentinel`ã€‚å¯ä»¥å‚è€ƒ [é‰´æƒæ¨¡å—æ–‡æ¡£](https://github.com/alibaba/Sentinel/wiki/æ§åˆ¶å°#é‰´æƒ) é…ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚\n\n`application.properties`\n\n```properties\nspring.cloud.sentinel.transport.port=8719\nspring.cloud.sentinel.transport.dashboard=localhost:8080\n```\n\n**ç¡®ä¿å®¢æˆ·ç«¯æœ‰è®¿é—®é‡**ï¼ŒSentinel ä¼šåœ¨**å®¢æˆ·ç«¯é¦–æ¬¡è°ƒç”¨çš„æ—¶å€™**è¿›è¡Œåˆå§‹åŒ–ï¼Œå¼€å§‹å‘æ§åˆ¶å°å‘é€å¿ƒè·³åŒ…ã€‚\n\næ›´å¤šç»†èŠ‚å‚è€ƒ[Sentinelæ§åˆ¶é¢æ¿](https://github.com/alibaba/Sentinel/wiki/%E6%8E%A7%E5%88%B6%E5%8F%B0)\n\n:::\n\nä¸»æµæ¡†æ¶æ•´åˆDemoï¼š[Githubä»“åº“](https://github.com/alibaba/Sentinel/tree/master/sentinel-demo)ã€‚\n\næ–‡æ¡£å‚è€ƒï¼š[å®˜æ–¹æ–‡æ¡£ç«™](https://sentinelguard.io/)ï¼Œ[Github Wiki](https://github.com/alibaba/Sentinel/wiki)ï¼Œ[Spring Cloud Alibaba #Sentinel](https://spring-cloud-alibaba-group.github.io/github-pages/hoxton/en-us/index.html#_spring_cloud_alibaba_sentinel)\n\n","post/2021/20210709/":"\n\u003CBadge text=\"ç®€å•\" type=\"tip\"/>\n\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/check-if-all-the-integers-in-a-range-are-covered/](https://leetcode-cn.com/problems/check-if-all-the-integers-in-a-range-are-covered/)\n\n## é¢˜ç›®æè¿°\n\nç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„Â rangesÂ å’Œä¸¤ä¸ªæ•´æ•°Â leftÂ å’ŒÂ rightÂ ã€‚æ¯ä¸ªÂ `ranges[i] = [starti, endi]`Â è¡¨ç¤ºä¸€ä¸ªä»Â startiÂ åˆ°Â endiÂ çš„Â é—­åŒºé—´Â ã€‚\n\nå¦‚æœé—­åŒºé—´Â [left, right]Â å†…æ¯ä¸ªæ•´æ•°éƒ½è¢«Â rangesÂ ä¸­Â è‡³å°‘ä¸€ä¸ªÂ åŒºé—´è¦†ç›–ï¼Œé‚£ä¹ˆè¯·ä½ è¿”å›Â trueÂ ï¼Œå¦åˆ™è¿”å›Â falseÂ ã€‚\n\nå·²çŸ¥åŒºé—´ `ranges[i] = [starti, endi]` ï¼Œå¦‚æœæ•´æ•° x æ»¡è¶³ `starti \u003C= x \u003C= endi`Â ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°æ•´æ•°xÂ è¢«è¦†ç›–äº†ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼šranges = [[1,2],[3,4],[5,6]], left = 2, right = 5\n\nè¾“å‡ºï¼štrue\n\nè§£é‡Šï¼š2 åˆ° 5 çš„æ¯ä¸ªæ•´æ•°éƒ½è¢«è¦†ç›–äº†ï¼š\n\n- 2 è¢«ç¬¬ä¸€ä¸ªåŒºé—´è¦†ç›–ã€‚\n- 3 å’Œ 4 è¢«ç¬¬äºŒä¸ªåŒºé—´è¦†ç›–ã€‚\n- 5 è¢«ç¬¬ä¸‰ä¸ªåŒºé—´è¦†ç›–ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼šranges = [[1,10],[10,20]], left = 21, right = 21\n\nè¾“å‡ºï¼šfalse\n\nè§£é‡Šï¼š21 æ²¡æœ‰è¢«ä»»ä½•ä¸€ä¸ªåŒºé—´è¦†ç›–ã€‚\n:::\n\n:::details{text=\"æç¤º\"}\n\n`1 \u003C= ranges.length \u003C= 50`\n\n`1 \u003C= starti \u003C= endi \u003C= 50`\n\n`1 \u003C= left \u003C= right \u003C= 50`\n:::\n\n\n## Pythoné¢˜è§£\n\n### ä¸ªäººé¢˜è§£\n\nåªä¼šæš´åŠ›è§£ - -\n\n```python\nclass Solution(object):\n    def isCovered(self, ranges, left, right):\n        \"\"\"\n        :type ranges: List[List[int]]\n        :type left: int\n        :type right: int\n        :rtype: bool\n        \"\"\"\n        flag = False\n        for i in range(left, right + 1):\n            flag = False\n            for j in ranges:\n                if i in range(j[0], j[1] + 1):\n                    flag = True\n                    break\n            if not flag:\n                return flag\n        return flag\n```\n\n## æ€»ç»“\n\nå…¶ä»–é¢˜è§£æ²¡çœ‹,æš‚æ—¶åªæœ‰æš´åŠ›è§£.\n\n\n","post/2021/20210710/":"\n\u003CBadge text=\"ç®€å•\" type=\"tip\"/>\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/latest-time-by-replacing-hidden-digits](https://leetcode-cn.com/problems/latest-time-by-replacing-hidden-digits)\n\n## é¢˜ç›®æè¿°\n\nç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² time ï¼Œæ ¼å¼ä¸º hh:mmï¼ˆå°æ—¶ï¼šåˆ†é’Ÿï¼‰ï¼Œå…¶ä¸­æŸå‡ ä½æ•°å­—è¢«éšè—ï¼ˆç”¨ ? è¡¨ç¤ºï¼‰ã€‚\n\næœ‰æ•ˆçš„æ—¶é—´ä¸º 00:00 åˆ° 23:59 ä¹‹é—´çš„æ‰€æœ‰æ—¶é—´ï¼ŒåŒ…æ‹¬ 00:00 å’Œ 23:59 ã€‚\n\næ›¿æ¢Â time ä¸­éšè—çš„æ•°å­—ï¼Œè¿”å›ä½ å¯ä»¥å¾—åˆ°çš„æœ€æ™šæœ‰æ•ˆæ—¶é—´ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼štime = \"2?:?0\"\n\nè¾“å‡ºï¼š\"23:50\"\n\nè§£é‡Šï¼šä»¥æ•°å­— '2' å¼€å¤´çš„æœ€æ™šä¸€å°æ—¶æ˜¯ 23 ï¼Œä»¥ '0' ç»“å°¾çš„æœ€æ™šä¸€åˆ†é’Ÿæ˜¯ 50 ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼štime = \"0?:3?\"\n\nè¾“å‡ºï¼š\"09:39\"\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥ï¼štime = \"1?:22\"\n\nè¾“å‡ºï¼š\"19:22\"\n:::\n\n:::details{text=\"æç¤º\"}\ntime çš„æ ¼å¼ä¸º hh:mm\n\né¢˜ç›®æ•°æ®ä¿è¯ä½ å¯ä»¥ç”±è¾“å…¥çš„å­—ç¬¦ä¸²ç”Ÿæˆæœ‰æ•ˆçš„æ—¶é—´\n:::\n\n## Pythoné¢˜è§£\n\n### ä¸ªäººé¢˜è§£\n\nç»å…¸æš´åŠ›è§£\n\n``` Python\nclass Solution(object):\n    def maximumTime(self, time):\n        \"\"\"\n        :type time: str\n        :rtype: str\n        \"\"\"\n        h1, h2, m1, m2 = time[0], time[1], time[3], time[4]\n        if h1 == '?' and h2 == '?':\n            h1, h2 = '2', '3'\n        elif h1 == '?':\n            if int(h2) >= 4:\n                h1 = '1'\n            else:\n                h1 = '2'\n        elif h2 == '?':\n            if int(h1) \u003C 2:\n                h2 = '9'\n            else:\n                h2 = '3'\n        if m1 == '?': m1 = '5'\n        if m2 == '?': m2 = '9'\n        return h1 + h2 + ':' + m1 + m2\n```\n\n## æ€»ç»“\n\nçœ‹äº†é¢˜è§£çš„ä¸€äº›å…¶ä»–è§£æ³•ï¼Œå†™æ³•æŒºå¾ˆå¤šï¼Œé€»è¾‘çš„å¯å˜æ¢æ€§å¾ˆå¤§ã€‚\n","post/2021/20210711/":"\n\u003CBadge text=\"ä¸­ç­‰\" type=\"warning\"/>\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/restore-the-array-from-adjacent-pairs](https://leetcode-cn.com/problems/restore-the-array-from-adjacent-pairs)\n\n## é¢˜ç›®æè¿°\n\nå­˜åœ¨ä¸€ä¸ªç”± n ä¸ªä¸åŒå…ƒç´ ç»„æˆçš„æ•´æ•°æ•°ç»„ nums ï¼Œä½†ä½ å·²ç»è®°ä¸æ¸…å…·ä½“å†…å®¹ã€‚å¥½åœ¨ä½ è¿˜è®°å¾— nums ä¸­çš„æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ã€‚\n\nç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ adjacentPairs ï¼Œå¤§å°ä¸º n - 1 ï¼Œå…¶ä¸­æ¯ä¸ª adjacentPairs[i] = [ui, vi] è¡¨ç¤ºå…ƒç´  ui å’Œ vi åœ¨ nums ä¸­ç›¸é‚»ã€‚\n\né¢˜ç›®æ•°æ®ä¿è¯æ‰€æœ‰ç”±å…ƒç´  nums[i] å’Œ nums[i+1] ç»„æˆçš„ç›¸é‚»å…ƒç´ å¯¹éƒ½å­˜åœ¨äº adjacentPairs ä¸­ï¼Œå­˜åœ¨å½¢å¼å¯èƒ½æ˜¯ [nums[i], nums[i+1]] ï¼Œä¹Ÿå¯èƒ½æ˜¯ [nums[i+1], nums[i]] ã€‚è¿™äº›ç›¸é‚»å…ƒç´ å¯¹å¯ä»¥ æŒ‰ä»»æ„é¡ºåº å‡ºç°ã€‚\n\nè¿”å› åŸå§‹æ•°ç»„ nums ã€‚å¦‚æœå­˜åœ¨å¤šç§è§£ç­”ï¼Œè¿”å› å…¶ä¸­ä»»æ„ä¸€ä¸ª å³å¯ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼šadjacentPairs = [[2,1],[3,4],[3,2]]\nè¾“å‡ºï¼š[1,2,3,4]\nè§£é‡Šï¼šæ•°ç»„çš„æ‰€æœ‰ç›¸é‚»å…ƒç´ å¯¹éƒ½åœ¨ adjacentPairs ä¸­ã€‚\nç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼ŒadjacentPairs[i] åªè¡¨ç¤ºä¸¤ä¸ªå…ƒç´ ç›¸é‚»ï¼Œå¹¶ä¸ä¿è¯å…¶ å·¦-å³ é¡ºåºã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼šadjacentPairs = [[4,-2],[1,4],[-3,1]]\nè¾“å‡ºï¼š[-2,4,1,-3]\nè§£é‡Šï¼šæ•°ç»„ä¸­å¯èƒ½å­˜åœ¨è´Ÿæ•°ã€‚\nå¦ä¸€ç§è§£ç­”æ˜¯ [-3,1,4,-2] ï¼Œä¹Ÿä¼šè¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥ï¼šadjacentPairs = [[100000,-100000]]\nè¾“å‡ºï¼š[100000,-100000]\n:::\n\n:::details{text=\"æç¤º\"}\nnums.length == n\n\nadjacentPairs.length == n - 1\n\nadjacentPairs[i].length == 2\n\n`2 \u003C= n \u003C= 105`\n\n`-105 \u003C= nums[i], ui, vi \u003C= 105`\né¢˜ç›®æ•°æ®ä¿è¯å­˜åœ¨ä¸€äº›ä»¥Â adjacentPairs ä½œä¸ºå…ƒç´ å¯¹çš„æ•°ç»„ nums\n:::\n\n## Pythoné¢˜è§£\n\n### å‚è€ƒé¢˜è§£\n\nå› ä¸ºæ²¡åšå‡ºæ¥ï¼Œè€Œä¸”å®˜æ–¹é¢˜è§£æ²¡æœ‰Pythonç‰ˆæœ¬ï¼Œæ‰€ä»¥å°±å‚ç…§Javaç‰ˆæœ¬ä»¥åŠç¤¾åŒºPythoné¢˜è§£ä¿®æ”¹å‡ºäº†ä¸€ä¸ª300msçš„æ–¹æ¡ˆï¼Œæ—¶é—´100%ã€‚\n\n```python\nclass Solution(object):\n    def restoreArray(self, adjacentPairs):\n        \"\"\"\n        :type adjacentPairs: List[List[int]]\n        :rtype: List[int]\n        \"\"\"\n        dic = defaultdict(list)\n        for a, b in adjacentPairs:\n            dic[a].append(b)\n            dic[b].append(a)\n        res = []\n        for m, n in dic.items():\n            if len(n) == 1:\n                res.append(m)\n                break\n        res.append(dic.get(res[0])[0])\n        for _ in range(2, len(adjacentPairs) + 1):\n            cur = res[-1]\n            res.append(dic[cur][0]) if dic[cur][0] != res[-2] else res.append(dic[cur][1])\n        return res\n```\n\n## æ€»ç»“\n\nä¸€å¼€å§‹æŠŠé—®é¢˜æƒ³ç®€å•äº†ï¼Œæ²¡æ‰“ç®—é€’æ¨ï¼Œå‡†å¤‡ç›´æ¥æ‰¾å‡ºå¤´å°¾æ’åºä¸€ä¸‹ï¼Œåæ¥å‘ç°è¡Œä¸é€šã€‚\n\nå¦ä¸€ä¸ªæ˜¯å®Œå…¨æ²¡æƒ³åˆ°å­—å…¸ï¼Œmediumå¤ªéš¾äº†ã€‚\n","post/2021/20210720/":"\n\u003CBadge text=\"ç®€å•\" type=\"tip\"/>\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/second-minimum-node-in-a-binary-tree](https://leetcode-cn.com/problems/second-minimum-node-in-a-binary-tree)\n\n## é¢˜ç›®æè¿°\n\nç»™å®šä¸€ä¸ªéç©ºç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯æ­£æ•°ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡åªèƒ½ä¸ºÂ 2Â æˆ–Â 0ã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„è¯ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„å€¼ç­‰äºä¸¤ä¸ªå­èŠ‚ç‚¹ä¸­è¾ƒå°çš„ä¸€ä¸ªã€‚\n\næ›´æ­£å¼åœ°è¯´ï¼Œroot.val = min(root.left.val, root.right.val) æ€»æˆç«‹ã€‚\n\nç»™å‡ºè¿™æ ·çš„ä¸€ä¸ªäºŒå‰æ ‘ï¼Œä½ éœ€è¦è¾“å‡ºæ‰€æœ‰èŠ‚ç‚¹ä¸­çš„ç¬¬äºŒå°çš„å€¼ã€‚å¦‚æœç¬¬äºŒå°çš„å€¼ä¸å­˜åœ¨çš„è¯ï¼Œè¾“å‡º -1 ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\n![smbt1.jpg](https://assets.leetcode.com/uploads/2020/10/15/smbt1.jpg)\nè¾“å…¥ï¼šroot = [2,2,5,null,null,5,7]\n\nè¾“å‡ºï¼š5\n\nè§£é‡Šï¼šæœ€å°çš„å€¼æ˜¯ 2 ï¼Œç¬¬äºŒå°çš„å€¼æ˜¯ 5 ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\n![smbt2.jpg](https://assets.leetcode.com/uploads/2020/10/15/smbt2.jpg)\n\nè¾“å…¥ï¼šroot = [2,2,2]\n\nè¾“å‡ºï¼š-1\n\nè§£é‡Šï¼šæœ€å°çš„å€¼æ˜¯ 2, ä½†æ˜¯ä¸å­˜åœ¨ç¬¬äºŒå°çš„å€¼ã€‚\n:::\n\n:::details{text=\"æç¤º\"}\næ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ [1, 25] å†…\n\n`1 \u003C= Node.val \u003C= 231 - 1`\n\nå¯¹äºæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹ root.val == min(root.left.val, root.right.val)\n:::\n\n## Pythoné¢˜è§£\n\n### æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢\n\n:::details{text=\"æ€è·¯&ç®—æ³•&ç»†èŠ‚&å¤æ‚åº¦\"}\n**æ€è·¯**\n\næ ¹æ®é¢˜ç›®ä¸­çš„æè¿°ã€Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„è¯ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„å€¼ç­‰äºä¸¤ä¸ªå­èŠ‚ç‚¹ä¸­è¾ƒå°çš„ä¸€ä¸ªã€ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå¯¹äºäºŒå‰æ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹ xxï¼Œxx çš„å€¼ä¸å¤§äºå…¶æ‰€æœ‰å­èŠ‚ç‚¹çš„å€¼ï¼Œå› æ­¤ï¼š\n\nå¯¹äºäºŒå‰æ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹ xxï¼Œxx çš„å€¼ä¸å¤§äºä»¥ xx ä¸ºæ ¹çš„å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ã€‚\n\nä»¤ xx ä¸ºäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š\n\näºŒå‰æ ‘æ ¹èŠ‚ç‚¹çš„å€¼å³ä¸ºæ‰€æœ‰èŠ‚ç‚¹ä¸­çš„æœ€å°å€¼ã€‚\n\nå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ•´æ£µäºŒå‰æ ‘è¿›è¡Œä¸€æ¬¡éå†ã€‚è®¾æ ¹èŠ‚ç‚¹çš„å€¼ä¸º rootvalueï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡éå†ï¼Œæ‰¾å‡ºä¸¥æ ¼å¤§äº rootvalue çš„æœ€å°å€¼ï¼Œå³ä¸ºã€Œæ‰€æœ‰èŠ‚ç‚¹ä¸­çš„ç¬¬äºŒå°çš„å€¼ã€ã€‚\n\n**ç®—æ³•**\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ–¹æ³•å¯¹äºŒå‰æ ‘è¿›è¡Œéå†ã€‚\n\nå‡è®¾å½“å‰éå†åˆ°çš„èŠ‚ç‚¹ä¸º nodeï¼Œå¦‚æœ node çš„å€¼ä¸¥æ ¼å¤§äº rootvalueï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨ node çš„å€¼æ¥æ›´æ–°ç­”æ¡ˆ ansã€‚\n\nå½“æˆ‘ä»¬éå†å®Œæ•´æ£µäºŒå‰æ ‘åï¼Œå³å¯è¿”å› ansã€‚\n\n**ç»†èŠ‚**\n\næ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œå¦‚æœç¬¬äºŒå°çš„å€¼ä¸å­˜åœ¨çš„è¯ï¼Œè¾“å‡º -1âˆ’1ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°† ans çš„åˆå§‹å€¼ç½®ä¸º -1âˆ’1ã€‚åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„å€¼ä¸¥æ ¼å¤§äº rootvalue çš„èŠ‚ç‚¹æ—¶ï¼Œé‚£ä¹ˆåªè¦ ans çš„å€¼ä¸º -1âˆ’1 æˆ–è€…å½“å‰èŠ‚ç‚¹çš„å€¼ä¸¥æ ¼å°äº ansï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹ ans è¿›è¡Œæ›´æ–°ã€‚\n\næ­¤å¤–ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„å€¼å¤§äºç­‰äº ansï¼Œé‚£ä¹ˆæ ¹æ®ã€Œæ€è·¯ã€éƒ¨åˆ†ï¼Œä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äº ansï¼Œæˆ‘ä»¬å°±ç›´æ¥å›æº¯ï¼Œæ— éœ€å¯¹è¯¥å­æ ‘è¿›è¡Œéå†ã€‚è¿™æ ·åšå¯ä»¥çœå»ä¸å¿…è¦çš„éå†è¿‡ç¨‹ã€‚\n\n**å¤æ‚åº¦åˆ†æ**ï¼š\n\n- æ—¶é—´å¤æ‚åº¦ï¼šO(n)O(n)ï¼Œå…¶ä¸­ nn æ˜¯äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚æˆ‘ä»¬æœ€å¤šéœ€è¦å¯¹æ•´æ£µäºŒå‰æ ‘è¿›è¡Œä¸€æ¬¡éå†ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼šO(n)O(n)ã€‚æˆ‘ä»¬ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ–¹æ³•è¿›è¡Œéå†ï¼Œéœ€è¦ä½¿ç”¨çš„æ ˆç©ºé—´ä¸º O(n)O(n)ã€‚\n:::\n\n\né¢˜è§£ç”¨çš„æ˜¯Python3 `nonlocal`å…³é”®å­—ï¼Œè¿™é‡Œç”¨globalæ›¿ä»£äº†ä¸€ä¸‹ã€‚\n\n```python\n# Definition for a binary tree node.\n# class TreeNode(object):\n#     def __init__(self, val=0, left=None, right=None):\n#         self.val = val\n#         self.left = left\n#         self.right = right\nclass Solution(object):\n    def findSecondMinimumValue(self, root):\n        \"\"\"\n        :type root: TreeNode\n        :rtype: int\n        \"\"\"\n        global ans\n        ans = -1\n        rootvalue = root.val\n\n        def dfs(node):\n            global ans\n            if not node:\n                return\n            if ans != -1 and node.val >= ans:\n                return\n            if node.val > rootvalue:\n                ans = node.val\n\n            dfs(node.left)\n            dfs(node.right)\n\n        dfs(root)\n        return ans\n```\n\n## æ€»ç»“\n\nå†™äº†æŒºä¹…æ²¡å†™å‡ºæ¥ï¼Œä¸»è¦æ˜¯æ ‘çš„éå†ï¼Œä¸äº†è§£BFSå’ŒDFSã€‚\n","post/2021/20210725/":"\n\u003CBadge text=\"ä¸­ç­‰\" type=\"warning\"/>\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/all-nodes-distance-k-in-binary-tree](https://leetcode-cn.com/problems/all-nodes-distance-k-in-binary-tree)\n\n## é¢˜ç›®æè¿°\n\nç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼ˆå…·æœ‰æ ¹ç»“ç‚¹Â rootï¼‰ï¼ŒÂ ä¸€ä¸ªç›®æ ‡ç»“ç‚¹Â targetÂ ï¼Œå’Œä¸€ä¸ªæ•´æ•°å€¼ K ã€‚\n\nè¿”å›åˆ°ç›®æ ‡ç»“ç‚¹ target è·ç¦»ä¸º K çš„æ‰€æœ‰ç»“ç‚¹çš„å€¼çš„åˆ—è¡¨ã€‚ ç­”æ¡ˆå¯ä»¥ä»¥ä»»ä½•é¡ºåºè¿”å›ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼šroot = [3,5,1,6,2,0,8,null,null,7,4], target = 5, K = 2\n\nè¾“å‡ºï¼š[7,4,1]\n\nè§£é‡Šï¼š\n\næ‰€æ±‚ç»“ç‚¹ä¸ºä¸ç›®æ ‡ç»“ç‚¹ï¼ˆå€¼ä¸º 5ï¼‰è·ç¦»ä¸º 2 çš„ç»“ç‚¹ï¼Œå€¼åˆ†åˆ«ä¸º 7ï¼Œ4ï¼Œä»¥åŠ 1\n\n![sketch0.png](https://s3-lc-upload.s3.amazonaws.com/uploads/2018/06/28/sketch0.png)\n\næ³¨æ„ï¼Œè¾“å…¥çš„ \"root\" å’Œ \"target\" å®é™…ä¸Šæ˜¯æ ‘ä¸Šçš„ç»“ç‚¹ã€‚ä¸Šé¢çš„è¾“å…¥ä»…ä»…æ˜¯å¯¹è¿™äº›å¯¹è±¡è¿›è¡Œäº†åºåˆ—åŒ–æè¿°ã€‚\n:::\n\n:::details{text=\"æç¤º\"}\n1. ç»™å®šçš„æ ‘æ˜¯éç©ºçš„ã€‚\n2. æ ‘ä¸Šçš„æ¯ä¸ªç»“ç‚¹éƒ½å…·æœ‰å”¯ä¸€çš„å€¼Â `0 \u003C= node.val \u003C= 500`ã€‚\n3. ç›®æ ‡ç»“ç‚¹Â targetÂ æ˜¯æ ‘ä¸Šçš„ç»“ç‚¹ã€‚\n4. `0 \u003C= K \u003C= 1000`.\n:::\n\n## Pythoné¢˜è§£\n\n### æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ + å“ˆå¸Œè¡¨\n\n``` python\n\n# Definition for a binary tree node.\n# class TreeNode(object):\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution(object):\n    def distanceK(self, root, target, k):\n        \"\"\"\n        :type root: TreeNode\n        :type target: TreeNode\n        :type k: int\n        :rtype: List[int]\n        \"\"\"\n        parents = {root.val: None}\n        ans = []\n\n        def findParents(node):\n            if node.left is not None:\n                parents[node.left.val] = node\n                findParents(node.left)\n            if node.right is not None:\n                parents[node.right.val] = node\n                findParents(node.right)\n\n        def findAns(node, source, depth, k):\n            if node is None:\n                return\n            if depth == k:\n                ans.append(node.val)\n                return\n            if node.left != source:\n                findAns(node.left, node, depth + 1, k)\n            if node.right != source:\n                findAns(node.right, node, depth + 1, k)\n            if parents[node.val] != source:\n                findAns(parents[node.val], node, depth + 1, k)\n\n        findParents(root)\n        findAns(target, None, 0, k)\n        return ans\n```\n\n## æ€»ç»“\n\nåˆæ˜¯æ²¡å†™å‡ºDFSçš„ä¸€å¤©ï¼Œå¯¹å“ˆå¸Œè¡¨çš„ç†è§£ä¹Ÿä¸åˆ°ä½ã€‚\n","post/2021/20210728/":"\n\u003CBadge text=\"ç®€å•\" type=\"tip\"/>\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/excel-sheet-column-number](https://leetcode-cn.com/problems/excel-sheet-column-number)\n\n## é¢˜ç›®æè¿°\n\nç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² columnTitle ï¼Œè¡¨ç¤º Excel è¡¨æ ¼ä¸­çš„åˆ—åç§°ã€‚è¿”å›è¯¥åˆ—åç§°å¯¹åº”çš„åˆ—åºå·ã€‚\n\nä¾‹å¦‚\n\n```\nA -> 1\nB -> 2\nC -> 3\n...\nZ -> 26\nAA -> 27\nAB -> 28\n...\n```\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥: columnTitle = \"A\"\n\nè¾“å‡º: 1\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥: columnTitle = \"AB\"\nè¾“å‡º: 28\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥: columnTitle = \"ZY\"\n\nè¾“å‡º: 701\n:::\n\n:::details{text=\"ç¤ºä¾‹ 4\"}\nè¾“å…¥: columnTitle = \"ZY\"\n\nè¾“å‡º: 701\n:::\n\n:::details{text=\"æç¤º\"}\n`1 \u003C= columnTitle.length \u003C= 7`\ncolumnTitle ä»…ç”±å¤§å†™è‹±æ–‡ç»„æˆ\ncolumnTitle åœ¨èŒƒå›´ [\"A\", \"FXSHRXW\"] å†…\n:::\n\n## Pythoné¢˜è§£\n\n### ä¸ªäººé¢˜è§£\n\n```python\nclass Solution(object):\n    def titleToNumber(self, columnTitle):\n        \"\"\"\n        :type columnTitle: str\n        :rtype: int\n        \"\"\"\n        num = 0\n        for i in range(len(columnTitle)):\n            num += (ord(columnTitle[i]) - 64) * 26 ** (len(columnTitle) - i - 1)\n        return num\n```\n\n## æ€»ç»“\n\nå…¥é—¨éš¾åº¦æ²¡å•¥å¥½è¯´çš„ï¼Œé¡ºå¸¦äº†è§£äº†`ord`å‡½æ•°ï¼ˆè½¬æ¢ASCIIç ï¼‰ä¸ä¹˜æ–¹è¿ç®—`**`ã€‚\n","post/2021/20210731/":"\n\u003CBadge text=\"å›°éš¾\" type=\"error\"/>\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/vertical-order-traversal-of-a-binary-tree](https://leetcode-cn.com/problems/vertical-order-traversal-of-a-binary-tree)\n\n## é¢˜ç›®æè¿°\n\nç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ root ï¼Œè¯·ä½ è®¾è®¡ç®—æ³•è®¡ç®—äºŒå‰æ ‘çš„ å‚åºéå† åºåˆ—ã€‚\n\nå¯¹ä½äºÂ (row, col)Â çš„æ¯ä¸ªç»“ç‚¹è€Œè¨€ï¼Œå…¶å·¦å³å­ç»“ç‚¹åˆ†åˆ«ä½äºÂ (row + 1, col - 1)Â å’ŒÂ (row + 1, col + 1) ã€‚æ ‘çš„æ ¹ç»“ç‚¹ä½äº (0, 0) ã€‚\n\näºŒå‰æ ‘çš„ å‚åºéå† ä»æœ€å·¦è¾¹çš„åˆ—å¼€å§‹ç›´åˆ°æœ€å³è¾¹çš„åˆ—ç»“æŸï¼ŒæŒ‰åˆ—ç´¢å¼•æ¯ä¸€åˆ—ä¸Šçš„æ‰€æœ‰ç»“ç‚¹ï¼Œå½¢æˆä¸€ä¸ªæŒ‰å‡ºç°ä½ç½®ä»ä¸Šåˆ°ä¸‹æ’åºçš„æœ‰åºåˆ—è¡¨ã€‚å¦‚æœåŒè¡ŒåŒåˆ—ä¸Šæœ‰å¤šä¸ªç»“ç‚¹ï¼Œåˆ™æŒ‰ç»“ç‚¹çš„å€¼ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚\n\nè¿”å›äºŒå‰æ ‘çš„ å‚åºéå† åºåˆ—ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\n![vtree1.jpg](https://assets.leetcode.com/uploads/2021/01/29/vtree1.jpg)\n\nè¾“å…¥ï¼šroot = [3,9,20,null,null,15,7]\n\nè¾“å‡ºï¼š[[9],[3,15],[20],[7]]\n\nè§£é‡Šï¼š\n- åˆ— -1 ï¼šåªæœ‰ç»“ç‚¹ 9 åœ¨æ­¤åˆ—ä¸­ã€‚\n- åˆ—  0 ï¼šåªæœ‰ç»“ç‚¹ 3 å’Œ 15 åœ¨æ­¤åˆ—ä¸­ï¼ŒæŒ‰ä»ä¸Šåˆ°ä¸‹é¡ºåºã€‚\n- åˆ—  1 ï¼šåªæœ‰ç»“ç‚¹ 20 åœ¨æ­¤åˆ—ä¸­ã€‚\n- åˆ—  2 ï¼šåªæœ‰ç»“ç‚¹ 7 åœ¨æ­¤åˆ—ä¸­ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\n![https://assets.leetcode.com/uploads/2021/01/29/vtree2.jpg](https://assets.leetcode.com/uploads/2021/01/29/vtree2.jpg)\n\nè¾“å…¥ï¼šroot = [1,2,3,4,5,6,7]\n\nè¾“å‡ºï¼š[[4],[2],[1,5,6],[3],[7]]\n\nè§£é‡Šï¼š\n- åˆ— -2 ï¼šåªæœ‰ç»“ç‚¹ 4 åœ¨æ­¤åˆ—ä¸­ã€‚\n- åˆ— -1 ï¼šåªæœ‰ç»“ç‚¹ 2 åœ¨æ­¤åˆ—ä¸­ã€‚\n- åˆ—  0 ï¼šç»“ç‚¹ 1 ã€5 å’Œ 6 éƒ½åœ¨æ­¤åˆ—ä¸­ã€‚\n    - 1 åœ¨ä¸Šé¢ï¼Œæ‰€ä»¥å®ƒå‡ºç°åœ¨å‰é¢ã€‚\n    - 5 å’Œ 6 ä½ç½®éƒ½æ˜¯ (2, 0) ï¼Œæ‰€ä»¥æŒ‰å€¼ä»å°åˆ°å¤§æ’åºï¼Œ5 åœ¨ 6 çš„å‰é¢ã€‚\n- åˆ—  1 ï¼šåªæœ‰ç»“ç‚¹ 3 åœ¨æ­¤åˆ—ä¸­ã€‚\n- åˆ—  2 ï¼šåªæœ‰ç»“ç‚¹ 7 åœ¨æ­¤åˆ—ä¸­ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\n![https://assets.leetcode.com/uploads/2021/01/29/vtree3.jpg](https://assets.leetcode.com/uploads/2021/01/29/vtree3.jpg)\n\nè¾“å…¥ï¼šroot = [1,2,3,4,6,5,7]\n\nè¾“å‡ºï¼š[[4],[2],[1,5,6],[3],[7]]\n\nè§£é‡Šï¼š\nè¿™ä¸ªç¤ºä¾‹å®é™…ä¸Šä¸ç¤ºä¾‹ 2 å®Œå…¨ç›¸åŒï¼Œåªæ˜¯ç»“ç‚¹ 5 å’Œ 6 åœ¨æ ‘ä¸­çš„ä½ç½®å‘ç”Ÿäº†äº¤æ¢ã€‚\n\nå› ä¸º 5 å’Œ 6 çš„ä½ç½®ä»ç„¶ç›¸åŒï¼Œæ‰€ä»¥ç­”æ¡ˆä¿æŒä¸å˜ï¼Œä»ç„¶æŒ‰å€¼ä»å°åˆ°å¤§æ’åºã€‚\n:::\n\n:::details{text=\"æç¤º\"}\n- æ ‘ä¸­ç»“ç‚¹æ•°ç›®æ€»æ•°åœ¨èŒƒå›´ [1, 1000] å†…\n- `0 \u003C= Node.val \u003C= 1000`\n:::\n\n## Pythoné¢˜è§£\n\n\n### æ–¹æ³•ä¸€ï¼šè‡ªå®šä¹‰æ’åº\n\n```python\n# Definition for a binary tree node.\n# class TreeNode(object):\n#     def __init__(self, val=0, left=None, right=None):\n#         self.val = val\n#         self.left = left\n#         self.right = right\nclass Solution(object):\n    def verticalTraversal(self, root):\n        \"\"\"\n        :type root: TreeNode\n        :rtype: List[List[int]]\n        \"\"\"\n        nodes = []\n\n        def dfs(node, depth, column):\n            nodes.append((column, depth, node.val))\n            if node.left is not None:\n                dfs(node.left, depth + 1, column - 1)\n            if node.right is not None:\n                dfs(node.right, depth + 1, column + 1)\n\n        dfs(root, 0, 0)\n        nodes.sort()\n        ans, lastColumn = list(), float(\"-inf\")\n        for column, row, value in nodes:\n            if column != lastColumn:\n                lastColumn = column\n                ans.append(list())\n            ans[-1].append(value)\n\n        return ans\n```\n\n## æ€»ç»“\n\næ²¡å¼„æ¸…æ¥šsortå‡½æ•°å¯ä»¥æŒ‰é¡ºåºæ’åºï¼Œå†™äº†å¥½ä¹…ä¹Ÿæ²¡å†™å‡ºæ¥åŒåˆ—åŒæ·±åº¦æ’åº :(\n\nå¦å¤–å®˜æ–¹é¢˜è§£æœ€åansçš„æ·»åŠ ä¹Ÿæœ‰ç‚¹æ„æ€ã€‚\n","post/2021/20210801/":"\n\u003CBadge text=\"ç®€å•\" type=\"tip\"/>\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/the-k-weakest-rows-in-a-matrix](https://leetcode-cn.com/problems/the-k-weakest-rows-in-a-matrix)\n\n## é¢˜ç›®æè¿°\n\nç»™ä½ ä¸€ä¸ªå¤§å°ä¸ºÂ mÂ * nÂ çš„çŸ©é˜µÂ matï¼ŒçŸ©é˜µç”±è‹¥å¹²å†›äººå’Œå¹³æ°‘ç»„æˆï¼Œåˆ†åˆ«ç”¨ 1 å’Œ 0 è¡¨ç¤ºã€‚\n\nè¯·ä½ è¿”å›çŸ©é˜µä¸­æˆ˜æ–—åŠ›æœ€å¼±çš„Â kÂ è¡Œçš„ç´¢å¼•ï¼ŒæŒ‰ä»æœ€å¼±åˆ°æœ€å¼ºæ’åºã€‚\n\nå¦‚æœç¬¬Â iÂ è¡Œçš„å†›äººæ•°é‡å°‘äºç¬¬Â jÂ è¡Œï¼Œæˆ–è€…ä¸¤è¡Œå†›äººæ•°é‡ç›¸åŒä½† i å°äº jï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºç¬¬ i è¡Œçš„æˆ˜æ–—åŠ›æ¯”ç¬¬ j è¡Œå¼±ã€‚\n\nå†›äºº æ€»æ˜¯ æ’åœ¨ä¸€è¡Œä¸­çš„é å‰ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ 1 æ€»æ˜¯å‡ºç°åœ¨ 0 ä¹‹å‰ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼šmat =\n[[1,1,0,0,0],\n [1,1,1,1,0],\n [1,0,0,0,0],\n [1,1,0,0,0],\n [1,1,1,1,1]],\n\nk = 3\n\nè¾“å‡ºï¼š[2,0,3]\n\nè§£é‡Šï¼š\n\næ¯è¡Œä¸­çš„å†›äººæ•°ç›®ï¼š\nè¡Œ 0 -> 2\nè¡Œ 1 -> 4\nè¡Œ 2 -> 1\nè¡Œ 3 -> 2\nè¡Œ 4 -> 5\n\nä»æœ€å¼±åˆ°æœ€å¼ºå¯¹è¿™äº›è¡Œæ’åºåå¾—åˆ° [2,0,3,1,4]\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼šmat =\n[[1,0,0,0],\n [1,1,1,1],\n [1,0,0,0],\n [1,0,0,0]],\n\nk = 2\n\nè¾“å‡ºï¼š[0,2]\n\nè§£é‡Šï¼š\n\næ¯è¡Œä¸­çš„å†›äººæ•°ç›®ï¼š\nè¡Œ 0 -> 1\nè¡Œ 1 -> 4\nè¡Œ 2 -> 1\nè¡Œ 3 -> 1\n\nä»æœ€å¼±åˆ°æœ€å¼ºå¯¹è¿™äº›è¡Œæ’åºåå¾—åˆ° [0,2,3,1]\n:::\n\n:::details{text=\"æç¤º\"}\n- `m == mat.length`\n- `n == mat[i].length`\n- `2 \u003C= n, m \u003C= 100`\n- `1 \u003C= k \u003C= m`\n- `matrix[i][j]` ä¸æ˜¯ 0 å°±æ˜¯ 1\n:::\n\n## Pythoné¢˜è§£\n\n### ä¸ªäººé¢˜è§£\n\n```python\nclass Solution(object):\n    def kWeakestRows(self, mat, k):\n        \"\"\"\n        :type mat: List[List[int]]\n        :type k: int\n        :rtype: List[int]\n        \"\"\"\n        powers = []\n        for i in range(len(mat)):\n            power = 0\n            for column in mat[i]:\n                power += column\n                if column == 0:\n                    break\n            powers.append((power, i))\n        powers.sort()\n        ans = []\n        for power, row in powers:\n            if len(ans) == k:\n                break\n            ans.append(row)\n        return ans\n```\n\n\n## æ€»ç»“\n\né¢˜æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å®˜æ–¹é¢˜è§£æœ‰ä¸¤ä¸ªæ¯”è¾ƒé«˜çº§çš„è§£æ³•ã€‚\n\nä¸€ä¸ªæ˜¯äºŒåˆ†æŸ¥æ‰¾+å †ï¼Œå¦ä¸€ä¸ªæ˜¯äºŒåˆ†æŸ¥æ‰¾+å¿«é€Ÿé€‰æ‹©ã€‚ï¼ˆçœ‹ä¸æ‡‚ï¼‰\n","post/2021/20210802/":"\n\u003CBadge text='ç®€å•' type='tip'/>\n\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/three-divisors](https://leetcode-cn.com/problems/three-divisors )\n## é¢˜ç›®æè¿°\n\nç»™ä½ ä¸€ä¸ªæ•´æ•° n ã€‚å¦‚æœ n æ°å¥½æœ‰ä¸‰ä¸ªæ­£é™¤æ•° ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚\n\nå¦‚æœå­˜åœ¨æ•´æ•° k ï¼Œæ»¡è¶³ n = k * m ï¼Œé‚£ä¹ˆæ•´æ•° m å°±æ˜¯ n çš„ä¸€ä¸ª é™¤æ•° ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼šn = 2\n\nè¾“å‡ºï¼šfalse\n\nè§£é‡Šï¼š2 åªæœ‰ä¸¤ä¸ªé™¤æ•°ï¼š1 å’Œ 2 ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼šn = 4\n\nè¾“å‡ºï¼štrue\n\nè§£é‡Šï¼š4 æœ‰ä¸‰ä¸ªé™¤æ•°ï¼š1ã€2 å’Œ 4 ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹\"}\n`1 \u003C= n \u003C= 10^4`\n:::\n\n## Pythoné¢˜è§£\n\n### å‚è€ƒé¢˜è§£\n\nç»“åˆå®˜æ–¹å¯¹èŒƒå›´çš„æ€è·¯ä¼˜åŒ–åçš„é¢˜è§£\n\n```python\nclass Solution(object):\n    def isThree(self, n):\n        \"\"\"\n        :type n: int\n        :rtype: bool\n        \"\"\"\n        count,i = 0,1\n        while i**2 \u003C= n:\n            if n % i == 0:\n                if i != n // i:\n                    count += 2\n                else:\n                    count += 1\n            if count > 3:\n                return False\n            i+=1\n        return count == 3\n```\n\n## æ€»ç»“\n\nç¬¬ä¸€æ¬¡åšå‘¨èµ›åªå¯¹äº†è¿™ä¸€é¢˜ğŸ˜”\n\n[ç¬¬ 252 åœºå‘¨èµ›](https://leetcode-cn.com/contest/weekly-contest-252/)\n","post/2021/20210803/":"\n\u003CBadge text='ä¸­ç­‰' type='warning' />\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/network-delay-time](https://leetcode-cn.com/problems/network-delay-time)\n\n## é¢˜ç›®æè¿°\n\næœ‰ n ä¸ªç½‘ç»œèŠ‚ç‚¹ï¼Œæ ‡è®°ä¸ºÂ 1Â åˆ° nã€‚\n\nç»™ä½ ä¸€ä¸ªåˆ—è¡¨Â timesï¼Œè¡¨ç¤ºä¿¡å·ç»è¿‡ æœ‰å‘ è¾¹çš„ä¼ é€’æ—¶é—´ã€‚Â times[i] = (ui, vi, wi)ï¼Œå…¶ä¸­Â uiÂ æ˜¯æºèŠ‚ç‚¹ï¼ŒviÂ æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œ wiÂ æ˜¯ä¸€ä¸ªä¿¡å·ä»æºèŠ‚ç‚¹ä¼ é€’åˆ°ç›®æ ‡èŠ‚ç‚¹çš„æ—¶é—´ã€‚\n\nç°åœ¨ï¼Œä»æŸä¸ªèŠ‚ç‚¹Â KÂ å‘å‡ºä¸€ä¸ªä¿¡å·ã€‚éœ€è¦å¤šä¹…æ‰èƒ½ä½¿æ‰€æœ‰èŠ‚ç‚¹éƒ½æ”¶åˆ°ä¿¡å·ï¼Ÿå¦‚æœä¸èƒ½ä½¿æ‰€æœ‰èŠ‚ç‚¹æ”¶åˆ°ä¿¡å·ï¼Œè¿”å›Â -1 ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\n![931_example_1.png](https://assets.leetcode.com/uploads/2019/05/23/931_example_1.png)\n\nè¾“å…¥ï¼štimes = [[2,1,1],[2,3,1],[3,4,1]], n = 4, k = 2\n\nè¾“å‡ºï¼š2\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼štimes = [[1,2,1]], n = 2, k = 1\n\nè¾“å‡ºï¼š1\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥ï¼štimes = [[1,2,1]], n = 2, k = 2\n\nè¾“å‡ºï¼š-1\n:::\n\n:::details{text=\"æç¤º\"}\n```\n1 \u003C= k \u003C= n \u003C= 100\n1 \u003C= times.length \u003C= 6000\ntimes[i].length == 3\n1 \u003C= ui, vi \u003C= n\nui != vi\n0 \u003C= wi \u003C= 100\n```\næ‰€æœ‰ (ui, vi) å¯¹éƒ½ äº’ä¸ç›¸åŒï¼ˆå³ï¼Œä¸å«é‡å¤è¾¹ï¼‰\n:::\n\n## Pythoné¢˜è§£\n\n### æ–¹æ³•ä¸€ï¼šDijkstra ç®—æ³•\n\n:::details{text=\"Dijkstra ç®—æ³•\"}\nè¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•(Dijkstra)æ˜¯ç”±è·å…°è®¡ç®—æœºç§‘å­¦å®¶ç‹„å…‹æ–¯ç‰¹æ‹‰äº1959å¹´æå‡ºçš„ï¼Œå› æ­¤åˆå«ç‹„å…‹æ–¯ç‰¹æ‹‰ç®—æ³•ã€‚æ˜¯ä»ä¸€ä¸ªé¡¶ç‚¹åˆ°å…¶ä½™å„é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œè§£å†³çš„æ˜¯æœ‰æƒå›¾ä¸­**æœ€çŸ­è·¯å¾„é—®é¢˜**ã€‚è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ä¸»è¦ç‰¹ç‚¹æ˜¯ä»èµ·å§‹ç‚¹å¼€å§‹ï¼Œé‡‡ç”¨**è´ªå¿ƒç®—æ³•**çš„ç­–ç•¥ï¼Œæ¯æ¬¡éå†åˆ°å§‹ç‚¹**è·ç¦»æœ€è¿‘**ä¸”**æœªè®¿é—®è¿‡çš„é¡¶ç‚¹**çš„é‚»æ¥èŠ‚ç‚¹ï¼Œç›´åˆ°æ‰©å±•åˆ°ç»ˆç‚¹ä¸ºæ­¢ã€‚\n:::\n\n```python\n    def networkDelayTime(self, times, n, k):\n        \"\"\"\n        :type times: List[List[int]]\n        :type n: int\n        :type k: int\n        :rtype: int\n        \"\"\"\n        # é‚»æ¥çŸ©é˜µå­˜å‚¨å›¾ï¼Œæ­¤å¤„å­˜å‚¨è·ç¦»ä¿¡æ¯\n        g = [[float('inf')] * n for _ in range(n)]\n        # ä»é‚»æ¥çŸ©é˜µæ›´æ–°æƒé‡ï¼Œå¯¹ä¸‹æ ‡è¿›è¡Œäº†å‡ä¸€å¤„ç†\n        for start, end, time in times:\n            g[start - 1][end - 1] = time\n        # ç›®æ ‡èŠ‚ç‚¹åˆ°å…¶ä»–èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»åˆ—è¡¨ä¿¡æ¯\n        distance = [float('inf')] * n\n        # èµ·ç‚¹è·ç¦»è®¾ç½®ä¸º0\n        distance[k - 1] = 0\n        # ç”¨äºæ ‡è®°å·²è¢«ç»è¿‡çš„èŠ‚ç‚¹\n        used = [False] * n\n        # éå†æ‰€æœ‰èŠ‚ç‚¹\n        for _ in range(n):\n            # ç¬¬ä¸€æ¬¡ä¸ç”¨æ¯”è¾ƒè·ç¦»ç”¨åˆ°çš„å‚æ•°\n            x = -1\n            # è·å–æœªè¢«æ ‡è®°çš„æœ€è¿‘èŠ‚ç‚¹\n            for index, false in enumerate(used):\n                if not false and (x == -1 or distance[index] \u003C distance[x]):\n                    x = index\n            # æ ‡è®°èŠ‚ç‚¹\n            used[x] = True\n            # æ›´æ–°æœ€çŸ­è·¯å¾„è·ç¦»\n            for index, time in enumerate(g[x]):\n                distance[index] = min(distance[index], distance[x] + time)\n        # è¦æ±‚æ‰€æœ‰èŠ‚ç‚¹æ¥æ”¶ï¼Œæ‰€ä»¥è¿”å›æœ€çŸ­è·ç¦»çš„æœ€å¤§å€¼\n        ans = max(distance)\n        # å¦‚æœå­˜åœ¨infåˆ™ä»£è¡¨æœ‰èŠ‚ç‚¹ä¸å¯è¾¾ï¼Œæ­¤æ—¶è¿”å›-1\n        return ans if ans \u003C float('inf') else -1\n```\n\n\n## æ€»ç»“\n\né¢˜è§£æ²¡çœ‹æ‡‚ï¼Œdebugäº†ä¸€éæ‰çœ‹æ‡‚ä¸€ç‚¹ï¼Œç„¶åå†™äº†ç‚¹æ³¨é‡Š :(\n\nå¢åŠ æµ‹è¯•ç”¨ä¾‹ï¼Œåˆdebugäº†ä¸€éï¼Œæœ‰äº†æ–°çš„ç†è§£ï¼Œå·²æ›´æ–°æ³¨é‡Šä¿¡æ¯ã€‚\n","post/2021/20210804/":"\n## 1. æ•°æ®åº“ç›¸å…³æ¦‚å¿µ\n\n**æ•°æ®åº“ï¼ˆDatabaseï¼‰**ï¼šDatabaseæ˜¯æŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ã€‚\n\n**æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDatabase Management Systemï¼‰**ï¼šæ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ˜¯ä¸€ç§æ“çºµå’Œç®¡ç†æ•°æ®åº“çš„å¤§å‹è½¯ä»¶ï¼Œç”¨äºå»ºç«‹ã€ä½¿ç”¨å’Œç»´æŠ¤æ•°æ®åº“ï¼Œç®€ç§°DBMSã€‚DBMSå¯åˆ†ä¸º**å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ**ï¼ˆRelational Database Management Systemï¼šRDBMSï¼‰ä¸**NoSQL**ï¼ˆNot only SQLï¼šå¯¹ä¸åŒäºä¼ ç»Ÿçš„å…³ç³»æ•°æ®åº“çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ç»Ÿç§°ï¼‰ã€‚\n\n**æ•°æ®åº“ç³»ç»Ÿï¼ˆDatabase Systemï¼‰**ï¼šæ•°æ®åº“ç³»ç»Ÿï¼Œæ˜¯ç”±æ•°æ®åº“åŠå…¶ç®¡ç†è½¯ä»¶ç»„æˆçš„ç³»ç»Ÿã€‚\n\n:::warning\nç°å®ä¸­å¯èƒ½ä¼šç»å¸¸å¬åˆ°ä¸€äº›äººä½¿ç”¨â€œæ•°æ®åº“â€ï¼ˆDatabaseï¼‰æ¥è¡¨ç¤ºâ€œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿâ€ï¼ˆDatabase Managment Systemï¼‰è¿™ä¸€æ¦‚å¿µï¼Œä½†å…¶å®è¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œåªæ˜¯è¢«ç®€åŒ–äº†ï¼Œä¾‹å¦‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨â€œæ³•äººâ€è¡¨ç¤ºâ€œæ³•äººä»£è¡¨â€ï¼Œä½†å…¶å®â€œæ³•äººâ€è¡¨ç¤ºçš„æ˜¯ç»„ç»‡ã€‚\n:::\n\n**æ¨¡å¼ï¼ˆschemaï¼‰**ï¼šå…³äºæ•°æ®åº“å’Œè¡¨çš„å¸ƒå±€åŠç‰¹æ€§çš„ä¿¡æ¯ã€‚\n\n:::warning\nåœ¨æŸäº›æ—¶å€™ï¼Œschemaä¹Ÿå¯ç”¨äºè¡¨ç¤ºæ•°æ®åº“ã€‚\n:::\n\n**è¡¨ï¼ˆtableï¼‰**ï¼šæ•°æ®åº“ä¸­çš„ç‰¹å®šç±»å‹æ•°æ®çš„ç»“æ„åŒ–æ¸…å•ã€‚\n\n**åˆ—ï¼ˆcolumnï¼‰**ï¼šè¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µã€‚æ‰€æœ‰è¡¨éƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ç»„æˆçš„ã€‚\n\n**è¡Œï¼ˆrowï¼‰**ï¼šè¡¨ä¸­çš„æ•°æ®æ˜¯æŒ‰è¡Œå­˜å‚¨çš„ï¼Œæ‰€ä¿å­˜çš„æ¯ä¸ªè®°å½•å­˜å‚¨åœ¨è‡ªå·±çš„è¡Œå†…ã€‚æœ‰æ—¶ä¹Ÿç§°ä¸ºè®°å½•ï¼ˆrecordï¼‰ã€‚\n\n**æ•°æ®ç±»å‹ï¼ˆdatatypeï¼‰**ï¼šæ¯ä¸€åˆ—éƒ½å¯ä»¥æ ¹æ®è‡ªèº«çš„ç‰¹æ€§é€‰æ‹©ç‰¹å®šçš„æ•°æ®ç±»å‹ã€‚\n\n**ä¸»é”®ï¼ˆprimary keyï¼‰**ï¼šé€šå¸¸ç”¨äºç¡®å®šå”¯ä¸€çš„è¡Œï¼Œæ‰€ä»¥ä¸»é”®æ˜¯ä¸èƒ½é‡å¤çš„ã€‚\n\n**å¤–é”®ï¼ˆforeign keyï¼‰**ï¼šè¡¨ä¸­å­˜å‚¨çš„ä¸å…¶ä»–è¡¨ä¸»é”®å…³è”çš„é”®ï¼Œå«å¤–é”®ã€‚\n\n**ç´¢å¼•ï¼ˆindexï¼‰**ï¼šç›¸å½“äºå¯¹åˆ—æ·»åŠ ç›®å½•ï¼Œç”¨äºåŠ é€Ÿåˆ—çš„æŸ¥è¯¢ã€‚\n\n**SQL**ï¼šç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼ˆStructured Query Languageï¼‰çš„ç¼©å†™ã€‚ç”¨äºä¸æ•°æ®åº“é€šä¿¡ã€‚\n\n## 2. MySQLæ¦‚å¿µåŠå®‰è£…\n\nMySQLæ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±ç‘å…¸MySQL AB å…¬å¸å¼€å‘ï¼Œç›®å‰å±äº Oracle æ——ä¸‹äº§å“ã€‚å› ä¸ºå…¶å¼€æºçš„ç‰¹æ€§æ‰€ä»¥æˆä¸ºäº†å½“ä¸‹è¾ƒä¸ºæµè¡Œçš„DBMSã€‚ç›®å‰ä¸ºæ­¢MySQLå·²ç»æ›´æ–°åˆ°äº†8è¿™ä¸ªå¤§ç‰ˆæœ¬ï¼Œä¹Ÿç®—æ˜¯ä¹…ç»æ²™åœºäº†ã€‚\n\nå¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œä½ å¯ä»¥ä½¿ç”¨MySQLè‡ªå¸¦çš„å‘½ä»¤è¡Œå·¥å…·æ¥å­¦ä¹ MySQLï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹MySQLç®¡ç†è½¯ä»¶ï¼Œä¾‹å¦‚å¼€æºçš„[Dbeaver](https://dbeaver.io/)ã€‚\n\nMySQLå®˜æ–¹ç½‘ç«™ï¼š[https://www.mysql.com/](https://www.mysql.com/)\n\nç›´æ¥ä¸‹è½½MySQLç¤¾åŒºæœåŠ¡ç«¯ï¼š[MySQL Community Server Download](https://dev.mysql.com/downloads/mysql/)ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚ä¸‹è½½å‹ç¼©åŒ…æˆ–è€…æ˜¯MSIå®‰è£…ç¨‹åºï¼Œæ–°æ‰‹å»ºè®®é€‰æ‹©MSIå®‰è£…ç¨‹åºã€‚\n\nä¸‹è½½å®Œæˆä¹‹ååŒå‡»å®‰è£…ç¨‹åºå³å¯ï¼Œè¿‡ç¨‹é€‰é¡¹çœ‹ç€é€‰ï¼Œçœ‹ä¸æ‡‚å°±ç¿»è¯‘ï¼Œè¿™é‡Œä¸å¤šèµ˜è¿°ã€‚\n\n[MySQL 8.0å‚è€ƒæ‰‹å†Œ](https://dev.mysql.com/doc/refman/8.0/en/)ï¼Œä¸‹è½½å®‰è£…ç­‰ç›¸å…³æŒ‡å—éƒ½åœ¨é‡Œé¢äº†ï¼Œå¦‚æœåªæ˜¯ä¸‹è½½å’Œå…¥é—¨åªéœ€è¦è¿‡ä¸€ä¸‹[Installing and Upgrading MySQL](https://dev.mysql.com/doc/refman/8.0/en/installing.html)å’Œ[Tutorial](https://dev.mysql.com/doc/refman/8.0/en/tutorial.html)è¿™ä¸¤ä¸ªç¯‡ç« å°±è¡Œäº†ï¼ˆçœ‹ç€åƒåŠ›å°±ç¿»è¯‘ï¼‰ã€‚\n\nå®‰è£…å®Œæˆä¹‹åï¼Œå°è¯•ä½¿ç”¨ `mysql -u root -p` ï¼Œæ ¹æ®æç¤ºè¾“å…¥å¯†ç å³å¯è¿æ¥åˆ°æœ¬åœ°MySQLæœåŠ¡ç«¯ã€‚\n\n:::warning\næç¤ºæ²¡æœ‰mysqlè¿™ä¸ªæŒ‡ä»¤åˆ™éœ€è¦å°†mysqlå®‰è£…ç›®å½•ä¸‹çš„binç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡å³å¯\n:::\n\nç™»å½•ä¹‹åå¯ä»¥ `show databases;` æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ï¼Œ`use {database_name}` åˆ‡æ¢æ•°æ®åº“ï¼Œ`show tables;`æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸‹çš„æ‰€æœ‰è¡¨ï¼Œ`describe {table_name};`æŸ¥çœ‹è¡¨ç»“æ„ç­‰ã€‚(*å¤§æ‹¬å·é‡Œæ›¿ä»£æˆå…·ä½“çš„æ•°æ®åº“/è¡¨çš„åç§°*)\n\n## 3. åŸºæœ¬å…³é”®å­—\n\nä»¥ä¸‹å‡ä½¿ç”¨`table`ä»£æ›¿è¡¨åï¼Œ`column`ä»£æ›¿åˆ—åã€‚\n\n### 3.1 select\n\nç”¨äºæŸ¥è¯¢æ•°æ®ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æŸ¥è¯¢å…¨éƒ¨æ•°æ®ï¼š`select * from table;`\n2. æŸ¥è¯¢å•/å¤šåˆ—ï¼š`select column/column1,column2 from table;`\n\n:::tip\nåœ¨ä½¿ç”¨åˆ—åæ˜¯å¯ä»¥ä½¿ç”¨**è¡¨å.åˆ—å**çš„å†™æ³•ï¼Œä¾‹å¦‚`select table.column from table;`ï¼Œè¿™åœ¨ä¹‹åçš„è”è¡¨æŸ¥è¯¢ä¼šç»å¸¸ä½¿ç”¨ã€‚\n:::\n\n### 3.2 distinct\n\nç”¨äºå‰”é™¤ç»“æœä¸­çš„é‡å¤æ•°æ®ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æŸ¥è¯¢å»é‡ï¼š`select distinct column from table;`\n\n### 3.3 limit\n\né™åˆ¶ç»“æœé›†ã€‚ä¸æŒ‡å®šæ­£ååˆ™é»˜è®¤ä¸ºæ­£åºï¼Œå³æŒ‰ç…§`asc`æ–¹å¼è¿›è¡Œæ’åº.\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. é™åˆ¶ä¸º1æ¡è®°å½•ï¼š`select * from table limit 1;`\n2. åç§»é™åˆ¶-å†™æ³•1ï¼š`select * from table limit 2 , 3;`\n3. åç§»é™åˆ¶-å†™æ³•1: `select * from table limit 3 offset 2;`\n\nä»¥ä¸Šä¸¤ç§å†™æ³•éƒ½ä»£è¡¨ä»ç¬¬äºŒæ¡è®°å½•åå–3æ¡æ•°æ®ï¼Œå³(3,4,5)\n\n### 3.4 order by\n\nç”¨äºå¯¹æ•°æ®æ’åºã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æ­£åºæ’åº1ï¼š`select * from table order by column;`\n2. æ­£åºæ’åº2: `select * from table order by column asc;`\n3. å€’åºæ’åºï¼š`select * from table order by column desc;`\n4. å¤šåˆ—æ’åºï¼š`select * from table order by column1 asc,column2 desc;`\n\n### 3.5 where\n\nç”¨äºå¯¹æ•°æ®çš„è¿‡æ»¤ï¼Œå…¶åå¯ä»¥æ¥å­å¥ç­‰å…¶ä»–è¡¨è¾¾å¼ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æŸ¥è¯¢åˆ—å€¼ä¸º1çš„è®°å½•ï¼š`select * from table where column = 1;`\n2. æŸ¥è¯¢åˆ—å€¼ä¸ºNullçš„è®°å½•ï¼š`select * from table where column is null;`\n\nåœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­æˆ‘ä»¬åªä½¿ç”¨äº†â€œï¼â€è¿™ä¸ªæ¯”è¾ƒç¬¦å·ï¼Œåœ¨MySQLä¸­è¿˜æœ‰è¿™äº›æ¯”è¾ƒç¬¦å·å¯ä»¥åœ¨whereè¯­å¥ä¸­ä½¿ç”¨ã€‚\n\n| ç¬¦å·    | å«ä¹‰     |\n| :-----: | :------: |\n| `=`       | ç­‰äº     |\n| `\u003C>`      | ä¸ç­‰äº   |\n| `!=`      | ä¸ç­‰äº   |\n| `\u003C`       | å°äº     |\n| `\u003C=`      | å°äºç­‰äº |\n| `>`       | å¤§äº     |\n| `>=`      | å¤§äºç­‰äº |\n\n:::warning\næ³¨æ„ï¼šnullæ˜¯è¿™ä¸ªåˆ—æ²¡æœ‰è¢«èµ‹å€¼ï¼Œè€Œä¸æ˜¯ç©ºå­—ç¬¦ä¸²æˆ–è€…ç©ºæ ¼ï¼Œä¹Ÿä¸æ˜¯0ã€‚\n:::\n\n### 3.6 not\n\nå¸¸ç”¨äºå¯¹é€»è¾‘å–åã€‚ä¾‹å¦‚ä¸`between`ä¸`in`çš„å–åã€‚\n\n### 3.7 between\n\nå¸¸ç”¨äºä¸whereé…åˆé™åˆ¶æ•°æ®åœ¨æŸä¸ªåŒºé—´å†…ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æŸ¥è¯¢åˆ—å€¼åœ¨1åˆ°10ä¹‹é—´çš„è®°å½•ï¼š`select * from table where column between 1 and 10;`\n2. æŸ¥è¯¢åˆ—å€¼ä¸åœ¨1åˆ°10ä¹‹é—´çš„è®°å½•ï¼š`select * from table where column not between 1 and 10;`\n\n### 3.8 in\n\nå¸¸ç”¨äºé…åˆwhereè¯­æ³•ï¼Œå¯¹æ•°æ®è¿›è¡Œç»“æœé›†è¿‡æ»¤ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æŸ¥è¯¢åˆ—å€¼åœ¨æŸä¸ªç»“æœé›†çš„è®°å½•ï¼š`select * from table where column in (1,2);`\n2. æŸ¥è¯¢åˆ—å€¼ä¸åœ¨æŸä¸ªç»“æœé›†çš„è®°å½•ï¼š`select * from table where column not in (1,2);`\n\n\n### 3.9 and\n\nå¸¸ç”¨äºä¸whereè¯­å¥é…åˆï¼Œè¿›è¡Œå¤šæ¡ä»¶çš„é€»è¾‘ä¸åˆ¤æ–­\n\n:::warning\n`and`ä¸`or`åŒæ—¶ä½¿ç”¨`and`æ‹¥æœ‰æ›´å¤šçš„ä¼˜å…ˆçº§ï¼Œå½“åŒæ—¶ä½¿ç”¨æ—¶ï¼Œæ¨èä½¿ç”¨æ‹¬å·æ¥æ˜ç¡®ä¼˜å…ˆçº§ã€‚\n:::\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. é™åˆ¶å¤šå±æ€§æŸ¥è¯¢ï¼š`select * from table where column1 = 1 and column2 = 'è®¡ç®—æœº';`\n\n### 3.10 or\n\nå¸¸ç”¨äºä¸whereè¯­å¥é…åˆï¼Œè¿›è¡Œå¤šæ¡ä»¶çš„é€»è¾‘æˆ–åˆ¤æ–­\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. é™åˆ¶å•å±æ€§å¤šé€‰æ‹©ï¼š`select * from table where column = 1 or column = 2;`\n2. ç­‰ä¸Šå†™æ³•ï¼š`select * from table where column in (1,2);`\n3. ç­‰ä¸Šå†™æ³•ï¼š`select * from table where column between 1 and 2;`\n\n:::warning\n`and`ä¸`or`åŒæ—¶ä½¿ç”¨`and`æ‹¥æœ‰æ›´å¤šçš„ä¼˜å…ˆçº§ï¼Œå½“åŒæ—¶ä½¿ç”¨æ—¶ï¼Œæ¨èä½¿ç”¨æ‹¬å·æ¥æ˜ç¡®ä¼˜å…ˆçº§ã€‚\n:::\n\n### 3.11 like\n\nç”¨äºæ¨¡ç³ŠåŒ¹é…ï¼Œå¸¸ä¸`%`ä¸€èµ·ä½¿ç”¨ã€‚\n\nå¦ä¸€ä¸ªé€šé…ç¬¦æ˜¯`_`ï¼Œå’Œ`%`ä¸åŒçš„æ˜¯ï¼Œ`_`åªèƒ½åŒ¹é…å•ä¸ªå­—ç¬¦ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. å·¦æ¨¡ç³Šï¼š`select * from table where column like '1%';`\n2. å³æ¨¡ç³Šï¼š`select * from table where column like '%1';`\n3. ä¸­é—´æ¨¡ç³Šï¼š`select * from table where column like '1%1';`\n4. å·¦å³æ¨¡ç³Šï¼š`select * from table where column like '%1%';`\n\n:::warning\næ¨¡ç³ŠæŸ¥è¯¢æ•ˆç‡ç›¸å¯¹è¾ƒä½ï¼Œå¦‚æœå¯ä»¥ç®€å•æŸ¥è¯¢çš„è¯ï¼Œå°½é‡ä½¿ç”¨ç®€å•æ˜ç¡®çš„æ¡ä»¶è¿‡æ»¤ã€‚\n:::\n\n### 3.12 regexp\n\nç”¨äºè¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æŸ¥è¯¢åŒ…å«1çš„ç»“æœé›†ï¼š`select * from table where column regexp '1';`\n2. æŸ¥è¯¢åŒ…å«`1%`çš„ç»“æœé›†ï¼š`select * from table where column regexp '1.'\n\nè¿™é‡Œçš„`.`æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­ç”¨äºåŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦çš„ï¼Œæ›´å¤šæ­£åˆ™è¡¨è¾¾å¼çš„å†…å®¹å¯ä»¥æŸ¥çœ‹ï¼š[Githubï¼šlearn-regex](https://github.com/ziishaned/learn-regex)\n\n:::tip\nä½ å¯ä»¥ä¸æŸ¥è¯¢è¡¨æ¥æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼ï¼Œåƒè¿™æ ·`select 'hello' regexp '[:alpha:]';`ï¼Œå¦‚æœåŒ¹é…åˆ™è¿”å›1ï¼Œåä¹‹ä¸º0ã€‚\n:::\n\n### 3.13 as\n\nä¸ºåˆ—å–åˆ«åã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. åˆ«åï¼š`select t.column as new_name from table as t;`\n2. ç®€å†™ï¼š`select t.column new_name from table t;`\n\n### 3.14 group by\n\nå°†æ•°æ®è¿›è¡Œåˆ†ç»„\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æŒ‰åˆ—åˆ†ç»„ï¼š`select column count(column) from table group by column;`\n\n:::warning\nGROUP BYå­å¥å¿…é¡»å‡ºç°åœ¨WHEREå­å¥ä¹‹åï¼ŒORDER BYå­å¥ä¹‹å‰ã€‚\n:::\n\n### 3.15 having\n\nå¯¹åˆ†ç»„æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œç±»ä¼¼whereï¼Œä½†æ˜¯whereä¸èƒ½è¿‡æ»¤åˆ†ç»„æ•°ç»„ï¼Œå› ä¸ºwhereæ˜¯ç”¨äºè¿‡æ»¤è¡Œçš„ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹éƒ½å¯ä»¥ä½¿ç”¨havingä»£æ›¿whereã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. åˆ†ç»„å¹¶å–countå¤§äºç­‰äº2çš„ï¼š`select column count(column) from table group by column having count(*) >= 2;`\n\n### 3.16 insert\n\næ–°å¢è®°å½•ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æŒ‰ç…§è¡¨ä¸­çš„åˆ—é¡ºåºæ’å…¥ï¼š`insert into table values(xxx,xxx,xxx...);`\n2. è‡ªå®šä¹‰åˆ—åŠé¡ºåºæ’å…¥ï¼š`insert into table(id,name,age...) values(null,'test',18...)`\n3. å¤šè¡Œæ’å…¥ï¼š`insert into table values(xxx,xxx,xxx...),(xxx,xxx,xxx...)`\n\n:::tip\nä½ è¿˜å¯ä»¥åœ¨insertçš„valueséƒ¨åˆ†ä½¿ç”¨selectè¯­å¥è¿”å›çš„å€¼ä½œä¸ºvalueæ’å…¥ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ¶‰åŠå”¯ä¸€çš„åˆ—éœ€è¦å˜åŠ¨æ—¶ï¼Œå¦‚æœidè®¾ç½®äº†è‡ªå¢é‚£ä¹ˆå¯ä»¥ä¸ç”¨æ’å…¥idã€‚\n\nç±»ä¼¼`INSERT INTO table(column1,column2) SELECT column1, column2 FROM articles`\n:::\n\n### 3.17 update\n\næ›´æ–°è®°å½•ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. æ›´æ–°æŒ‡å®šæ•°æ®ï¼š`update table set column1 = 1 where column2 = 2`\n2. æ›´æ–°å¤šåˆ—ï¼š`update table set column1 = 1,column2 = 2 where column3 = 3`\n\n### 3.18 delete\n\nåˆ é™¤æ•°æ®ã€‚\n\nå¸¸è§ç”¨æ³•ï¼š\n\n1. åˆ é™¤æŒ‡å®šè®°å½•ï¼š`delete from table where column1 = 1 `\n\n## 4. å‡½æ•°å’Œè¿ç®—ç¬¦\n\næ­¤ç« èŠ‚å†…å®¹å‚è€ƒï¼š[å®˜æ–¹æ‰‹å†Œ - å‡½æ•°ä¸è¿ç®—ç¬¦ç« èŠ‚](https://dev.mysql.com/doc/refman/8.0/en/functions.html)ï¼Œ[w3school - MySQLå‡½æ•°](https://www.w3schools.com/mysql/mysql_ref_functions.asp)ã€‚\n\n:::tip\næ‰‹å†Œç‰ˆæœ¬ä¸º8.0\n:::\n\n### 4.1 è¿ç®—ç¬¦\n\nå››åˆ™è¿ç®—ï¼ˆ+ã€-ã€*ã€/ï¼‰æ˜¯æœ€ä¸ºå¸¸è§çš„è¿ç®—ç¬¦ã€‚ä¾‹å¦‚ä½ æƒ³å¯¹ä¸€ä¸ªæ•°è¿›è¡Œå¹³æ–¹ï¼Œå¯ä»¥è¿™æ · `select column column * column square from table;`\n\næ›´å¤šå†…å®¹å»ºè®®å‚è€ƒ[å®˜æ–¹æ‰‹å†Œ-è¿ç®—ç¬¦](https://dev.mysql.com/doc/refman/8.0/en/non-typed-operators.html)\n\n### 4.2 å‡½æ•°\n\nå¦‚æœæ˜¯æƒ³ç»†èŠ‚äº†è§£å‡½æ•°ï¼Œå»ºè®®å‚è€ƒä¸Šé¢çš„å®˜æ–¹æ‰‹å†Œã€‚\n\nä»¥ä¸‹ä»…ç®€å•æŒ‰ç…§å‡ ä¸ªæ–¹é¢ä»‹ç»ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ã€‚\n\n- å­—ç¬¦ä¸²å‡½æ•°\n- æ•°å€¼å‡½æ•°\n- æ—¥æœŸä¸æ—¶é—´å‡½æ•°\n\n#### 4.2.1 å­—ç¬¦ä¸²å‡½æ•°\n\n**concat()**ï¼šç”¨äºæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œ`select concat('hello',' world !');`\n**left()**ï¼šè¿”å›å­—ç¬¦ä¸²å·¦è¾¹nä½ï¼Œ`right()`åŒç†\n**length()**ï¼šè¿”å›å­—ç¬¦ä¸²é•¿åº¦\n**lower()**ï¼šå°å†™å‡½æ•°ã€‚å¤§å†™ä¸º`upper()`\n**trim()**ï¼šåˆ é™¤å‰åç©ºæ ¼ï¼Œè¡ç”Ÿå‡½æ•°ï¼š`ltrim()`ã€`rtrim()`\n**locate()**ï¼šè¿”å›å­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œ`SELECT LOCATE(\"3\", \"W3Schools.com\");`\n**repeat()**ï¼šé‡å¤å­—ç¬¦ä¸²ï¼Œ`SELECT REPEAT(\"SQL Tutorial\", 3);`\n**replace()**: æ›¿æ¢å­—ç¬¦ä¸²ï¼Œ`SELECT REPLACE(\"SQL Tutorial\", \"SQL\", \"HTML\");`\n**reverse()**ï¼šåè½¬å­—ç¬¦ä¸²ï¼Œ`SELECT REVERSE(\"SQL Tutorial\");`\n**substr()**ï¼šæˆªå–å­—ç¬¦ä¸²ï¼ŒåŒ`substring()`ï¼Œ`SELECT SUBSTR(\"SQL Tutorial\", 5, 3);`\n\n#### 4.2.2 æ•°å€¼å‡½æ•°\n\n**abs()**ï¼šè·å–æ•°å€¼ç»å¯¹å€¼\n**avg()**ï¼šå¹³å‡å€¼ï¼Œ`SELECT AVG(Price) AS AveragePrice FROM Products;`\n**sum()**ï¼šæ±‚å’Œ\n**max()**ï¼šè·å–æŸåˆ—æœ€å¤§å€¼ï¼Œ`min()`åˆ™ç›¸å\n**ceil()**ï¼šæƒ³ä¸Šå–æ•´ï¼ŒåŒ`ceiling()`\n**floor()**ï¼šå‘ä¸‹å–æ•´\n**count()**ï¼šç»Ÿè®¡æ•°å€¼\n**mod()**ï¼šå–æ¨¡\n**greatest()**ï¼šè¿”å›åˆ—è¡¨æœ€å¤§å€¼ï¼Œ`SELECT GREATEST(3, 12, 34, 8, 25);`ï¼Œ`least()`åˆ™ç›¸å\n**pow()**ï¼šå¹‚è¿ç®—ï¼ŒåŒ`power()`ï¼Œ`SELECT POW(4, 3);`\n**rand()**ï¼šè¿”å›ä¸€ä¸ªå¤§äºç­‰äº0å°äº1çš„æµ®ç‚¹æ•°ã€‚\n**round()**ï¼šå°†æ•°å€¼è¿›è¡Œå››èˆäº”å…¥ã€‚å››èˆäº”å…¥åˆ°å°æ•°ç‚¹åä¸¤ä½ï¼š`SELECT ROUND(135.375, 2);`\n**sqrt()**ï¼šå¹³æ–¹æ ¹\n\né™¤æ­¤ä¹‹å¤–è¿˜æœ‰è®¸å¤šéƒ½æ˜¯æ•°å­¦å‡½æ•°ï¼Œç±»ä¼¼ä¸‰è§’å‡½æ•°ä¸åä¸‰è§’å‡½æ•°ï¼Œå¼§åº¦è§’åº¦è½¬æ¢å‡½æ•°ï¼Œå¯¹æ•°å‡½æ•°ç­‰ã€‚\n\n#### 4.3.3 æ—¥æœŸä¸æ—¶é—´å‡½æ•°\n\n**curdate()**ï¼šå½“å‰æ—¥æœŸï¼ŒåŒ`current_date()`\n**curtime()**ï¼šå½“å‰æ—¶é—´ï¼ŒåŒ`current_time()`\n**current_timestamp()**ï¼šå½“å‰æ—¥æœŸåŠ æ—¶é—´ï¼Œç±»ä¼¼`now()`ï¼Œ`localtime()`\n**datediff()**ï¼šæ—¥æœŸå·®ï¼Œ`SELECT DATEDIFF(\"2017-06-25\", \"2017-06-15\");`\n**adddate()**ï¼šå¢åŠ æ—¥æœŸï¼Œ`SELECT ADDDATE(\"2017-06-15\", INTERVAL 10 DAY);`\n**addtime()**ï¼šå¢åŠ æ—¶é—´ï¼Œ`SELECT ADDTIME(\"2017-06-15 09:34:21\", \"2\");`\n\næ­¤å¤„åŸºæœ¬æ²¡ä»‹ç»å¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼Œä½†æ˜¯ç›¸å…³å‡½æ•°éƒ½æœ‰ã€‚\n\n#### 4.4.4 æµç¨‹æ§åˆ¶å‡½æ•°\n\nä¸çŸ¥é“ä¸ºä»€ä¹ˆå®˜æ–¹æ‰‹å†ŒæŠŠè¿™å½’ç»“åˆ°å‡½æ•°è€Œä¸æ˜¯è¯­å¥ï¼Œä½†è¿™éƒ½ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹æ˜¯æµç¨‹æ§åˆ¶ã€‚\n\nå› ä¸ºè§‰å¾—ä»‹ç»çœ‹çš„ä¸å¦‚ç›´æ¥ä¸Šä»£ç ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥ä¸Šä»£ç ã€‚\n\n- caseã€thenã€whenã€elseã€end\n\nè¿™æ˜¯ä¸€å¥—ååˆ†å¸¸è§çš„æµç¨‹æ§åˆ¶ç»„åˆã€‚\n\n``` SQL\nmysql> SELECT CASE 1 WHEN 1 THEN 'one'\n    ->     WHEN 2 THEN 'two' ELSE 'more' END;\n        -> 'one'\nmysql> SELECT CASE WHEN 1>0 THEN 'true' ELSE 'false' END;\n        -> 'true'\nmysql> SELECT CASE BINARY 'B'\n    ->     WHEN 'a' THEN 1 WHEN 'b' THEN 2 END;\n        -> NULL\n```\n\n- IF(expr1,expr2,expr3)\n\nå¦‚æœ expr1 ä¸º TRUEï¼ˆ`expr1 \u003C> 0` å’Œ `expr1 \u003C> NULL`ï¼‰ï¼ŒIF() è¿”å› expr2ã€‚å¦åˆ™ï¼Œå®ƒè¿”å› expr3ã€‚\n\n``` sql\nmysql> SELECT IF(1>2,2,3);\n        -> 3\nmysql> SELECT IF(1\u003C2,'yes','no');\n        -> 'yes'\nmysql> SELECT IF(STRCMP('test','test1'),'no','yes');\n        -> 'no'\n```\n\n- IFNULL(expr1,expr2)\n\nå¦‚æœ expr1 ä¸ä¸º NULLï¼Œåˆ™ IFNULL() è¿”å› expr1ï¼›å¦åˆ™è¿”å› expr2ã€‚\n\n``` sql\nmysql> SELECT IFNULL(1,0);\n        -> 1\nmysql> SELECT IFNULL(NULL,10);\n        -> 10\nmysql> SELECT IFNULL(1/0,10);\n        -> 10\nmysql> SELECT IFNULL(1/0,'yes');\n        -> 'yes'\n```\n\n- NULLIF(expr1,expr2)\n\nå¦‚æœ expr1 = expr2 ä¸ºçœŸï¼Œåˆ™è¿”å› NULLï¼Œå¦åˆ™è¿”å› expr1ã€‚è¿™ä¸ CASE WHEN expr1 = expr2 THEN NULL ELSE expr1 END ç›¸åŒã€‚\n\n```sql\nmysql> SELECT NULLIF(1,1);\n        -> NULL\nmysql> SELECT NULLIF(1,2);\n        -> 1\n```\n\n## 5. é«˜çº§éƒ¨åˆ†\n\n### 5.1 å­æŸ¥è¯¢ï¼ˆsubqueryï¼‰\n\nå­æŸ¥è¯¢å°±æ˜¯åµŒå¥—åœ¨å…¶ä»–æŸ¥è¯¢ä¸­çš„æŸ¥è¯¢ã€‚\n\nä¸¾ä¸ªæ —å­\n\n```sql\nselect column from table where column = (select column from table where column = 1)\n```\n\nä»¥ä¸Šæ˜¯æœ€ä¸ºç®€å•çš„å­æŸ¥è¯¢ï¼Œæ¥ä¸‹æ¥ä»‹ç»ä¸€ç§ä½œä¸º**è®¡ç®—å­—æ®µçš„å­æŸ¥è¯¢**\n\n```sql\nselect column1 (select count(*) from table2 where table1.column1 = table2.column1) from table1\n```\n\nè¿™é‡Œæå‰ä½¿ç”¨äº†è”è¡¨ï¼Œç›®çš„æ˜¯ä¸ºäº†æŸ¥å‡ºå½“å‰çš„æŸäº›ä¸»é¢˜åœ¨å…¶ä»–è¡¨çš„å…¶ä»–ç»Ÿè®¡ä¿¡æ¯ã€‚\n\n### 5.2 è¿è¡¨æŸ¥è¯¢ï¼ˆjoinï¼‰\n\n**è¿è¡¨æŸ¥è¯¢**æ˜¯SQLä¸­ååˆ†å¸¸è§çš„åšæ³•ï¼Œå› ä¸ºå¦‚æœæŠŠæ‰€æœ‰ä¿¡æ¯éƒ½æ”¾åœ¨åŒä¸€å¼ è¡¨ä¸­çš„è¯ï¼Œé‚£ä¹ˆè¿™å¼ è¡¨å°†ä¼šååˆ†å¤æ‚ï¼Œå¹¶ä¸”æœ‰äº›ä¿¡æ¯å¯èƒ½æ˜¯å¤§é‡é‡å¤çš„æ•°æ®ï¼Œæ‰€ä»¥è¿è¡¨æŸ¥è¯¢ä¹Ÿå¯ä»¥å‡å°‘æ•°æ®åº“çš„ç©ºé—´å ç”¨ã€‚\n\né€šå¸¸çš„åšæ³•æ˜¯æä¾›å¤šå¼ è¡¨ï¼Œç„¶ååœ¨å…³è”è¡¨ä¸­ä½¿ç”¨ä¸€ä¸ªå­—æ®µä¸ä¸»è¡¨çš„**ä¸»é”®**è¿›è¡Œå…³è”ï¼Œå› æ­¤å…³è”è¡¨ä¸­çš„è¿™ä¸ªå­—æ®µä¹Ÿè¢«ç§°ä¸º**å¤–é”®**ã€‚\n\næ—¢ç„¶æ•°æ®å­˜æ”¾åœ¨ä¸åŒè¡¨ï¼Œé‚£ä¹ˆä½¿ç”¨ç®€å•æŸ¥è¯¢å°±ä¸å¯èƒ½æŸ¥è¯¢å‡ºæˆ‘ä»¬éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ‰€ä»¥æ­¤æ—¶å°±éœ€è¦ä½¿ç”¨è¿è¡¨æŸ¥è¯¢ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨æœ‰ä¸€å¼ å•†å“è¡¨productsä¸è®¢å•è¡¨ordersï¼Œæˆ‘ä»¬éœ€è¦ä»è®¢å•é‡‘é¢å¤§äº500çš„å•†å“ä¿¡æ¯ï¼ˆåœ¨å•†å“è¡¨æ‰æœ‰å•†å“ä¿¡æ¯ï¼Œè®¢å•è¡¨åªæœ‰å•†å“idï¼‰ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š\n\n```sql\nselect product.product_name, orders.amount from orders, products where orders.product_id = products.id\n```\n\nåœ¨ä¸Šé¢çš„SQLè¯­å¥ä¸­ï¼Œæˆ‘ä»¬åœ¨æŸ¥è¯¢äº†ä¸¤ä¸ªåœ¨ä¸åŒè¡¨çš„å­—æ®µ **ï¼ˆ** ä½¿ç”¨è¡¨å.åˆ—åçš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼ç§°ä¹‹ä¸º **å®Œå…¨é™å®šåï¼‰** ï¼Œé€šè¿‡fromåé¢æ·»åŠ ä¸¤å¼ è¡¨åï¼ˆä½¿ç”¨é€—å·éš”å¼€ï¼‰ï¼Œå¹¶ä¸”åœ¨whereæ¡ä»¶ä¸­è¡¥å……è¿æ¥å…³ç³»ï¼Œè¿™æ ·ä¾¿æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„è¿è¡¨æŸ¥è¯¢ã€‚\n\nå¦‚æœä¸åœ¨whereæ¡ä»¶ä¸­è¡¥å……è”ç»“å…³ç³»ï¼Œé‚£ä¹ˆè¿”å›çš„ç»“æœå°†ä¼šæ˜¯ä¸¤è¡¨çš„ç¬›å¡å°”ç§¯ï¼Œè¿™ç§æ–¹å¼ä¹Ÿç§°ä¹‹ä¸º**äº¤å‰è¿æ¥**ï¼ˆ`cross join`ï¼‰ã€‚\n\n- **å†…è¿æ¥**\n\nè¿æ¥å…¶å®ä¹Ÿåˆ†ä¸ºä¸åŒçš„ç±»å‹ï¼Œä¸Šè¿°çš„å†™æ³•å…¶å®æ˜¯**å†…è¿æ¥**çš„ç®€åŒ–å†™æ³•ï¼Œäº‹å®ä¸Šå®ƒå’Œä»¥ä¸‹è¿™ç§å†™æ³•æ˜¯ä¸€æ ·çš„\n\n```sql\nselect product.product_name, orders.amount from orders inner join products on orders.product_id = products.id\n```\n\nä¸¤è€…çš„åŒºåˆ«åœ¨ä¹è¿™é‡Œæˆ‘ä»¬æ˜ç¡®ä½¿ç”¨äº†`inner join`å…³é”®å­—è¿›è¡Œå†…è¿æ¥ï¼ŒåŒæ—¶ä½¿ç”¨`on`è€Œä¸æ˜¯`where`è¿›è¡Œè¿æ¥å…³ç³»çš„è¡¥å……ã€‚\n\nè¿æ¥ä¸ä»…å±€é™äºä¸¤å¼ è¡¨ï¼Œå¦‚æœéœ€è¦è¿æ¥å¤šå¼ è¡¨ï¼Œåˆ™éœ€è¦ç»§ç»­è¡¥å……ç›¸åº”çš„è¿æ¥å…³ç³»ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œè¿è¡¨æ˜¯æœ‰æ€§èƒ½ä»£ä»·çš„ï¼Œ**è¿æ¥çš„è¡¨è¶Šå¤šï¼Œæ€§èƒ½ä¸‹é™ä¹Ÿè¶Šå¤§ã€‚**\n\n- **å¤–è¿æ¥**\n\nå¤–è¿æ¥ä¸å†…è¿æ¥ä¸åŒåœ¨äºï¼Œå†…è¿æ¥åªä¼šè¿”å›åŒ¹é…çš„è¡Œï¼Œè€Œå¤–è¿æ¥é™¤äº†è¿”å›åŒ¹é…çš„è¡Œè¿˜ä¼šè¿”å›ä¸åŒ¹é…çš„è¡Œã€‚\n\nå¤–è¿æ¥é€šå¸¸åˆ†ä¸º**å·¦å¤–è¿æ¥**ï¼ˆ`left outer join`ï¼Œç®€å†™ä¸º`left join`ï¼‰ä¸**å³å¤–è¿æ¥**(`right outer join`ï¼Œç®€å†™ä¸º`right join`)ã€‚\n\n:::warning\nMySQLæ˜¯æ²¡æœ‰`full join`çš„ï¼Œæƒ³å®ç°è¿™ä¸ªåŠŸèƒ½å¯ä»¥è€ƒè™‘ä¸‹é¢çš„ç»„åˆæŸ¥è¯¢ï¼ˆunionï¼‰ã€‚\n:::\n\nå·¦å¤–è¿æ¥å³ä½¿è¿”å›å·¦è¡¨çš„æ‰€æœ‰è¡Œï¼Œå³ä½¿è¡Œæ²¡æœ‰ä¸å³è¡¨ç›¸åŒ¹é…ï¼Œå³è¿æ¥åˆ™ç›¸åã€‚\n\né€šè¿‡éŸ¦æ©å›¾å¯ä»¥è·å¾—æ›´ä¸ºç›´è§‚çš„ä¿¡æ¯ã€‚\n\n![img_innerjoin.gif](https://www.runoob.com/wp-content/uploads/2014/03/img_innerjoin.gif)\n\n![img_leftjoin.gif](https://www.runoob.com/wp-content/uploads/2014/03/img_leftjoin.gif)\n\n![img_rightjoin.gif](https://www.runoob.com/wp-content/uploads/2014/03/img_rightjoin.gif)\n\n- **è‡ªè¿æ¥**\n\nè‡ªè¿æ¥æ˜¯æŠŠåŒä¸€å¼ è¡¨è¿›è¡Œè”è¡¨æŸ¥çš„æ–¹å¼ï¼Œè‡ªè¿æ¥çš„å¥½å¤„åœ¨äºå¯¹äºé‚£äº›åªåœ¨ä¸€å¼ è¡¨ä½¿ç”¨å­æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥è€ƒè™‘è‡ªè¿æ¥ï¼Œå› ä¸ºè‡ªè¿æ¥çš„æ€§èƒ½é€šå¸¸ä¼šæ¯”å­æŸ¥è¯¢è¦å¥½ï¼ˆéœ€è¦ä½ è‡ªå·±æµ‹è¯•ï¼‰ã€‚\n\nä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰å¼ æ•™å¸ˆè¡¨ï¼Œæˆ‘ä»¬éœ€è¦ä»è¯¥è¡¨ä¸­æŸ¥è¯¢å‡ºæ‰€æœ‰ç§‘ç›®ç­‰äº**idä¸º1çš„è€å¸ˆçš„ç§‘ç›®**çš„æ•™å¸ˆå§“åï¼Œæ­¤æ—¶å¦‚æœä½¿ç”¨å­æŸ¥è¯¢åˆ™å¯ä»¥ï¼š\n\n```sql\nselect name, subject from teachers where subject = (select subject from teachers where id = 1);\n```\n\nè‡ªè¿æ¥çš„æ–¹å¼ï¼š\n\n```sql\nselect t1.name, t1.subject from teachers t1, teachers t2 where t1.subject = t2.subject and t2.id = 1;\n```\n\n:::tip\næ›´å¤šå‚è€ƒï¼š[å®˜æ–¹æ‰‹å†Œ - JOIN Clause](https://dev.mysql.com/doc/refman/8.0/en/join.html)\n:::\n\n### 5.3 ç»„åˆæŸ¥è¯¢ï¼ˆunionï¼‰\n\nç»„åˆæŸ¥è¯¢å…¶å®å°±æ˜¯æŠŠå¤šä¸ªæŸ¥è¯¢ç»“æœè¿›è¡Œå¹¶é›†å¤„ç†ã€‚åœ¨ä¸Šè¿°è¿è¡¨æŸ¥è¯¢ä¸­æˆ‘ä»¬æåˆ°è¿‡ä½¿ç”¨ç»„åˆæŸ¥è¯¢å®ç°å…¨è¿æ¥ï¼Œé€šè¿‡å·¦è¿æ¥ä¸å³è¿æ¥è¿›è¡Œå¹¶é›†å¤„ç†ï¼Œè¿”å›çš„ç»“æœæ­£å¥½æ˜¯å…¨è¿æ¥ï¼Œé€šè¿‡ä¸Šè¿°çš„éŸ¦æ©å›¾ä¹Ÿå¯ä»¥éå¸¸ç›´è§‚çš„æ„Ÿå—åˆ°ã€‚\n\nç»„åˆæŸ¥è¯¢çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œä½†æ˜¯è¿™é‡Œä»ç„¶ç»™å‡ºä¸€ä¸ªä¾‹å­ï¼š\n\n```sql\nselect name, age, level from teachers where age \u003C= 30 union select name, age, level from teachers where level >= 3\n```\n\nä¸Šè¿°çš„éœ€æ±‚å¯èƒ½æ˜¯ï¼Œæœ€è¿‘å­¦æ ¡è¦é€‰å‡ºä¸€äº›æ•™å¸ˆï¼Œè¦æ±‚æ•™å¸ˆå¹´çºªæœ€å¥½è¦å°ï¼ˆ30ä¹‹å†…ï¼‰ï¼Œå¦‚æœå¹´çºªå¤§äº†çš„è¯ï¼Œé‚£ä¹ˆç­‰çº§å¿…é¡»å¤§äº3ï¼Œå› æ­¤ä½¿ç”¨å¹¶é›†å¤„ç†å°±å¯ä»¥è·å–æˆ‘ä»¬æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ•™å¸ˆã€‚\n\nä½ å¯èƒ½ä¼šç–‘æƒ‘åœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œä½¿ç”¨orä¸ä¹Ÿèƒ½å®Œæˆå˜›ã€‚äº‹å®ä¸Šè¿™é‡Œä»…ä»…æ˜¯ä¸ºäº†ä»‹ç»unionçš„ä½¿ç”¨ï¼Œå®é™…ä¸Šunionçš„ç»“æœé›†å¤§å¤šä¸åœ¨ä¸€å¼ è¡¨ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šå¦‚æ­¤ç®€å•ã€‚\n\n:::warning\nåœ¨ä½¿ç”¨unionæ—¶ï¼Œä½ åº”è¯¥æ³¨æ„ï¼Œunionå¿…é¡»è¿æ¥ä¸¤æ¡æˆ–ä»¥ä¸Šçš„selectè¯­å¥ï¼Œå¹¶ä¸”æ¯ä¸ªæŸ¥è¯¢å¿…é¡»åŒ…å«ç›¸åŒçš„åˆ—ï¼Œè¡¨è¾¾å¼æˆ–è€…èšé›†å‡½æ•°ï¼ˆé¡ºåºå¯ä»¥ä¸åŒï¼‰ï¼Œæ­¤å¤–ï¼Œåˆ—çš„æ•°æ®ä¹Ÿå¿…é¡»å…¼å®¹ï¼ˆä¸å¿…å®Œå…¨ç›¸åŒï¼Œä½†éœ€è¦èƒ½éšå¼è½¬æ¢ï¼‰ã€‚\n:::\n\n:::warning\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œunioné»˜è®¤ä¼šåˆå¹¶é‡å¤è¡Œï¼Œæ¯”å¦‚ä¸Šæ–¹çš„ä¾‹å­ä¸­åœ¨30å²ä»¥ä¸‹çš„åŒæ—¶levelå¤§äº3çš„æ•™å¸ˆå°±ä¼šè¢«è‡ªåŠ¨åˆå¹¶ï¼Œå¦‚æœä¸æƒ³è¢«åˆå¹¶å¯ä»¥ä½¿ç”¨`union all`å³å¯ã€‚\n:::\n\n:::warning\nå¯¹unionçš„æ’åºä¸åº”è¯¥å¯¹å•ç‹¬çš„selectè¯­å¥è¿›è¡Œæ’åºï¼Œè€Œæ˜¯åº”è¯¥åœ¨æœ€åè¿›è¡Œä¸€ä¸ª`order by`æ’åºå³å¯ã€‚\n:::\n\n### 5.4 å…¨æ–‡ç´¢å¼•ï¼ˆfulltext indexï¼‰\n\n\n```\næ‰‹å†Œå‚è€ƒï¼š\n- [å®˜æ–¹æ‰‹å†Œ8.0 - å…¨æ–‡ç´¢å¼•åŠŸèƒ½](https://dev.mysql.com/doc/refman/8.0/en/fulltext-search.html)\n- [å®˜æ–¹æ‰‹å†Œ8.0 - InnoDBå…¨æ–‡ç´¢å¼•](https://dev.mysql.com/doc/refman/8.0/en/innodb-fulltext-index.html)\n```\n\nå…¨æ–‡ç´¢å¼•é€šå¸¸ç”¨äºåŠ å¿«åŸºäºå¤§æ–‡æœ¬åˆ—çš„æŸ¥è¯¢ã€‚MySQLæ—©æœŸçš„åªæœ‰MyISAMå¼•æ“æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼Œä¸è¿‡åœ¨5.6ä¹‹åï¼ŒInnoDBå¼•æ“ä¹Ÿå¼€å§‹æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼Œä½†æ˜¯è¿™ä¸ªåˆ†è¯é»˜è®¤æ˜¯é’ˆå¯¹è‹±æ–‡çš„ï¼Œä¸­æ–‡çš„åˆ†è¯åœ¨5.7å¼€å§‹å†…ç½®äº†ngramæ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥æ”¯æŒä¸­æ–‡ã€æ—¥è¯­ã€éŸ©è¯­ï¼Œæ‰€ä»¥å¯¹äºæƒ³ä½¿ç”¨ä¸­æ–‡ç´¢å¼•çš„äººå»ºè®®ä½¿ç”¨5.7+çš„ç‰ˆæœ¬ã€‚\n\nInnoDBå…¨æ–‡ç´¢å¼•é‡‡ç”¨å€’æ’ç´¢å¼•è®¾è®¡ã€‚å€’æ’ç´¢å¼•å­˜å‚¨ä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œå¯¹äºæ¯ä¸ªå•è¯ï¼Œè¿˜æœ‰ä¸€ä¸ªè¯¥å•è¯å‡ºç°çš„æ–‡æ¡£åˆ—è¡¨ã€‚ä¸ºäº†æ”¯æŒé‚»è¿‘æœç´¢ï¼Œæ¯ä¸ªå•è¯çš„ä½ç½®ä¿¡æ¯ä¹Ÿè¢«ä½œä¸ºå­—èŠ‚åç§»è¿›è¡Œå­˜å‚¨ã€‚\n\nå¯¹äºå¤§å‹æ•°æ®é›†ï¼Œå°†æ•°æ®åŠ è½½åˆ°æ²¡æœ‰FULLTEXTç´¢å¼•çš„è¡¨ç„¶ååˆ›å»ºç´¢å¼•æ¯”å°†æ•°æ®åŠ è½½åˆ°å…·æœ‰ç°æœ‰FULLTEXTç´¢å¼•çš„è¡¨è¦å¿«å¾—å¤šã€‚\n\n\n- **å…¨æ–‡ç´¢å¼•çš„åˆ›å»ºä¸åˆ é™¤**\n\nåˆ›å»ºï¼š\n\n```sql\nCREATE TABLE opening_lines (\n       id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,\n       opening_line TEXT(500),\n       author VARCHAR(200),\n       title VARCHAR(200),\n       FULLTEXT idx (opening_line)\n       ) ENGINE=InnoDB;\n```\n\n```sql\n CREATE FULLTEXT INDEX idx ON opening_lines(opening_line);\n```\n\n```sql\n-- æ­¤æ–¹æ³•æ·»åŠ çš„ç´¢å¼•åå³ä¸ºåˆ—å\nALTER TABLE opening_lines\nADD FULLTEXT(opening_line)\n```\n\n:::warning\nå°†å…¨æ–‡ç´¢å¼•æ·»åŠ åˆ°æ²¡æœ‰`FTS_DOC_ID`åˆ—çš„è¡¨æ—¶ï¼Œä¼šè¿”å›`InnoDB rebuilding table to add column FTS_DOC_ID`è­¦å‘Šã€‚\nå¦‚æœæ‚¨ä¸å…³å¿ƒ`CREATE FULLTEXT INDEX`æ€§èƒ½ï¼Œè¯·å¿½ç•¥è¯¥`FTS_DOC_ID`åˆ—ï¼Œ InnoDBä¸ºæ‚¨åˆ›å»ºå®ƒã€‚\n:::\n\nåˆ é™¤ï¼š\n\n```sql\ndrop index idx on opening_lines\n```\n\næˆ–è€…\n\n```sql\nalter table opening_lines drop index idx\n```\n\n- **ä½¿ç”¨å…¨æ–‡ç´¢å¼•**\n\né€šè¿‡åœ¨whereä¹‹åæ·»åŠ `match()`,`against()`å³å¯æ ¹æ®å…¨æ–‡ç´¢å¼•æœç´¢ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨é»˜è®¤åˆ†è¯æ’ä»¶ä¸‹ï¼Œé€šå¸¸æ˜¯é€šè¿‡ç©ºæ ¼,é€—å·ï¼Œå¥å·è¿›è¡Œåˆ†è¯ï¼Œå¹¶ä¸”è¾ƒçŸ­çš„å­—ç¬¦ä¸²ï¼ˆé»˜è®¤æ˜¯3ï¼‰æ˜¯ä¸ä¼šè¢«æ”¶å½•åˆ°å•è¯åˆ—è¡¨ã€‚\n\n```sql\nselect opening_line from opening_lines where match(opening_line) against('xxx')\n```\n\n:::tip\né»˜è®¤æƒ…å†µä¸‹ï¼Œæœç´¢ä»¥ä¸åŒºåˆ†å¤§å°å†™çš„æ–¹å¼æ‰§è¡Œã€‚è¦æ‰§è¡ŒåŒºåˆ†å¤§å°å†™çš„å…¨æ–‡æœç´¢ï¼Œè¯·å¯¹ç´¢å¼•åˆ—ä½¿ç”¨åŒºåˆ†å¤§å°å†™æˆ–äºŒè¿›åˆ¶æ’åºè§„åˆ™ã€‚ä¾‹å¦‚ï¼Œutf8mb4 å¯ä»¥ä¸ºä½¿ç”¨å­—ç¬¦é›†çš„åˆ—åˆ†é…æ’åºè§„åˆ™ utf8mb4_0900_as_csæˆ– utf8mb4_binä½¿å…¶åŒºåˆ†å¤§å°å†™ä»¥è¿›è¡Œå…¨æ–‡æœç´¢ã€‚\n:::\n\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨likeæ“ä½œä¹Ÿèƒ½å®Œæˆç±»ä¼¼çš„æ“ä½œï¼Œä½†æ˜¯likeçš„æ•ˆç‡æ¯”è¾ƒä½ï¼ˆç²¾åº¦é«˜ï¼‰ã€‚è€Œå…¨æ–‡ç´¢å¼•é™ä½äº†ä¸€äº›ç²¾åº¦ï¼Œæ¢æ¥åˆ†æç»“æœç›¸å…³åº¦ï¼Œè¿™ä¸€ç‚¹æ˜¯éå¸¸é‡è¦çš„ï¼Œåœ¨ä¸‹é¢æˆ‘ä»¬å°†ç»§ç»­é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ä»‹ç»å¦‚ä½•æŸ¥è¯¢ç»“æœç›¸å…³åº¦æˆ–è€…æƒé‡ã€‚\n\n```sql\nselect opening_line, match(opening_line) against('xxx') as weight from opening_lines\n```\n\n é€šè¿‡å°†`match(opening_line) against('xxx')`ä½œä¸ºå­—æ®µï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ¯åˆ—å¯¹äºè¯¥ç´¢å¼•æ¡ä»¶çš„æƒé‡ã€‚\n\n é»˜è®¤é€šè¿‡å…¨æ–‡ç´¢å¼•æŸ¥è¯¢çš„ç»“æœå°±æ˜¯æ ¹æ®æƒé‡è¿›è¡Œæ’åºçš„ï¼Œè¿™ä¸€ç‚¹æ˜¯`like`è¿™ç§é«˜ç²¾åº¦ç¡¬åŒ¹é…æ‰€æ— æ³•åšåˆ°çš„ã€‚\n\n åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ä»‹ç»å…¨æ–‡ç´¢å¼•çš„å·¥ä½œæ¨¡å¼ï¼Œ**é»˜è®¤æƒ…å†µä¸‹**ï¼Œå…¨æ–‡ç´¢å¼•ä½¿ç”¨**è‡ªç„¶è¯­è¨€æ¨¡å¼**ï¼Œå³`IN NATURAL LANGUAGE MODE`ï¼Œé™¤äº†è¯¥æ¨¡å¼å¤–ï¼Œè¿˜æœ‰**å¸ƒå°”æ¨¡å¼**å’Œ**æŸ¥è¯¢æ‰©å±•æ¨¡å¼**ã€‚\n\næ›´å¤šå‚è€ƒï¼š[å®˜æ–¹æ‰‹å†Œ8.0 - è‡ªç„¶è¯­è¨€å…¨æ–‡æœç´¢](https://dev.mysql.com/doc/refman/8.0/en/fulltext-natural-language.html)\n\n**å¸ƒå°”æ¨¡å¼**ï¼šå¸ƒå°”æ¨¡å¼é€šå¸¸å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¸€äº›é€»è¾‘åˆ¤æ–­ï¼Œæ¯”å¦‚åˆ¤æ–­æŸäº›å•è¯å­˜åœ¨åŒæ—¶æŸäº›å•è¯ä¸å­˜åœ¨å¯ä»¥è¿™æ ·ï¼š\n\n```sql\nSELECT * FROM articles WHERE MATCH (title,body)\n    AGAINST ('+MySQL -YourSQL' IN BOOLEAN MODE);\n```\n\nåœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ`+`å’Œ`-`è¿ç®—ç¬¦åˆ†åˆ«æŒ‡ç¤ºä¸€ä¸ªè¯å¿…é¡»å­˜åœ¨æˆ–ä¸å­˜åœ¨ï¼Œ`IN BOOLEAN MODE`ç”¨äºç¡®å®šé‡‡ç”¨å¸ƒå°”æ¨¡å¼ã€‚\n\né™¤äº†`+`å’Œ`-`ä¹‹å¤–è¿˜æœ‰è®¸å¤šå…¶ä»–çš„è¿ç®—ç¬¦ï¼ŒåŒæ—¶å¸ƒå°”æŸ¥è¯¢ä¹Ÿä¸ä¼šæŒ‰ç…§ç›¸å…³åº¦è¿›è¡Œæ’åºã€‚\n\næ›´å¤šå‚è€ƒï¼š[å®˜æ–¹æ‰‹å†Œ8.0 - å¸ƒå°”å…¨æ–‡æœç´¢](https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html)\n\n **æŸ¥è¯¢æ‰©å±•æ¨¡å¼**ï¼šå¦‚æœä½ æƒ³å¯¹ç»“æœè¿›è¡Œæ‰©å±•ï¼ˆå³ä½¿ç»“æœä¸åŒ…å«ç›¸å…³å…³é”®è¯ï¼‰ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨`with query expansion`ã€‚\n\n ```sql\nselect opening_line from opening_lines where match(opening_line) against('xxx' with query expansion)\n ```\n\n ä¸¾ä¸ªä¾‹å­ï¼Œä½ éœ€è¦æŸ¥è¯¢çš„è¯ä¸º`Newtons`ï¼Œç°åœ¨æœ‰ä¸€æ¡è®°å½•ä¸º`Apple fell on Newton's head.`ï¼Œé‚£ä¹ˆä¸ä¹‹ç›¸å…³è¯çš„å°±å¯èƒ½æ˜¯`head`ï¼Œæ‰€ä»¥ç»“æœå¯èƒ½å°±ä¼šè¿”ä¼šåŒ…å«`head`çš„è®°å½•ã€‚\n\næ›´å¤šå‚è€ƒï¼š[å®˜æ–¹æ‰‹å†Œ8.0 - å¸¦æœ‰æŸ¥è¯¢æ‰©å±•çš„å…¨æ–‡æœç´¢](https://dev.mysql.com/doc/refman/8.0/en/fulltext-query-expansion.html)\n\n\n- **ngram å…¨æ–‡è§£æå™¨**\n\nngramæ˜¯`mysql 5.7`å¼€å§‹å†…ç½®çš„ä¸­æ–‡åˆ†è¯æ’ä»¶ï¼Œæ ¹æ®næ¥ç¡®å®šåˆ†è¯åŸºæ•°çš„ï¼Œåœ¨ä¸­æ–‡æƒ…å†µä¸‹ï¼Œè¯è¯­é€šå¸¸ä¸ºä¸¤ä¸ªå­—ï¼Œæ‰€ä»¥ngramé»˜è®¤çš„token sizeå°±æ˜¯2ï¼Œä½†æ˜¯è¿™ä¸ªå€¼ä¹Ÿå¯ä»¥è¿›è¡Œé…ç½®ï¼Œå–å€¼èŒƒå›´ä¸º[1,10].\n\n1. å‘½ä»¤è¡Œå‚æ•°é…ç½®ï¼š`mysqld --ngram_token_size=2`\n2. é…ç½®æ–‡ä»¶ï¼š\n``` ini\n[mysqld]\nngram_token_size=2\n```\n\nåˆ›å»ºæ—¶æŒ‡å®šngramä½œä¸ºè§£æå™¨ï¼š\n\n```sql\nCREATE TABLE articles (\n      id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,\n      title VARCHAR(200),\n      body TEXT,\n      FULLTEXT (title,body) WITH PARSER ngram\n    ) ENGINE=InnoDB CHARACTER SET utf8mb4;\n\nCREATE FULLTEXT INDEX ft_index ON articles (title,body) WITH PARSER ngram;\n\nALTER TABLE articles ADD FULLTEXT INDEX ft_index (title,body) WITH PARSER ngram;\n```\n\n:::warning\né»˜è®¤æƒ…å†µä¸‹ï¼Œngram è§£æå™¨ä½¿ç”¨é»˜è®¤åœç”¨è¯åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«è‹±æ–‡åœç”¨è¯åˆ—è¡¨ã€‚å¯¹äºé€‚ç”¨äºä¸­æ–‡ã€æ—¥è¯­æˆ–éŸ©è¯­çš„åœç”¨è¯åˆ—è¡¨ï¼Œæ‚¨å¿…é¡»åˆ›å»ºè‡ªå·±çš„åœç”¨è¯åˆ—è¡¨ã€‚æœ‰å…³åˆ›å»ºåœç”¨è¯åˆ—è¡¨çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…[å…¨æ–‡åœç”¨è¯](https://dev.mysql.com/doc/refman/8.0/en/fulltext-stopwords.html)ã€‚\n\nGithubä¸­æ–‡åœç”¨è¯ä»“åº“: [https://github.com/goto456/stopwords](https://github.com/goto456/stopwords)\n:::\n\nå¯¹äº**è‡ªç„¶è¯­è¨€æ¨¡å¼**ï¼Œæœç´¢è¯è¢«è½¬æ¢ä¸ºngram**è¯çš„è”åˆ**ã€‚ä¾‹å¦‚é»˜è®¤åˆ†è¯åŸºæ•°ï¼ˆ2ï¼‰çš„æƒ…å†µä¸‹ï¼Œâ€œé•¿å®‰åŸâ€å°†è¢«åˆ†è§£æˆâ€œé•¿å®‰ å®‰åŸâ€ï¼Œå¦‚æœç°åœ¨æœ‰ä¸¤æ¡è®°å½•ï¼Œåˆ†åˆ«åŒ…å«â€œé•¿å®‰â€ï¼Œâ€œé•¿å®‰åŸâ€ï¼Œé‚£ä¹ˆåœ¨è‡ªç„¶è¯­è¨€æ¨¡å¼ä¸‹ï¼Œä»–ä»¬éƒ½å°†è¢«åŒ¹é…ã€‚\n\nå¯¹äº**å¸ƒå°”æ¨¡å¼**ï¼Œæœç´¢è¯å°†è½¬æ¢ä¸ºngram**çŸ­è¯­æœç´¢**ï¼ŒåŒæ ·åœ¨ä¸Šè¿°æƒ…å†µï¼Œåˆ™åªæœ‰â€œé•¿å®‰åŸâ€è¢«åŒ¹é…ã€‚\n\nå¦‚æœä½ æƒ³æŸ¥è¯¢åˆ†è¯çš„ç»“æœï¼Œå®˜æ–¹æœ‰ä¸ªç¤ºä¾‹ï¼š\n\n```sql\nmysql> USE test;\n\nmysql> CREATE TABLE articles (\n      id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,\n      title VARCHAR(200),\n      body TEXT,\n      FULLTEXT (title,body) WITH PARSER ngram\n    ) ENGINE=InnoDB CHARACTER SET utf8mb4;\n\nmysql> SET NAMES utf8mb4;\n\nINSERT INTO articles (title,body) VALUES\n    ('æ•°æ®åº“ç®¡ç†','åœ¨æœ¬æ•™ç¨‹ä¸­æˆ‘å°†å‘ä½ å±•ç¤ºå¦‚ä½•ç®¡ç†æ•°æ®åº“'),\n    ('æ•°æ®åº“åº”ç”¨å¼€å‘','å­¦ä¹ å¼€å‘æ•°æ®åº“åº”ç”¨ç¨‹åº');\n\nmysql> SET GLOBAL innodb_ft_aux_table=\"test/articles\";\n\nmysql> SELECT * FROM INFORMATION_SCHEMA.INNODB_FT_INDEX_CACHE ORDER BY doc_id, position;\n```\n\næ›´å¤šå‚è€ƒï¼š[å®˜æ–¹æ‰‹å†Œ8.0 - ngram å…¨æ–‡è§£æå™¨](https://dev.mysql.com/doc/refman/8.0/en/fulltext-search-ngram.html)\n\n### 5.5 è§†å›¾ï¼ˆviewï¼‰\n\nåœ¨ SQL ä¸­ï¼Œè§†å›¾æ˜¯åŸºäº SQL è¯­å¥çš„ç»“æœé›†çš„å¯è§†åŒ–çš„**è™šæ‹Ÿ**è¡¨ã€‚\n\nè§†å›¾åŒ…å«è¡Œå’Œåˆ—ï¼Œå°±åƒä¸€ä¸ªçœŸå®çš„è¡¨ã€‚è§†å›¾ä¸­çš„å­—æ®µå°±æ˜¯æ¥è‡ªä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“ä¸­çš„çœŸå®çš„è¡¨ä¸­çš„å­—æ®µã€‚æˆ‘ä»¬å¯ä»¥å‘è§†å›¾æ·»åŠ  SQL å‡½æ•°ã€WHERE ä»¥åŠ JOIN è¯­å¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æäº¤æ•°æ®ï¼Œå°±åƒè¿™äº›æ¥è‡ªäºæŸä¸ªå•ä¸€çš„è¡¨ã€‚\n\n:::tip\n- æ•°æ®åº“çš„è®¾è®¡å’Œç»“æ„ä¸ä¼šå—åˆ°è§†å›¾ä¸­çš„å‡½æ•°ã€where æˆ– join è¯­å¥çš„å½±å“ã€‚\n- è§†å›¾æ€»æ˜¯æ˜¾ç¤ºæœ€è¿‘çš„æ•°æ®ã€‚æ¯å½“ç”¨æˆ·æŸ¥è¯¢è§†å›¾æ—¶ï¼Œæ•°æ®åº“å¼•æ“é€šè¿‡ä½¿ç”¨ SQL è¯­å¥æ¥é‡å»ºæ•°æ®ã€‚\n:::\n\n:::warning\n- è§†å›¾åä¸è¡¨åä¸å¯é‡å¤ã€‚\n- ä½¿ç”¨å¤æ‚è§†å›¾å‰è¯·æµ‹è¯•æ€§èƒ½ã€‚\n:::\n\n**è§†å›¾çš„å¥½å¤„**\n\n1. é‡ç”¨sql\n2. ç®€åŒ–sql\n3. ä¿æŠ¤æ•°æ®ï¼Œåªèƒ½æ“ä½œè¡¨çš„ç‰¹å®šéƒ¨åˆ†\n\n**åŸºæœ¬ç”¨æ³•**\n\n```sql\n# åˆ›å»ºè§†å›¾\nCREATE VIEW [Products Above Average Price] AS\nSELECT ProductName,UnitPrice\nFROM Products\nWHERE UnitPrice>(SELECT AVG(UnitPrice) FROM Products);\n# æŸ¥è¯¢è§†å›¾\nSELECT * FROM [Products Above Average Price];\n# æŸ¥çœ‹è§†å›¾åˆ›å»ºè¿‡ç¨‹\nSHOW CREATE VIEW [Products Above Average Price];\n# æ›´æ–°è§†å›¾\nCREATE OR REPLACE VIEW [è§†å›¾å] AS\nSELECT column_name(s)\nFROM table_name\nWHERE condition;\n# åˆ é™¤è§†å›¾\nDROP VIEW [è§†å›¾å];\n```\n\n### 5.6 å­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰\n\nå­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰æ˜¯åœ¨å¤§å‹æ•°æ®åº“ç³»ç»Ÿä¸­ï¼Œ**ä¸€ç»„ä¸ºäº†å®Œæˆç‰¹å®šåŠŸèƒ½çš„SQL è¯­å¥é›†**ã€‚\n\nå®ƒå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œä¸€æ¬¡ç¼–è¯‘åæ°¸ä¹…æœ‰æ•ˆï¼Œç”¨æˆ·é€šè¿‡æŒ‡å®šå­˜å‚¨è¿‡ç¨‹çš„åå­—å¹¶ç»™å‡ºå‚æ•°ï¼ˆå¦‚æœè¯¥å­˜å‚¨è¿‡ç¨‹å¸¦æœ‰å‚æ•°ï¼‰æ¥æ‰§è¡Œå®ƒã€‚\n\n:::tip\nå­˜å‚¨è¿‡ç¨‹çš„ä¼˜ç‚¹ï¼šå¯é‡ç”¨ã€ä½¿ç”¨ç®€å•ã€å®‰å…¨ã€é«˜æ€§èƒ½ã€‚\n\nå­˜å‚¨è¿‡ç¨‹çš„åˆ›å»ºæƒé™ä¸æ‰§è¡Œæƒé™æ˜¯åˆ†å¼€çš„ã€‚\n:::\n\n:::warning\nä¸€èˆ¬æ¥è¯´ï¼Œå­˜å‚¨è¿‡ç¨‹çš„ç¼–å†™æ¯”åŸºæœ¬SQLè¯­å¥å¤æ‚ï¼Œç¼–å†™å­˜å‚¨è¿‡ç¨‹éœ€è¦æ›´é«˜çš„æŠ€èƒ½ï¼Œæ›´ä¸°å¯Œçš„ç»éªŒã€‚\n:::\n\nä»¥ä¸‹ä»…ä»‹ç»åŸºæœ¬çš„è¯­æ³•ï¼Œå®é™…ä¸Šçš„å­˜å‚¨è¿‡ç¨‹ååˆ†å¤æ‚ï¼Œå»ºè®®å‚è€ƒï¼š\n\n- [MySQL å­˜å‚¨è¿‡ç¨‹ | èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/w3cnote/mysql-stored-procedure.html)\n- [CREATE PROCEDURE and CREATE FUNCTION Statements | MySQL](https://dev.mysql.com/doc/refman/8.0/en/create-procedure.html)\n\n**åŸºæœ¬ç”¨æ³•**\n\n```sql\n# åˆ›å»ºå­˜å‚¨è¿‡ç¨‹\nCREATE PROCEDURE two_sum(\n\tin num1 int, # å…¥å‚\n\tin num2 int,\n\tout sum int # å‡ºå‚\n)\nbegin\n\tselect num1+num2 into sum;\nend;\n# æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹åˆ›å»ºè¿‡ç¨‹\nshow create procedure two_sum;\n# è°ƒç”¨å­˜å‚¨è¿‡ç¨‹\ncall two_sum(1,1,@ans);\n# æŸ¥è¯¢å­˜å‚¨è¿‡ç¨‹è¿”å›çš„å˜é‡\nselect @ans; # 2\n# åˆ é™¤å­˜å‚¨è¿‡ç¨‹\ndrop procedure two_sum;\n# ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹åªèƒ½æ”¹å˜å­˜å‚¨è¿‡ç¨‹çš„ç‰¹å¾ï¼Œä¸èƒ½ä¿®æ”¹è¿‡ç¨‹çš„å‚æ•°ä»¥åŠè¿‡ç¨‹ä½“ã€‚\nALTER PROCEDURE proc_name [characteristic ...]\n\ncharacteristic: {\n    COMMENT 'string'\n  | LANGUAGE SQL\n  | { CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA }\n  | SQL SECURITY { DEFINER | INVOKER }\n}\n```\n\n:::warning\né»˜è®¤çš„MySQLè¯­å¥åˆ†éš”ç¬¦ä¸º`;`ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯mysqlå‘½ä»¤è¡Œåˆ›å»ºå­˜å‚¨è¿‡ç¨‹ï¼Œåˆ™`;`ä¼šè¢«å¿½ç•¥è€Œå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚\nè§£å†³åŠæ³•æ˜¯ä¸´æ—¶æ›´æ”¹å‘½ä»¤è¡Œå®ç”¨ç¨‹åºçš„è¯­å¥åˆ†éš”ç¬¦\n```sql\n# ä¸´æ—¶ä¿®æ”¹ä¸º//\ndelimiter //\n# ä¿®æ”¹ä¸ºæ­£å¸¸æƒ…å†µ\ndelimiter ;\n```\n:::\n\n### 5.7 æ¸¸æ ‡ï¼ˆcursorï¼‰\n\næ¸¸æ ‡æ˜¯ä¸€ä¸ªå­˜å‚¨åœ¨MySQLæœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æŸ¥è¯¢ï¼Œ å®ƒä¸æ˜¯ä¸€æ¡SELECTè¯­å¥ï¼Œè€Œæ˜¯è¢«è¯¥è¯­å¥æ£€ç´¢å‡ºæ¥çš„ç»“æœé›†ã€‚\n\næ¸¸æ ‡åœ¨MySQLä¸­åªèƒ½ä¸å­˜å‚¨è¿‡ç¨‹ååŒä½¿ç”¨ã€‚\n\n**åŸºç¡€ä½¿ç”¨**\n\n```sql\ncreate procedure testcursor(out res int)\nbegin\n\n\t-- å®šä¹‰æœ¬åœ°å˜é‡done\n\tdeclare done boolean default 0;\n\n\t-- åˆ›å»ºæ¸¸æ ‡\n\tdeclare mycursor cursor\n\tfor\n\tselect id from gowow_admin;\n\n\n\t-- '02000'äº‹ä»¶(æœªæ‰¾åˆ°æ¡ä»¶ï¼Œfetchå¾ªç¯åˆ°æœ€åè§¦å‘)è§¦å‘è®¾ç½®doneå˜é‡\n\tdeclare continue handler for sqlstate '02000' set done = 1;\n\n\t-- æ‰“å¼€æ¸¸æ ‡\n\topen mycursor;\n\n\t-- å¾ªç¯\n\trepeat\n\t\t-- ä½¿ç”¨æ¸¸æ ‡\n\t\tfetch mycursor into res;\n\tuntil done end repeat;\n\n\t-- å…³é—­æ¸¸æ ‡\n\tclose mycursor;\nend;\n```\n\n:::warning\n**DECLAREè¯­å¥çš„æ¬¡åº**\n\nDECLAREè¯­å¥çš„å‘å¸ƒå­˜åœ¨ç‰¹å®šçš„æ¬¡åºã€‚ç”¨DECLAREè¯­å¥å®šä¹‰çš„å±€éƒ¨å˜é‡å¿…é¡»åœ¨å®šä¹‰ä»»æ„æ¸¸æ ‡æˆ–å¥æŸ„ä¹‹å‰å®šä¹‰ï¼Œè€Œå¥æŸ„å¿…é¡»åœ¨æ¸¸æ ‡ä¹‹åå®šä¹‰ã€‚ä¸éµå®ˆæ­¤é¡ºåºå°†äº§ç”Ÿé”™è¯¯æ¶ˆæ¯ã€‚\n:::\n\n### 5.8 è§¦å‘å™¨ï¼ˆtriggerï¼‰\n\nè§¦å‘å™¨æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ç›®å½•ä¸­çš„ä¸€ç»„SQLè¯­å¥ã€‚æ¯å½“ä¸è¡¨ç›¸å…³è”çš„**äº‹ä»¶**å‘ç”Ÿæ—¶ï¼Œå°±ä¼šæ‰§è¡Œæˆ–è§¦å‘SQLè§¦å‘å™¨ï¼Œä¾‹å¦‚**æ’å…¥**ï¼Œ**æ›´æ–°**æˆ–**åˆ é™¤**ã€‚\n\nè§¦å‘äº‹åˆ»æœ‰ä¸¤ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯`before`å’Œ`after`ã€‚\n\nä½¿ç”¨`before`å¯ä»¥ä½¿ç”¨`OLD`æ¥è·å–ä¿®æ”¹å‰çš„ä¸´æ—¶è¡¨æ•°æ®ã€‚\n\nä½¿ç”¨`after`å¯ä»¥ä½¿ç”¨`NEW`æ¥è·å–ä¿®æ”¹åçš„ä¸´æ—¶è¡¨æ•°æ®ã€‚\n\n**åŸºæœ¬ç”¨æ³•**\n\n```sql\n# åˆ›å»ºè§¦å‘å™¨ MySQL5ä¹‹åä¸å…è®¸è¿”å›ç»“æœ æ‰€ä»¥ä½¿ç”¨å˜é‡æ¥æ”¶\ncreate trigger mytrigger after insert on [è¡¨å]\nfor each row select \"my trigger is staring\" into @res;\n# åˆ é™¤è§¦å‘å™¨\ndrop trigger mytrigger;\n\n# è§¦å‘å™¨ä¸èƒ½è¢«æ›´æ–°\n```\n\næ›´å¤šå‚è€ƒï¼š[Trigger Syntax and Examples | MySQL](https://dev.mysql.com/doc/refman/8.0/en/trigger-syntax.html)\n\n### 5.9 äº‹åŠ¡ï¼ˆtransactionï¼‰\n\n**äº‹åŠ¡** çš„æ¦‚å¿µï¼šä¸€ç»„sqlè¯­å¥ï¼Œæˆ‘ä»¬éœ€è¦è®©å®ƒè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¸ç›´æ¥å¤±è´¥ã€‚å¤±è´¥æ—¶è§¦å‘çš„æ“ä½œç§°ä¹‹ä¸º**å›æ»šï¼ˆrollbackï¼‰**ï¼Œå½“ä¸”ä»…å½“äº‹åŠ¡å…¨éƒ¨æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œäº‹åŠ¡æ‰è¢«**æäº¤ï¼ˆcommitï¼‰**ã€‚åŒæ—¶äº‹åŠ¡ä¸­è¿˜å¯è®¾ç½®**ä¿ç•™ç‚¹ï¼ˆsavepointï¼‰**ï¼Œå®ƒå¯ä»¥ä»…å›æ»šåˆ°æŸä¸ªçŠ¶æ€è€Œä¸æ˜¯å›é€€æ•´ä¸ªäº‹åŠ¡ã€‚\n\n**åŸºæœ¬ä½¿ç”¨**\n\n```sql\nstart transaction;\n# ä¸€äº›æ“ä½œ\n...\nsavepoint sp1;\n...\nrollback to sp1;\n...\nrollback;\ncommit;\n```\n\nMySQLé»˜è®¤çŠ¶æ€ä¸‹`autocommit = 1`ï¼Œæ‰€ä»¥ä½ æ¯æ¬¡è¾“å…¥SQLè¯­å¥éƒ½ä¼šè‡ªåŠ¨æäº¤å¹¶ç«‹å³ç”Ÿæ•ˆï¼Œä½ å¯ä»¥é€šè¿‡è®¾ç½®`set autocommit = 0`æ¥å…³é—­è‡ªåŠ¨æäº¤ã€‚\n\næ›´å¤šå‚è€ƒï¼š[START TRANSACTION, COMMIT, and ROLLBACK Statements | MySQL](https://dev.mysql.com/doc/refman/8.0/en/commit.html)\n\n## 6. ä¸€äº›æç¤ºä¸å»ºè®®\n\n### 6.1 selectè¯­å¥çš„å…³é”®å­—é¡ºåº\n\nä¾æ¬¡ä¸ºï¼Œ`select`ã€`from`ã€`where`ã€`group by`ã€`having`ã€`order by`ã€`limit`\n\n## 7. å¸¸è§SQLè¯­å¥\n\n### 7.1 æ•°æ®åº“ç›¸å…³\n\n```sql\n# åˆ›å»ºæ•°æ®åº“\ncreate database [æ•°æ®åº“å] character set [å­—ç¬¦ç¼–ç ];\n# æŸ¥çœ‹æ•°æ®åº“\nshow databases;\n# æŸ¥çœ‹æ•°æ®åº“åˆ›å»ºè¯¦æƒ…\nshow create database [æ•°æ®åº“åå­—];\n# ä¿®æ”¹æ•°æ®åº“ç¼–ç \nalter database [æ•°æ®åº“å] character set [å­—ç¬¦ç¼–ç ];\n# åˆ‡æ¢å½“å‰æ•°æ®åº“\nuse [æ•°æ®åº“å];\n# åˆ é™¤æ•°æ®åº“\ndrop database [æ•°æ®åº“å];\n```\n\n### 7.2 è¡¨ç›¸å…³\n\n```sql\n# åˆ›å»ºè¡¨æ ¼\ncreate table [è¡¨å]\n(\n\tid int not null auto_increment,\n    name varchar(255) not null,\n    email varchar(255) null\n    enable tinyint default 1\n    primary key (id)\n) engine = InnoDB;\n# æ–°å¢åˆ—\nalter table [è¡¨å] add age int(1);\n# åˆ é™¤åˆ—\nalter table [è¡¨å] drop column age;\n# é‡å‘½åè¡¨\nrename table [æ—§è¡¨å] to [æ–°è¡¨å];\n# åˆ é™¤è¡¨\ndrop table [è¡¨å];\n```\n\n### 7.3 ç”¨æˆ·æƒé™ç›¸å…³\n\n```sql\n# åˆ‡æ¢åˆ°mysqlæ•°æ®åº“\nuse mysql;\n# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·\nselect user from user;\n# æ–°å»ºç”¨æˆ·\ncreate user 'test' identified by 'password';\n# ç»‘å®šä¸»æœº\n# create user 'test'@`localhost` identified by 'password';\n# é‡å‘½åç”¨æˆ·\nrename user `test` to `test2`;\n# ä¿®æ”¹å¯†ç \nalter user root identified by '123456';\n# ä¿®æ”¹å½“å‰ç”¨æˆ·å¯†ç \nset password = '123456';\n# ä¿®æ”¹å…¶ä»–å¯†ç \nset password for test2 = 'password';\n#æŸ¥çœ‹æƒé™\nshow grants for `test2`; # é»˜è®¤æœ‰ä¸ªusageæƒé™ï¼Œå…¶å®å°±æ˜¯æ— æƒé™\n# èµ‹äºˆå…¨æ•°æ®è¡¨æŸ¥è¯¢æƒé™\ngrant select on learningmysql.* to test2;\n# æ’¤é”€æƒé™\nrevoke select on learningmysql.* from test2;\n# åˆ é™¤ç”¨æˆ·\ndrop user 'test2';\n# æ›´å¤šå‚è€ƒï¼šhttps://dev.mysql.com/doc/refman/8.0/en/grant.html\n```\n\n### 7.4 å­—ç¬¦é›†ç›¸å…³\n\n```sql\n# æŸ¥çœ‹å­—ç¬¦é›†\nshow character set;\n# æŸ¥çœ‹æ ¡å¯¹é¡ºåº\nshow collation;\n```\n\n\n","post/2021/20210812/":"\n\u003CBadge text = 'ç®€å•' type = 'tip' />\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/fibonacci-number/](https://leetcode-cn.com/problems/fibonacci-number/)\n\n## é¢˜ç›®æè¿°\n\næ–æ³¢é‚£å¥‘æ•°ï¼Œé€šå¸¸ç”¨ F(n) è¡¨ç¤ºï¼Œå½¢æˆçš„åºåˆ—ç§°ä¸º æ–æ³¢é‚£å¥‘æ•°åˆ— ã€‚è¯¥æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œåé¢çš„æ¯ä¸€é¡¹æ•°å­—éƒ½æ˜¯å‰é¢ä¸¤é¡¹æ•°å­—çš„å’Œã€‚ä¹Ÿå°±æ˜¯ï¼š\n\n> F(0) = 0ï¼ŒF(1) = 1\nF(n) = F(n - 1) + F(n - 2)ï¼Œå…¶ä¸­ n > 1\n\nç»™ä½  n ï¼Œè¯·è®¡ç®— F(n) ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼š2\nè¾“å‡ºï¼š1\nè§£é‡Šï¼šF(2) = F(1) + F(0) = 1 + 0 = 1\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼š3\nè¾“å‡ºï¼š2\nè§£é‡Šï¼šF(3) = F(2) + F(1) = 1 + 1 = 2\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥ï¼š4\nè¾“å‡ºï¼š3\nè§£é‡Šï¼šF(4) = F(3) + F(2) = 2 + 1 = 3\n:::\n\n:::details{text=\"æç¤º\"}\n`0 \u003C= n \u003C= 30`\n:::\n\n## Pythoné¢˜è§£\n\n\n### ä¸ªäººé¢˜è§£ï¼šé€’å½’\n```python\nclass Solution(object):\n    def fib(self, n):\n        \"\"\"\n        :type n: int\n        :rtype: int\n        \"\"\"\n        def getfn(n):\n            if n == 0 or n == 1:\n                return n\n            else:\n                return getfn(n - 1) + getfn(n - 2)\n\n        return getfn(n)\n```\n\n### å®˜æ–¹é¢˜è§£ï¼šåŠ¨æ€è§„åˆ’\n\n```python\nclass Solution(object):\n    def fib(self, n):\n        \"\"\"\n        :type n: int\n        :rtype: int\n        \"\"\"\n        if n \u003C 2:\n            return n\n        p, q, r = 0, 0, 1\n        for _ in range(1, n):  # å®˜æ–¹æ˜¯è¿™æ ·çš„ for i in range(2, n+1)\n            p, q = q, r\n            r = p + q\n        return r\n```\n\n## æ€»ç»“\n\nç»å…¸é€’å½’ï¼Œæ²¡å•¥è¯´çš„ã€‚\n\nåŠ¨æ€è§„åˆ’ï¼Œæ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œä¸é”™çš„æ€è·¯ã€‚\n\nå…¶å®å®˜æ–¹è¿˜æœ‰çŸ©é˜µå¿«é€Ÿå¹‚ä¸é€šé¡¹å…¬å¼çš„è§£ï¼Œæ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œäº†è§£ä¸‹ã€‚[æ–æ³¢é‚£å¥‘æ•°å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/fibonacci-number/solution/fei-bo-na-qi-shu-by-leetcode-solution-o4ze/)\n","post/2021/20210813/":"\n\u003CBadge text = 'å›°éš¾' type = 'error' />\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/number-of-digit-one/](https://leetcode-cn.com/problems/number-of-digit-one/)\n\n## é¢˜ç›®æè¿°\n\nç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œè®¡ç®—æ‰€æœ‰å°äºç­‰äº n çš„éè´Ÿæ•´æ•°ä¸­æ•°å­— 1 å‡ºç°çš„ä¸ªæ•°ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼šn = 13\n\nè¾“å‡ºï¼š6\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼šn = 0\n\nè¾“å‡ºï¼š0\n:::\n\n:::details{text=\"æç¤º\"}\n`0 \u003C= n \u003C= 2 * 10^9`\n:::\n\n## Pythoné¢˜è§£\n\nä¹‹å‰å°è¯•äº†ä¸ªæš´åŠ›è§£ï¼Œä½†æ˜¯æµ‹è¯•æ•°æ®è¾ƒå¤§ï¼ŒåŸºæœ¬ä¸å­˜åœ¨æš´åŠ›è§£ï¼Œä½†è¿˜æ˜¯è´´ä¸ªä»£ç \n\n```python\nclass Solution(object):\n    def countDigitOne(self, n):\n        \"\"\"\n        :type n: int\n        :rtype: int\n        \"\"\"\n        count = 0\n        for i in range(n + 1):\n            numlist = list(str(i))\n            for j in range(len(numlist)):\n                if numlist[j] == '1':\n                    count += 1\n        return count\n```\n\n### ç¤¾åŒºé¢˜è§£\n\næš´åŠ›è§£ä¹‹åï¼Œå°è¯•äº†å¦ä¸€ä¸ªæ€è·¯ï¼Œä½†æ˜¯æ²¡æ¨å‡ºå…¬å¼ï¼Œç„¶åå°±åœ¨å®˜è§£çš„è¯„è®ºåŒºçœ‹åˆ°äº†è¿™ä¸ªåŒæ€è·¯è§£ï¼Œå°±æŠ„äº†ä¸‹æ¥ã€‚\n\nè´´ä¸€ä¸‹å¤§ä½¬çš„è¯„è®ºåœ°å€ï¼š[é€†æ¨¡å›  - æ•°å­— 1 çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-digit-one/solution/shu-zi-1-de-ge-shu-by-leetcode-solution-zopq/1077672/)\n\n```python\n\"\"\"\nä»ä½å¾€é«˜ä½ï¼Œè®¡ç®—æ¯ä¸€ä½çš„æ•°é‡ï¼š\nç¬¬1ä½ä¸Šçš„1æœ‰ï¼š1 + (n - 1) / 10\nç¬¬2ä½ä¸Šçš„1æœ‰ï¼š(1 + (n / 10 - 1) / 10) * 10\nç¬¬3ä½ä¸Šçš„1æœ‰ï¼š(1 + (n / 100 - 1) / 10) * 100\n...\nç¬¬k + 1ä½ä¸Šçš„1æœ‰ï¼š(1 + (n / (10 ^ k) - 1) / 10) * (10 ^ k)\nå¦‚æœnçš„ç¬¬k + 1ä½ä¸Šæ˜¯1ï¼Œåˆ™è¯´æ˜å¯èƒ½æ²¡æœ‰å¡«æ»¡è¯¥ä½ï¼Œè®¡ç®—ç¬¬k + 1ä½çš„æ•°é‡æ—¶è¿˜è¦ - 10 ^ k + 1 + n % (10 ^ k)ï¼Œç›¸å½“äºç‹¬ç«‹è®¡ç®—\n\"\"\"\nclass Solution(object):\n    def countDigitOne(self, n):\n        \"\"\"\n        :type n: int\n        :rtype: int\n        \"\"\"\n        m, ans = 1, 0\n        while n >= m:\n            ans += (1 + (n // m - 1) // 10) * m\n            if n // m % 10 == 1:\n                ans = ans - m + 1 + n % m\n            m *= 10\n        return ans\n```\n\n### å®˜æ–¹é¢˜è§£\n\n```python\ndef countDigitOne(n: int) -> int:\n    \"\"\"\n    åˆ†åˆ«ç»Ÿè®¡å„ä½å¯èƒ½å‡ºç°çš„çš„1\n    -----------------------ä¸ªä½---------------------------\n    æ¯”å¦‚1234ï¼Œä¸ªä½ä¸Šä¼šå‡ºç°1çš„æƒ…å†µï¼Œ 01ï¼Œ11 21 ... 1231\n    loop = 1234 // 10 = 123ï¼Œå³ä¼šå‡ºç°123æ¬¡è¿™æ ·çš„å¾ªç¯åŒºé—´ [1,10 ]ï¼Œ[11, 20]...[1220, 1230]\n    æ¯ä¸ªloop[0, 10]ä»…æœ‰1ä½ä¸ªä½1ï¼Œæ‰€ä»¥æ‰€æœ‰å¾ªç¯çš„ä¸ªä½1æ€»æ•°ä½ 123 * 1\n    æ¥ä¸‹æ¥åªè¦å–å¾—å‰©ä½™éƒ¨åˆ†å¯èƒ½å‡ºç°1çš„æƒ…å†µ\n    rest = 1234 % 10 = 4 è¿™ä¸ªä½™æ•°éœ€è¦åˆ†ä¸ºä¸¤ç§æƒ…å†µ\n    >= 1æ—¶ï¼Œä¼šå‡ºç°ä¸€æ¬¡ä¸ªä½1\n    \u003C 1æ—¶ï¼Œä¸ä¼šå‡ºç°ä¸ªä½1\n    sum += 123 * 1 + min(max(rest - 10^0 + 1, 0), 1)\n    -----------------------åä½---------------------------\n    åŒç†å¯å¾— åä½çš„ 1 çš„æƒ…å†µ\n    loop = 1234 // 10 ^ 2 = 12 å‡ºç°12æ¬¡å¾ªç¯åŒºé—´ æ€»å¾ªç¯åŒºé—´èŒƒå›´[0, 1200]\n    æ¯ä¸ªloop[0, 100]æœ‰10ä¸ªåä½1ï¼Œæ‰€ä»¥æ‰€æœ‰å¾ªç¯çš„ä¸ªä½1æ€»æ•°ä½ 12 * 10\n    å‰©ä½™éƒ¨åˆ† rest = 1234 % 100 = 34ï¼Œåˆ†ä¸ºä¸‰ç§æƒ…å†µ\n    \u003C 10 ä¸ä¼šå‡ºç°åä½1\n    >= 10 \u003C 20 ä¼šå‡ºç° rest - 10 + 1æ¬¡åä½1\n    >= 20 å‡ºç°å…¨éƒ¨ï¼ˆ10æ¬¡ï¼‰åä½1çš„æƒ…å†µ\n    sum += 34 * 10 + min(max((rest - 10^1 + 1), 0), 10)\n    -----------------------ç™¾ä½---------------------------\n    loop = 1234 / 10 ^ 3 = 1 æ€»åŒºé—´ [0, 1000]\n    æ¯ä¸ªåŒºé—´ä¸€å…±æœ‰100ä¸ªç™¾ä½1ï¼Œ1 * 100\n    rest = 1234 % 1000 = 234ï¼ŒåŒæ ·ä¸ºä¸‰ç§æƒ…å†µ\n    \u003C 100 ä¸ä¼šå‡ºç°ç™¾ä½1\n    >=100 \u003C 200 å‡ºç° rest - 100 + 1\n    >= 200 å‡ºç°å…¨éƒ¨100ä¸ª\n    sum += 1 * 100 + min(max(rest - 10^3 + 1, 0), 100)\n    -----------------------nä½---------------------------\n    ä»¥æ­¤ç±»æ¨åˆ°æ‰€æœ‰ä½...\n    \"\"\"\n    # mulkä¸º10^k\n    mulk, ans = 1, 0\n    while n >= mulk:\n        ans += (n // (mulk * 10) * mulk) + min(max(n % (mulk * 10) - mulk + 1, 0), mulk)\n        mulk *= 10\n    return ans\n```\n\n## æ€»ç»“\n\næš´åŠ›è§£ä¸å¯å–ï¼æœ€åå¥½å¥‡ä¸€ä¸‹æ—¶é—´çš„å·®è·ï¼Œå‘ç°å¤§ä½¬çš„ç®—æ³•ç®—`2*10^9000`æ¬¡æ–¹èŠ±äº†4sï¼Œè€Œå¦‚æœæ˜¯æš´åŠ›è§£è®¡ç®—`2*10^7`è¿™ä¸ªç”¨ä¾‹éƒ½å¾—14s...\n\nççˆ±ç”Ÿå‘½ï¼Œè¿œç¦»æš´åŠ›ã€‚\n\nçœ‹äº†å‡ å¤©çœ‹æ‡‚äº†å®˜è§£ï¼Œæœ‰ç”¨çš„çŸ¥è¯†å¢åŠ äº†\n\næ•°ä½dpçš„æ–¹æ³•è¿˜æ²¡æ‡‚ :(\n","post/2021/20210816/":"\n## ç¬¬ä¸€é¢˜ - ä½œä¸ºå­å­—ç¬¦ä¸²å‡ºç°åœ¨å•è¯ä¸­çš„å­—ç¬¦ä¸²æ•°ç›®\n\n\u003CBadge text = \"ç®€å•\" type = \"tip\" />\n\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/number-of-strings-that-appear-as-substrings-in-word](https://leetcode-cn.com/problems/number-of-strings-that-appear-as-substrings-in-word)\n\n### é¢˜ç›®æè¿°\n\nç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ patterns å’Œä¸€ä¸ªå­—ç¬¦ä¸² word ï¼Œç»Ÿè®¡ patterns ä¸­æœ‰å¤šå°‘ä¸ªå­—ç¬¦ä¸²æ˜¯ word çš„å­å­—ç¬¦ä¸²ã€‚è¿”å›å­—ç¬¦ä¸²æ•°ç›®ã€‚\n\nå­å­—ç¬¦ä¸² æ˜¯å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªè¿ç»­å­—ç¬¦åºåˆ—ã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼špatterns = [\"a\",\"abc\",\"bc\",\"d\"], word = \"abc\"\n\nè¾“å‡ºï¼š3\n\nè§£é‡Šï¼š\n- \"a\" æ˜¯ \"abc\" çš„å­å­—ç¬¦ä¸²ã€‚\n- \"abc\" æ˜¯ \"abc\" çš„å­å­—ç¬¦ä¸²ã€‚\n- \"bc\" æ˜¯ \"abc\" çš„å­å­—ç¬¦ä¸²ã€‚\n- \"d\" ä¸æ˜¯ \"abc\" çš„å­å­—ç¬¦ä¸²ã€‚\n\npatterns ä¸­æœ‰ 3 ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå­å­—ç¬¦ä¸²å‡ºç°åœ¨ word ä¸­ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼špatterns = [\"a\",\"b\",\"c\"], word = \"aaaaabbbbb\"\n\nè¾“å‡ºï¼š2\n\nè§£é‡Šï¼š\n- \"a\" æ˜¯ \"aaaaabbbbb\" çš„å­å­—ç¬¦ä¸²ã€‚\n- \"b\" æ˜¯ \"aaaaabbbbb\" çš„å­å­—ç¬¦ä¸²ã€‚\n- \"c\" ä¸æ˜¯ \"aaaaabbbbb\" çš„å­—ç¬¦ä¸²ã€‚\n\npatterns ä¸­æœ‰ 2 ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå­å­—ç¬¦ä¸²å‡ºç°åœ¨ word ä¸­ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥ï¼špatterns = [\"a\",\"a\",\"a\"], word = \"ab\"\n\nè¾“å‡ºï¼š3\n\nè§£é‡Šï¼špatterns ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²éƒ½ä½œä¸ºå­å­—ç¬¦ä¸²å‡ºç°åœ¨ word \"ab\" ä¸­ã€‚\n:::\n\n:::details{text=\"æç¤º\"}\n- `1 \u003C= patterns.length \u003C= 100`\n- `1 \u003C= patterns[i].length \u003C= 100`\n- `1 \u003C= word.length \u003C= 100`\n\n`patterns[i]` å’Œ `word` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ\n:::\n\n### Pythoné¢˜è§£\n\n```python\nclass Solution(object):\n    def numOfStrings(self, patterns, word):\n        \"\"\"\n        :type patterns: List[str]\n        :type word: str\n        :rtype: int\n        \"\"\"\n        ans = 0\n        for pattern in patterns:\n            if pattern in word:\n                ans += 1\n\n        return ans\n```\n\n### æ€»ç»“\n\nin å…³é”®å­—å®å±å¼€æŒ‚è¡Œä¸ºï¼Œé«˜é˜¶åšæ³•å‚è€ƒå®˜è§£ã€‚\n\n## ç¬¬äºŒé¢˜ - æ„é€ å…ƒç´ ä¸ç­‰äºä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼çš„æ•°ç»„\n\n\u003CBadge text = \"ä¸­ç­‰\" type = \"warning\" />\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/array-with-elements-not-equal-to-average-of-neighbors](https://leetcode-cn.com/problems/array-with-elements-not-equal-to-average-of-neighbors)\n\n### é¢˜ç›®æè¿°\nç»™ä½ ä¸€ä¸ª ä¸‹æ ‡ä» 0 å¼€å§‹ çš„æ•°ç»„ nums ï¼Œæ•°ç»„ç”±è‹¥å¹² äº’ä¸ç›¸åŒçš„ æ•´æ•°ç»„æˆã€‚ä½ æ‰“ç®—é‡æ–°æ’åˆ—æ•°ç»„ä¸­çš„å…ƒç´ ä»¥æ»¡è¶³ï¼šé‡æ’åï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ ä¸ç­‰äº å…¶ä¸¤ä¾§ç›¸é‚»å…ƒç´ çš„ å¹³å‡å€¼ ã€‚\n\næ›´å…¬å¼åŒ–çš„è¯´æ³•æ˜¯ï¼Œé‡æ–°æ’åˆ—çš„æ•°ç»„åº”å½“æ»¡è¶³è¿™ä¸€å±æ€§ï¼šå¯¹äºèŒƒå›´Â `1 \u003C= i \u003C nums.length - 1` ä¸­çš„æ¯ä¸ª i ï¼Œ(nums[i-1] + nums[i+1]) / 2 ä¸ç­‰äº nums[i] å‡æˆç«‹ ã€‚\n\nè¿”å›æ»¡è¶³é¢˜æ„çš„ä»»ä¸€é‡æ’ç»“æœã€‚\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼šnums = [1,2,3,4,5]\n\nè¾“å‡ºï¼š[1,2,4,5,3]\n\nè§£é‡Šï¼š\n\ni=1, nums[i] = 2, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (1+4) / 2 = 2.5\n\ni=2, nums[i] = 4, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (2+5) / 2 = 3.5\n\ni=3, nums[i] = 5, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (4+3) / 2 = 3.5\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼šnums = [6,2,0,9,7]\n\nè¾“å‡ºï¼š[9,7,6,2,0]\n\nè§£é‡Šï¼š\n\ni=1, nums[i] = 7, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (9+6) / 2 = 7.5\n\ni=2, nums[i] = 6, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (7+2) / 2 = 4.5\n\ni=3, nums[i] = 2, ä¸¤ç›¸é‚»å…ƒç´ å¹³å‡å€¼ä¸º (6+0) / 2 = 3\n:::\n\n:::details{text=\"æç¤º\"}\n```\n3 \u003C= nums.length \u003C= 105\n\n0 \u003C= nums[i] \u003C= 105\n```\n:::\n\n### Pythoné¢˜è§£\n\n```python\nclass Solution(object):\n    def rearrangeArray(self, nums):\n        \"\"\"\n        :type nums: List[int]\n        :rtype: List[int]\n        \"\"\"\n        for i in range(1, len(nums) - 1):\n            if nums[i] == (nums[i + 1] + nums[i - 1]) / 2:\n                tmp = nums[i]\n                nums[i] = nums[-1]\n                nums[-1] = tmp\n        return nums\n```\n\n### æ€»ç»“\n\næ²¡çœ‹å®˜è§£ï¼Œè¿‡äº†å°±è¡Œ\n\n## ç¬¬ä¸‰é¢˜ - æ•°ç»„å…ƒç´ çš„æœ€å°éé›¶ä¹˜ç§¯\n\n\u003CBadge text = \"ä¸­ç­‰\" type = \"warning\" />\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/minimum-non-zero-product-of-the-array-elements](https://leetcode-cn.com/problems/minimum-non-zero-product-of-the-array-elements)\n\n### é¢˜ç›®æè¿°\n\nç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°Â pÂ ã€‚ä½ æœ‰ä¸€ä¸ªä¸‹æ ‡ä» 1Â å¼€å§‹çš„æ•°ç»„Â numsÂ ï¼Œè¿™ä¸ªæ•°ç»„åŒ…å«èŒƒå›´Â [1, 2p - 1]Â å†…æ‰€æœ‰æ•´æ•°çš„äºŒè¿›åˆ¶å½¢å¼ï¼ˆä¸¤ç«¯éƒ½ åŒ…å«ï¼‰ã€‚ä½ å¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œ ä»»æ„Â æ¬¡ï¼š\n\nä» numsÂ ä¸­é€‰æ‹©ä¸¤ä¸ªå…ƒç´ Â xÂ å’ŒÂ yÂ  ã€‚\né€‰æ‹© xÂ ä¸­çš„ä¸€ä½ä¸ yÂ å¯¹åº”ä½ç½®çš„ä½äº¤æ¢ã€‚å¯¹åº”ä½ç½®æŒ‡çš„æ˜¯ä¸¤ä¸ªæ•´æ•° ç›¸åŒä½ç½®Â çš„äºŒè¿›åˆ¶ä½ã€‚\næ¯”æ–¹è¯´ï¼Œå¦‚æœÂ x = 1101Â ä¸”Â y = 0011Â ï¼Œäº¤æ¢å³è¾¹æ•°èµ·ç¬¬ 2Â ä½åï¼Œæˆ‘ä»¬å¾—åˆ°Â x = 1111 å’ŒÂ y = 0001Â ã€‚\n\nè¯·ä½ ç®—å‡ºè¿›è¡Œä»¥ä¸Šæ“ä½œ ä»»æ„æ¬¡Â ä»¥åï¼ŒnumsÂ èƒ½å¾—åˆ°çš„ æœ€å°éé›¶Â ä¹˜ç§¯ã€‚å°†ä¹˜ç§¯å¯¹Â 109 + 7Â å–ä½™ åè¿”å›ã€‚\n\næ³¨æ„ï¼šç­”æ¡ˆåº”ä¸ºå–ä½™ ä¹‹å‰Â çš„æœ€å°å€¼ã€‚\n\n\n:::details{text=\"ç¤ºä¾‹ 1\"}\nè¾“å…¥ï¼šp = 1\n\nè¾“å‡ºï¼š1\n\nè§£é‡Šï¼šnums = [1] ã€‚\n\nåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥ä¹˜ç§¯ä¸ºè¯¥å…ƒç´ ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 2\"}\nè¾“å…¥ï¼šp = 2\n\nè¾“å‡ºï¼š6\n\nè§£é‡Šï¼šnums = [01, 10, 11] ã€‚\n\næ‰€æœ‰äº¤æ¢è¦ä¹ˆä½¿ä¹˜ç§¯å˜ä¸º 0 ï¼Œè¦ä¹ˆä¹˜ç§¯ä¸åˆå§‹ä¹˜ç§¯ç›¸åŒã€‚\n\næ‰€ä»¥ï¼Œæ•°ç»„ä¹˜ç§¯ 1 * 2 * 3 = 6 å·²ç»æ˜¯æœ€å°å€¼ã€‚\n:::\n\n:::details{text=\"ç¤ºä¾‹ 3\"}\nè¾“å…¥ï¼šp = 3\n\nè¾“å‡ºï¼š1512\n\nè§£é‡Šï¼šnums = [001, 010, 011, 100, 101, 110, 111]\n\n- ç¬¬ä¸€æ¬¡æ“ä½œä¸­ï¼Œæˆ‘ä»¬äº¤æ¢ç¬¬äºŒä¸ªå’Œç¬¬äº”ä¸ªå…ƒç´ æœ€å·¦è¾¹çš„æ•°ä½ã€‚\n    - ç»“æœæ•°ç»„ä¸º [001, 110, 011, 100, 001, 110, 111] ã€‚\n- ç¬¬äºŒæ¬¡æ“ä½œä¸­ï¼Œæˆ‘ä»¬äº¤æ¢ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªå…ƒç´ ä¸­é—´çš„æ•°ä½ã€‚\n    - ç»“æœæ•°ç»„ä¸º [001, 110, 001, 110, 001, 110, 111] ã€‚\n\næ•°ç»„ä¹˜ç§¯ 1 * 6 * 1 * 6 * 1 * 6 * 7 = 1512 æ˜¯æœ€å°ä¹˜ç§¯ã€‚\n:::\n\n:::details{text=\"æç¤º\"}\n`1 \u003C= p \u003C= 60`\n:::\n\n### Pythoné¢˜è§£\n\næ²¡å†™å‡ºæ¥ï¼Œtodo...\n\n### æ€»ç»“\n\ntodo...\n\n## ç¬¬å››é¢˜ - ä½ èƒ½ç©¿è¿‡çŸ©é˜µçš„æœ€åä¸€å¤©\n\n\u003CBadge text = \"å›°éš¾\" type = \"error\" />\nåŸé¢˜é“¾æ¥ï¼š[https://leetcode-cn.com/problems/last-day-where-you-can-still-cross/](https://leetcode-cn.com/problems/last-day-where-you-can-still-cross/)\n\né¢˜éƒ½æ²¡çœ‹ é‡åˆ°å›°éš¾ ç¡å¤§è§‰ - -\n","post/2021/20211118/":"\r\n## åºè¨€\r\n\r\nåŒ11å†²çš„è…¾è®¯äº‘æ˜¯çœŸçš„é¦™ï¼æ­£å¥½å«Œgtihub pageså¤ªæ…¢äº†ï¼Œç´¢æ€§è¿ç§»åˆ°è…¾è®¯äº‘é¡ºå¸¦å¤‡æ¡ˆï¼\r\n\r\nä½†æ˜¯åªæ”¾ä¸€ä¸ªåšå®¢æ˜¾ç„¶å¤ªäºäº†ï¼Œæ‰€ä»¥ç”¨è¿™ç¯‡åšå®¢è®°å½•ä¸‹æˆ‘ç”¨è¿™ä¸ªæœåŠ¡å™¨å¹²äº†äº›ä»€ä¹ˆã€‚\r\n\r\n## Nginx\r\n\r\nå› ä¸ºblogæ˜¯vuepressç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼Œæ‰€ä»¥ç›´æ¥ä¸¢Nginxäº†ã€‚\r\n\r\n- [https://nginx.org/](https://nginx.org/)\r\n\r\n## Let's encrypt\r\n\r\nä¹‹å‰æœåŠ¡å™¨åŸŸåæŒ‚äº†cloudflareï¼ˆå‡é€Ÿcdnï¼‰å®ç°httpsï¼Œä½†æ˜¯æœ‰æœåŠ¡å™¨ä¹‹åæ˜¾ç„¶æ˜¯è‡ªåŠ¨ç”³è¯·æ›´æ–¹ä¾¿ã€‚\r\n\r\n- [https://letsencrypt.org/](https://letsencrypt.org/)\r\n- [https://certbot.eff.org/](https://certbot.eff.org/)\r\n\r\n## frp\r\n\r\nå†…ç½‘ç©¿é€ï¼Œæš´éœ²å†…ç½‘æœåŠ¡åˆ°å…¬ç½‘ï¼Œä¾‹å¦‚å†…ç½‘çš„è¿œç¨‹ç™»å½•ç­‰ã€‚\r\n- [https://github.com/fatedier/frp](https://github.com/fatedier/frp)\r\n- [https://gofrp.org/docs/](https://gofrp.org/docs/)\r\n\r\n## MySQL\r\n\r\nå…³ç³»å‹æ•°æ®åº“ã€‚\r\n\r\n- [https://www.mysql.com/](https://www.mysql.com/)\r\n\r\n## Redis\r\n\r\néå…³ç³»å‹æ•°æ®åº“ã€‚\r\n\r\n- [https://redis.io/](https://redis.io/)\r\n\r\n## Microsoft OpenJDK\r\n\r\nè‡ªä»å¾®è½¯å¼€å§‹ç¼–è¯‘OpenJDKä¹‹åå°±ä¸€ç›´ç”¨å¾®è½¯çš„äº† - -\r\n\r\n- [https://docs.microsoft.com/zh-cn/java/openjdk/install](https://docs.microsoft.com/zh-cn/java/openjdk/install)","post/2021/20211119/":"\n## åºè¨€\n\nè™½ç„¶åœ¨å„ç±»ç¼–ç¨‹è¯­è¨€ä¸­è‡ªå¸¦çš„æ’åºAPIååˆ†é«˜æ•ˆï¼Œä½†æ˜¯æŒæ¡åŸºæœ¬çš„æ’åºç®—æ³•è¿˜æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚\n\n## å†’æ³¡æ’åº\n\nç»å…¸å…¥é—¨æ’åºé¢˜ï¼Œæ˜“äºç†è§£ã€‚æ ¸å¿ƒæ€æƒ³åœ¨äºä¸æ–­äº¤æ¢å‡ºæœ€å¤§å€¼æ”¾åˆ°æœ€åã€‚ç¼ºç‚¹æ˜¯äº¤æ¢æ¬¡æ•°è¾ƒå¤šã€‚\n\n```python\ndef bubbleSort(nums: List[int]) -> List[int]:\n    n = len(nums)\n    for i in range(n - 1):\n        for j in range(n - i - 1):\n            if nums[j] > nums[j + 1]:\n                nums[j], nums[j + 1] = nums[j + 1], nums[j]\n    return nums\n```\n\n- æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)ã€‚æ—¶é—´å¤æ‚åº¦è¿‘ä¼¼nçš„é˜¶åŠ , å³$\\frac{n(n-1)}{2}$ = $\\frac{n^2}{2}$ï¼Œçœç•¥å¸¸æ•°1/2,\n- ç©ºé—´å¤æ‚åº¦ï¼šO(1)\n- ç¨³å®š\n\n:::tip\nnumså‚æ•°é»˜è®¤ä¸º`List[int]`\n:::\n\n## é€‰æ‹©æ’åº\n\nå¯ä»¥çœ‹æˆæ˜¯å†’æ³¡çš„å‡çº§ç‰ˆï¼Œæ ¸å¿ƒæ€æƒ³åœ¨äºä¸æ–­äº¤æ¢å‡ºæœ€å°å€¼æ”¾åˆ°æœ€å‰ã€‚ä½¿ç”¨minå˜é‡è®°å½•æœ€å°å€¼ç´¢å¼•é¿å…äº†å†’æ³¡çš„é¢‘ç¹äº¤æ¢ã€‚\n\n```python\ndef selectionSort(nums):\n    n = len(nums)\n    for i in range(n):\n        minIndex = i\n        for j in range(i + 1, n):\n            if nums[minIndex] > nums[j]:\n                minIndex = j\n        nums[i], nums[minIndex] = nums[minIndex], nums[i]\n    return nums\n```\n\n- æ—¶é—´å¤æ‚åº¦ O(n^2)\n- ç©ºé—´å¤æ‚åº¦ O(1)\n- ä¸ç¨³å®š\n\n:::warning\nä¸€ç›´ä¸è§£ä¸ºä»€ä¹ˆé€‰æ‹©æ’åºä¸ç¨³å®šï¼Œç½‘ä¸Šçœ‹åˆ°æœ€å¤šçš„è§£é‡Šæ˜¯ï¼šé€‰æ‹©æ’åºçš„ä¸ç¨³å®šåœ¨äºä¼šæ”¹å˜åŸæœ‰ç›¸åŒæ•°æ®çš„ç›¸å¯¹é¡ºåºã€‚\n\nä¸€ä¸ªä¾‹å­ï¼Œç°åœ¨æœ‰3ä¸ªæ•°ï¼Œåˆ†åˆ«ä¸º:\n\nindexï¼š0 1 2\n\nvalueï¼š2 2 1\n\né€‰æ‹©æ’åºç¬¬ä¸€æ¬¡å°†3å’Œ1æ›¿æ¢ï¼Œä¹Ÿå°±æ˜¯indexä¸º0å’Œ2çš„æ•°æ›¿æ¢ï¼Œæ­¤æ—¶åºåˆ—å˜æˆäº†2-1-0ï¼Œè€Œç¨³å®šçš„åšæ³•åº”è¯¥æ˜¯indexåºåˆ—ä¸º2-0-1ã€‚\n\nè¿™çœ‹èµ·æ¥æ˜¯ä¸ªç»“è®ºï¼Œå¯¹äºè§£é‡Šä¸ºä»€ä¹ˆæ”¹å˜äº†åŸæœ‰é¡ºåºå¯èƒ½ä¼šä¸ç¨³å®šï¼Œå¤šå±æ€§æ’åºä¼¼ä¹æ˜¯ä¸ªæ›´å¥½çš„çš„ä¾‹å­ã€‚\n\nå‡è®¾ç°åœ¨æŒ‰ç…§å­¦ç”Ÿçš„ **åˆ†æ•°ï¼ˆDESCï¼‰** å’Œ **å§“å(ASC)** å¯¹å­¦ç”Ÿè¿›è¡Œæ’åºï¼Œæ•°æ®å¦‚ä¸‹ï¼š\n\nå­¦ç”Ÿ1 å­¦ç”Ÿ2 å­¦ç”Ÿ3\n\n90 90 100\n\næŒ‰ç…§é€‰æ‹©æ’åºï¼Œæ­¤æ—¶å…ˆæŒ‰ç…§åˆ†æ•°è¿›è¡Œæ’åºï¼Œåˆ™ä¸º **å­¦ç”Ÿ3-å­¦ç”Ÿ2-å­¦ç”Ÿ1** ï¼Œè¿™æ”¹å˜äº†å­¦ç”Ÿ1ï¼Œå­¦ç”Ÿ2çš„é¡ºåºï¼Œç„¶åä¹‹åæŒ‰ç…§å§“åæ’åºï¼Œå‘ç°åˆéœ€è¦äº¤æ¢å­¦ç”Ÿ1ï¼Œå­¦ç”Ÿ2çš„ä½ç½®ï¼Œä¸º **å­¦ç”Ÿ3-å­¦ç”Ÿ1-å­¦ç”Ÿ2** ã€‚\n\nå‡è®¾è¿™é‡Œæ˜¯å†’æ³¡ï¼ˆç¨³å®šæ’åºï¼‰ï¼Œåˆ™ä¸ä¼šæ”¹æˆå­¦ç”Ÿ1å’Œå­¦ç”Ÿ2çš„ç›¸å¯¹é¡ºåºã€‚\n:::\n\n## æ’å…¥æ’åº\n\næ’å…¥æ’åºçš„æ€æƒ³åˆ™æ›´ä¸ºç®€å•ï¼Œæƒ³è±¡ä¸€ä¸‹ä½ æ­£åœ¨ç©æ‰‘å…‹ç‰Œï¼Œå¯¹äºæ¯æ¬¡æ–°æŠ½çš„ç‰Œï¼Œä½ æ€»æ˜¯ä¼šå°†å®ƒæ’å…¥åˆ°åˆé€‚çš„é¡ºåºï¼Œæ’å…¥æ’åºåŒæ ·å¦‚æ­¤ï¼Œæˆ‘ä»¬å‡è®¾ç¬¬ä¸€ä¸ªæ˜¯åˆå§‹ç‰Œ(å·²æ’åºéƒ¨åˆ†)ï¼Œé‚£ä¹ˆå¯¹äºç¬¬1åˆ°nçš„å…¶ä»–ç‰Œ(æœªæ’åºçŠ¶æ€)ï¼Œæˆ‘ä»¬åˆ™æ¯æ¬¡å¯¹æ¯”è¯¥å¼ ç‰Œæ˜¯å¦æ¯”ä¸Šä¸€å¼ ç‰Œæ›´å°ï¼Œå¦‚æœæ˜¯åˆ™äº¤æ¢ã€‚\n\nåå¤è¿›è¡Œæ¯”è¾ƒç›´è‡³æ–°ç‰Œè¢«æ’å…¥åˆ°åˆé€‚çš„ä½ç½®ï¼Œè¿™æ ·å½“æ‰€æœ‰ç‰Œéƒ½æ¯”è¾ƒå®Œä¹‹åï¼Œæ•´ä¸ªç‰Œç»„ä¹Ÿæ˜¯æœ‰åºçš„ã€‚\n\n```python\ndef insertionSort(nums):\n    n = len(nums)\n    for i in range(1, n):\n        cur = nums[i]\n        bef = i - 1\n        while bef >= 0 and cur \u003C nums[bef]:\n            nums[bef + 1] = nums[bef]\n            bef -= 1\n        nums[bef + 1] = cur\n    return nums\n```\n\n- æ—¶é—´å¤æ‚åº¦ O(n^2)\n- ç©ºé—´å¤æ‚åº¦ O(1)\n- ç¨³å®š\n\n:::warning\næ’å…¥æ’åºçš„æ—¶é—´ä¸ç¨³å®šï¼ˆå‚è€ƒä¸ŠèŠ‚warningï¼Œç†è§£æ’åºç®—æ³•ä¸ç¨³å®šä¸ç®—æ³•æ—¶é—´ä¸ç¨³å®šçš„åŒºåˆ«ï¼‰ã€‚\n\næœ€å¥½çš„æƒ…å†µä¸º n-1 æ¬¡æ¯”è¾ƒå’Œ 0 æ¬¡äº¤æ¢ã€‚\n\næœ€å·®çš„æƒ…å†µä¸º $\\frac{n^2}{2}$ æ¬¡æ¯”è¾ƒå’Œ $\\frac{n^2}{2}$ æ¬¡äº¤æ¢ã€‚\n\nå¹³å‡ä¸º $\\frac{n^2}{4}$ æ¯”è¾ƒå’Œ $\\frac{n^2}{4}$ äº¤æ¢ã€‚\n:::\n\n## å¸Œå°”æ’åº\n\nå¸Œå°”æ’åºæ˜¯æ’å…¥æ’åºçš„ä¸€ç§ä¼˜åŒ–ï¼Œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¸Œå°”æ’åºéƒ½è¦ä¼˜äºæ’å…¥æ’åºï¼Œå¹¶ä¸”å¸Œå°”æ’åºçš„ä»£ç æ¯”è¾ƒç®€å•ï¼Œé€‚åˆäºä¸­ç­‰æ•°æ®é‡ã€‚\n\nå¸Œå°”æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯å…ˆå°†åŸåºåˆ—æŒ‰ç…§ä¸€å®šçš„é—´éš”åˆ†æˆä¸åŒç»„ï¼Œé€šè¿‡å¯¹ä¸åŒç»„çš„å¯¹åº”éƒ¨åˆ†è¿›è¡Œæ’å…¥æ’åºï¼Œé¦–å…ˆå°†åºåˆ—å˜ä¸ºåŸºæœ¬æœ‰åºçš„çŠ¶æ€ï¼Œä¹‹åé€šè¿‡ä¸æ–­è°ƒæ•´é—´éš”ç›´è‡³1è¿›è¡Œæ’å…¥æ’åºå³å¯ã€‚\n\nå¸Œå°”æ’åºæ˜¯ä¸ç¨³å®šçš„æ’åºï¼Œä½†æ˜¯æœ€å·®çš„æƒ…å†µä¼šæ¯”å¿«æ’æœ€å·®å¥½äº›ï¼ŒåŒæ—¶æ—¶é—´å¤æ‚åº¦ä¹Ÿæ¯”è¾ƒéš¾æ¨ï¼Œå¹¶ä¸”å¯¹äºä¸åŒçš„å¢é‡åºåˆ—æœ‰ç€ä¸åŒçš„æ—¶é—´å¤æ‚åº¦ï¼Œæ‰€ä»¥è¿™é‡Œä»…æä¾›Knuthå¢é‡åºåˆ—ï¼ˆhï¼3 * h + 1ï¼‰çš„æœ€å·®æ—¶é—´å¤æ‚åº¦çº¦ä¸ºO($n^\\frac{3}{2}$)ã€‚\n\n:::tip\n- å¢é‡åºåˆ—ï¼šå†³å®šé—´éš”æŒ‰ç…§ä½•ç§æ–¹å¼å®šä¹‰ä»¥åŠé€’å‡\n- Knuthå¢é‡åºåˆ—ï¼šä¸€ä¸ªæ€§èƒ½æ¯”è¾ƒå¥½ä¸”è¾ƒæ˜“æ±‚å‡ºçš„å¢é‡åºåˆ—ï¼Œå…¬å¼ä¸º h = 3 * h + 1ï¼Œæ¡ä»¶æ˜¯å°äºé•¿åº¦çš„ $\\frac{1}{3}$\n- é¡ºå¸¦ä¸€å˜´Knuthå°±æ˜¯KMPç®—æ³•çš„é‚£ä¸ªKï¼ŒåŒæ—¶åˆ›ç«‹äº†Texç³»ç»Ÿï¼Œå›¾çµå¥–è·å¾—è€…ã€‚\n:::\n\n```python\ndef shellsort(nums: list):\n    n = len(nums)\n    h = 1\n    while h \u003C n // 3:\n        h = h * 3 + 1\n    while h > 0:\n        for i in range(h, n):\n            j = i - h\n            cur = nums[i]\n            while j >= 0 and cur \u003C nums[j]:\n                nums[j + h] = nums[j]\n                j -= h\n            nums[j + h] = cur\n        h = (h - 1) // 3\n    return nums\n```\n\n- æ—¶é—´å¤æ‚åº¦ O(nlogn)\n- ç©ºé—´å¤æ‚åº¦ O(1)\n- ä¸ç¨³å®š\n\n## å½’å¹¶æ’åº\n\nå½’å¹¶æ’åºåˆ©ç”¨äº†åˆ†æ²»çš„æ€æƒ³ï¼ˆDivide-and-Conquerï¼‰ï¼Œå°†åºåˆ—è¿›è¡Œåˆ†æˆnä¸ªç»„åˆï¼Œéšåä¸¤ä¸¤è¿›è¡Œæ¯”è¾ƒå¹¶æ’åºï¼Œé€šè¿‡ä¸æ–­ç»„åˆå­æ•°ç»„è¾¾åˆ°å¿«é€Ÿæ’åºçš„ç›®çš„ã€‚\n\nå½’å¹¶æ’åºçš„å¥½å¤„åœ¨äºé«˜æ•ˆçš„æ€§èƒ½ï¼Œå”¯ä¸€çš„ä¸è¶³åœ¨äºæ¶ˆè€—äº†é¢å¤–çš„ç©ºé—´ï¼Œå³tmpæ•°ç»„O(n)ã€‚\n\nåŒæ—¶ç”±äºä»¥ä¸‹ä»£ç é‡‡å–äº†é€’å½’çš„æ–¹å¼ï¼Œé€’å½’çš„æœ€å¤§æ·±åº¦ä¸ºlognï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦è¿˜éœ€è¦lognçš„æ ˆç©ºé—´ã€‚\n\næ­¤å¤–ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿­ä»£çš„æ–¹å¼å®ç°ï¼Œè¿™é‡Œä¸å¤šä»‹ç»ã€‚\n\n```python\ndef mergeSort(self, nums: List[int], l: int, r: int) -> None:\n    if l == r:\n        return\n    mid = (l + r) // 2\n    self.mergeSort(nums, l, mid)\n    self.mergeSort(nums, mid + 1, r)\n    tmp = []\n    i = l\n    j = mid + 1\n    while i \u003C= mid or j \u003C= r:\n        if i > mid or (j \u003C= r and nums[j] \u003C nums[i]):\n            tmp.append(nums[j])\n            j += 1\n        else:\n            tmp.append(nums[i])\n            i += 1\n    nums[l: r + 1] = tmp\n```\n\n- æ—¶é—´å¤æ‚åº¦ O(nlogn)\n- ç©ºé—´å¤æ‚åº¦ O(n)\n- ç¨³å®š\n\n## å¿«é€Ÿæ’åº\n\nå¿«é€Ÿæ’åºåŸºæœ¬ç§°å¾—ä¸Šæ˜¯è€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ä»æ•°ç»„ä¸­é€‰å–ä¸€ä¸ªä¸»å…ƒï¼ˆpivotï¼‰ï¼Œç„¶åéå†ä¹‹åå…¶ä»–å…ƒç´ ï¼Œå¤§äºå®ƒçš„æˆ‘ä»¬å°†å®ƒæ”¾åˆ°å³è¾¹ï¼Œå°äºå®ƒçš„åˆ™æ”¾åˆ°å·¦è¾¹ï¼Œä¹‹åå†å¯¹å·¦å³å­åºåˆ—è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼Œç›´åˆ°ç»“æŸã€‚\n\nå¿«æ’çš„pivotçš„é€‰æ‹©æ–¹å¼å¾ˆå¤šï¼Œè¿™é‡Œé‡‡ç”¨çš„æ˜¯éšæœºpivotï¼Œå¤æ‚åº¦åœ¨ç®—æ³•å¯¼è®ºç¬¬ä¸ƒç« è¯æ˜æœŸæœ›ä¸ºO(nlogn)ï¼Œç©ºé—´å¤æ‚åº¦åˆ™å–å†³äºé€’å½’æ·±åº¦ï¼Œæœ€å·®O(n)ï¼ŒæœŸæœ›O(logn)\n\n```python\ndef randomizedPartition(self, nums: List[int], l: int, r: int) -> int:\n        pivot = random.randint(l, r)\n        nums[pivot], nums[r] = nums[r], nums[pivot]\n        i = l - 1\n        for j in range(l, r):\n            if nums[j] \u003C nums[r]:\n                i += 1\n                nums[i], nums[j] = nums[j], nums[i]\n        i += 1\n        nums[i], nums[r] = nums[r], nums[i]\n        return i\n\ndef randomizedQuicksort(self, nums: List[int], l: int, r: int) -> None:\n    if l >= r:\n        return\n    mid = self.randomizedPartition(nums, l, r)\n    self.randomizedQuicksort(nums, l, mid - 1)\n    self.randomizedQuicksort(nums, mid + 1, r)\n```\n\n- æ—¶é—´å¤æ‚åº¦ O(nlogn)\n- ç©ºé—´å¤æ‚åº¦ O(logn)\n- ä¸ç¨³å®š\n\n:::warning\nå¿«é€Ÿæ’åºæ˜¯ä¸ç¨³å®šçš„æ’åºï¼Œæœ€å·®çš„æƒ…å†µçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œä½†æ˜¯è¿™ç§æƒ…å†µä¸å¤šè§ï¼Œä¸€èˆ¬å¯¹äºä¸€ä¸ªè¾ƒä¸ºéšæœºçš„å¤§åºåˆ—è€Œè¨€ï¼Œå¿«é€Ÿæ’åºç”šè‡³èƒ½æ¯”ä¸€äº›å…¶ä»–æ—¶é—´å¤æ‚åº¦ç¨³å®šäºO(nlogn)çš„æ’åºç®—æ³•è¦å¿«ä¸Šè®¸å¤šï¼Œä¾‹å¦‚å½’å¹¶æ’åºã€‚\n:::\n\n## å †æ’åº\n\nå †æ’åºæ˜¯ä¸€ç§åŸºäºæ•°æ®ç»“æ„çš„æ’åºï¼Œå †æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼ŒåŒæ—¶åˆ†ä¸ºå°æ ¹å †å’Œå¤§æ ¹å †ï¼Œå¯¹äºå‡åºæ’åºé€‰æ‹©å¤§æ ¹å †ï¼Œåä¹‹é€‰æ‹©å°æ ¹å †ã€‚\n\nå› ä¸ºå †é¡¶çš„æ•°æ€»æ˜¯æœ€å¤§æˆ–è€…æœ€å°çš„ï¼ŒåŸºäºè¿™ä¸ªæ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¾æ¬¡è·å–æœ€å¤§æˆ–è€…æœ€å°å€¼ï¼Œç„¶åå¯¹å…¶ä»–æ•°è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼Œå› æ­¤å †æ’åºä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¼˜åŒ–çš„é€‰æ‹©æ’åºã€‚\n\nå †æ’åºæ¯”é€‰æ‹©æ’åºçš„å¥½å¤„åœ¨äºä¸å¿…æ¶ˆè€—çº¿æ€§æ—¶é—´å»æœç´¢æ¯”è¾ƒæœªæ’åºçš„éƒ¨åˆ†ã€‚\n\n```python\ndef maxHeapify(self, heap, root, heapLen):\n        p = root\n        # control the node have sub node and not in last layer\n        while p * 2 + 1 \u003C heapLen:\n            # sub node index of p\n            l, r = p * 2 + 1, p * 2 + 2\n            # check which is the smaller sub node\n            if heapLen \u003C= r or heap[r] \u003C heap[l]:\n                nex = l\n            else:\n                nex = r\n            # compare and swap if needed\n            if heap[p] \u003C heap[nex]:\n                heap[p], heap[nex] = heap[nex], heap[p]\n                p = nex\n            else:\n                break\n\n    def buildHeap(self, heap):\n        for i in range(len(heap) - 1, -1, -1):\n            self.maxHeapify(heap, i, len(heap))\n\n    def heapSort(self, nums):\n        self.buildHeap(nums)\n        for i in range(len(nums) - 1, -1, -1):\n            nums[i], nums[0] = nums[0], nums[i]\n            self.maxHeapify(nums, 0, i)\n```\n\n- æ—¶é—´å¤æ‚åº¦ O(nlogn)\n- ç©ºé—´å¤æ‚åº¦ O(1)\n- ä¸ç¨³å®š\n\n---\n\n:::warning\nä»¥ä¸Šæ˜¯åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•ï¼Œæ¥ä¸‹æ¥çš„ä¸‰ç§æ’åºå°†æ˜¯åŸºäºéæ¯”è¾ƒçš„æ’åºç®—æ³•\n:::\n\n:::tip\nä»»ä½•éæ¯”è¾ƒçš„æ’åºç®—æ³•ç†è®ºä¸Šå‡è¦æ¯”åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•è¦å¿«ã€‚\\\néæ¯”è¾ƒæ’åºç®—æ³•é€šå¸¸æ—¶é—´å¤æ‚åº¦ä¸ºO(n+k)ï¼Œè€ŒåŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•æ˜¯O(nlogn)\n:::\n\n---\n\n## è®¡æ•°æ’åº\n\nè®¡æ•°æ’åºçš„æ€æƒ³éå¸¸ç®€å•ï¼Œå‰ææ˜¯åºåˆ—æ˜¯æ•´æ•°ä¸”èŒƒå›´ç¡®å®šï¼Œåˆ›å»ºä¸€ä¸ªbucketï¼Œç„¶åè¿›è¡Œä¸€æ¬¡éå†ï¼Œç»Ÿè®¡å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œæ¥ä¸‹æ¥åªéœ€è¦å†æ¬¡éå†bucketï¼Œå°†æ•°å¡«å……å›åŸåºåˆ—å³å¯ã€‚æ—¶é—´å¤æ‚åº¦ä¸ºO(n+k)ï¼Œkä¸ºbucketæ•°ç»„çš„é•¿åº¦ã€‚\n\n```python\ndef countingSort(nums, bucketLen):\n    bucket = [0] * bucketLen\n    for num in nums:\n        bucket[num] += 1\n    index = 0\n    for i in range(bucketLen):\n        while bucket[i] > 0:\n            nums[index] = i\n            index += 1\n            bucket[i] -= 1\n    return nums\n```\n\n- æ—¶é—´å¤æ‚åº¦ O(n+k)\n- ç©ºé—´å¤æ‚åº¦ O(k)\n- ç¨³å®š\n\n## æ¡¶æ’åº\n\næ¡¶æ’åºå¯ä»¥ç†è§£ä¸ºè®¡æ•°æ’åºçš„é€šè§£ï¼Œåªä¸è¿‡æ¡¶æ’åºçš„å¯ä»¥æ§åˆ¶æ¯ä¸ªæ¡¶çš„å®¹é‡ã€‚æ¡¶æ’åºçš„æ ¸å¿ƒæ€æƒ³åœ¨äºæŠŠæ•°åˆ†é…è¿›ä¸åŒçš„æ¡¶ï¼Œæœ€åæ¯ä¸ªæ¡¶è¿›è¡Œå•ç‹¬æ’åºï¼Œæœ€åé¡ºåºéå†æ¡¶è¿›è¡Œåˆå¹¶ç»“æœï¼Œæ­¤å¤„ç¤ºä¾‹ä»£ç ä½¿ç”¨æ’å…¥æ’åºå¯¹æ¯ä¸ªæ¡¶å†…å…ƒç´ è¿›è¡Œæ’åºã€‚ï¼ˆæ’å…¥æ’åºå¯¹äºå°‘é‡æ•°æ®è€Œè¨€æ•ˆç‡è¾ƒé«˜ï¼‰\n\nä½†æ˜¯å¯¹äºå…¶å®ƒè¯­è¨€è€Œè¨€ï¼Œæ•°ç»„éœ€è¦é¢„å…ˆåˆ†é…å†…å­˜ï¼Œè€Œæ¡¶æ’åºæœ€å·®çš„æƒ…å†µéœ€è¦ä¸ºæ¯ä¸ªæ¡¶éƒ½åˆ†é…nçš„ç©ºé—´ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥è€ƒè™‘åˆå§‹æ•°ç»„-æ•°æ®æ‰©å®¹çš„æ–¹æ¡ˆã€‚ï¼‰ã€‚è€Œé“¾è¡¨è™½ç„¶ä¸éœ€è¦æå‰åˆ†é…è¿‡å¤šç©ºé—´ï¼Œä½†å¯¹äºé“¾è¡¨æ’åºæ•ˆç‡ä¹Ÿæ˜¯é—®é¢˜ã€‚\n\n```python\ndef bucketSort(nums, bucketSize):\n    def insertionSort(arr):\n        for i in range(1, len(arr)):\n            cur = arr[i]\n            bef = cur - 1\n            while bef >= 0 and arr[bef] > cur:\n                arr[bef + 1] = arr[bef]\n                bef -= 1\n            arr[bef + 1] = cur\n        return arr\n\n    buckets = [[] for _ in range(bucketSize)]\n    for num in nums:\n        buckets[int(bucketSize * num)].append(num)\n    for i in range(bucketSize):\n        buckets[i] = insertionSort(buckets[i])\n    sortIndex = 0\n    for i in range(bucketSize):\n        for j in range(len(buckets[i])):\n            nums[sortIndex] = buckets[i][j]\n            sortIndex += 1\n    return nums\n```\n\n- æ—¶é—´å¤æ‚åº¦ O(n+k)\n- ç©ºé—´å¤æ‚åº¦ O(n+k)\n- ç¨³å®š\n\n:::warning\næ¡¶æ’åºä¸æ˜¯ç¨³å®šçš„ï¼Œåœ¨æ•°æ®åˆ†å¸ƒæœ€å¹³å‡æ—¶ï¼Œå¯è¾¾åˆ°æœ€å¤§æ•ˆç‡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œæœ€å·®æƒ…å†µæ˜¯æ‰€æœ‰æ•°æ®éƒ½è¢«æ”¾è¿›1ä¸ªæ¡¶ï¼Œæ­¤æ—¶åˆ™ä¸ºå®Œå…¨æ’å…¥æ’åºï¼Œæ—¶é—´å¤æ‚åº¦é€€åŒ–åˆ°O(n^2^)ã€‚å› æ­¤æ¡¶æ’åºæœ‰å¾ˆå¤šå˜ç§ï¼Œè¿™é‡Œä¸å†è¿‡å¤šä»‹ç»ã€‚\n:::\n\n## åŸºæ•°æ’åº\n\nåŸºæ•°æ’åºçš„æ€æƒ³åœ¨äºæŠŠå–å‡ºæ¯ä½æ•°ï¼Œä»ä½ä½åˆ°é«˜ä½ä¾æ¬¡æ’åºï¼Œå½“æ’åˆ°æœ€é«˜ä½æ—¶æ’åºç»“æŸï¼Œæ’åºç»“æŸã€‚\n\nç”±äºæ¯ä½æ•°çš„èŒƒå›´ä¸º0åˆ°9ï¼Œå› æ­¤å†…éƒ¨æ’åºéå¸¸é€‚åˆä½¿ç”¨è®¡æ•°æ’åºã€‚\n\n```python\ndef radixSort(nums):\n    def countingSort(nums, exp, n):\n        count = [0] * 10\n        output = [0] * n\n        for i in range(n):\n            count[(nums[i] // exp) % 10] += 1\n        # ASC\n        for i in range(1, 10):\n            count[i] += count[i - 1]\n        # DESC\n        # for i in range(8, -1, -1):\n        #     count[i] += count[i + 1]\n        for i in range(n-1, -1, -1):\n            num = nums[i] // exp\n            output[count[num % 10] - 1] = nums[i]\n            count[num % 10] -= 1\n        for i in range(n):\n            nums[i] = output[i]\n\n    n = len(nums)\n    ma = max(nums)\n    exp = 1\n    while ma // exp >= 1:\n        countingSort(nums, exp, n)\n        exp *= 10\n    return nums\n```\n\n- æ—¶é—´å¤æ‚åº¦ O(n Ã— k)\n- ç©ºé—´å¤æ‚åº¦ O(n + k)\n- ç¨³å®š\n\n## æ€»ç»“\n\n| æ’åºç®—æ³• | å¹³å‡æ—¶é—´å¤æ‚åº¦  | æœ€å¥½æƒ…å†µ        | æœ€åæƒ…å†µ        | ç©ºé—´å¤æ‚åº¦    | æ’åºæ–¹å¼      | ç¨³å®šæ€§ |\n| :--- | :-------: | :----------: | :----------: | :-------: | :--------: | :--: |\n| å†’æ³¡æ’åº | O(n^2^)  | O(n)        | O(n^2^)     | O(1)     | In-Place  | ç¨³å®š  |\n| é€‰æ‹©æ’åº | O(n^2^)  | O(n^2^)     | O(n^2^)     | O(1)     | In-Place  | ä¸ç¨³å®š |\n| æ’å…¥æ’åº | O(n^2^)  | O(n)        | O(n^2^)     | O(1)     | In-Place  | ç¨³å®š  |\n| å¸Œå°”æ’åº | O(nlogn) | O(nlog^2^n) | O(nlog^2^n) | O(1)     | In-Place  | ä¸ç¨³å®š |\n| å½’å¹¶æ’åº | O(nlogn) | O(nlogn)    | O(nlogn)    | O(n)     | Out-Place | ç¨³å®š  |\n| å¿«é€Ÿæ’åº | O(nlogn) | O(nlogn)    | O(n^2^)     | O(logn)  | In-Place  | ä¸ç¨³å®š |\n| å †æ’åº  | O(nlogn) | O(nlogn)    | O(nlogn)    | O(1)     | In-Place  | ä¸ç¨³å®š |\n| è®¡æ•°æ’åº | O(n + k) | O(n + k)    | O(n + k)    | O(k)     | Out-Place | ç¨³å®š  |\n| æ¡¶æ’åº  | O(n + k) | O(n + k)     | O(n^2^)     | O(n + k) | Out-Place | ç¨³å®š  |\n| åŸºæ•°æ’åº | O(n Ã— k) | O(n Ã— k)    | O(n Ã— k)    | O(n + k) | Out-Place | ç¨³å®š  |\n","post/2022/20220223/":"\r\n## ä¿®æ”¹å‚æ•°æç¤ºå¿«æ·é”®\r\n\r\nvscodeå»ºè®®ä¿®æ”¹æŒ‰é”®ç»‘å®šï¼Œä¿®æ”¹shortcutså¿«æ·é”®ï¼Œ`ctrl k` + `ctrl s`ï¼Œ\r\n\r\nç„¶åæœç´¢trigger parameter hintï¼Œä¿®æ”¹ä¸º`ctrl p`\r\n\r\né»˜è®¤`ctrl p`æ˜¯è¢«go toç»‘å®šäº†ï¼Œå°†go toå¿«æ·é”®åˆ‡æ¢ä¸ºå‚æ•°æç¤ºé»˜è®¤çš„`ctrl shift space`\r\n\r\nç„¶åå°±æ˜¯Javaçš„å‘ï¼Œè¿˜éœ€è¦åœ¨setting - extensions - java\r\n\r\næœç´¢signature helpï¼Œè®¾ç½®ä¸ºenableã€‚\r\n\r\n## å¸¸ç”¨å¿«æ·é”®\r\n\r\n- format: `shift + alt + f`\r\n\r\n- organize import: `shift + alt + o`\r\n\r\n- assign variable: `ctrl + shift + r`\r\n\r\n","post/2022/20220326/":"\n## å‰è¨€\n\nå…¶å®å¾ˆæ—©çš„æ—¶å€™å°±å¬åˆ°äº†copilotçš„æ¶ˆæ¯ï¼Œé‚£ä¸ªæ—¶å€™ä»¥ä¸ºcopilotåªæ˜¯ä¸ªæ¯”è¾ƒåªèƒ½çš„ä»£ç æç¤ºå·¥å…·ï¼Œå†åŠ ä¸Šè¿˜å¤„äºæµ‹è¯•é˜¶æ®µï¼Œäºæ˜¯ä¹Ÿæ²¡æœ‰å»ç”³è¯·ï¼Œä½†æ˜¯åœ¨å‰æ®µæ—¶é—´çœ‹åˆ°åˆ«äººåˆ†äº«çš„copilotå†™ç®—æ³•é¢˜ï¼Œé¡¿æ—¶è§‰å¾—ååˆ†æœ‰è¶£ï¼Œä¾¿å»ç”³è¯·äº†previewèµ„æ ¼ï¼Œç›´åˆ°æœ€è¿‘æ‰è·å¾—èµ„æ ¼ï¼Œæ‰€ä»¥æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚\n\n## å‡†å¤‡å·¥ä½œ\n\nç›´æ¥ä¸Šå®˜ç½‘ç”³è¯·èµ„æ ¼å³å¯ã€‚\n\n:::tip\n[https://copilot.github.com/](https://copilot.github.com/)\n:::\n\néœ€è¦æ³¨æ„ç›®å‰ä»…æ”¯æŒä»¥ä¸‹å¹³å°\n\n- [Visual Studio](https://github.com/github/copilot-docs/blob/main/docs/visualstudio/gettingstarted.md#getting-started-with-github-copilot-in-visual-studio)\n\n- [Visual Studio Code](https://github.com/github/copilot-docs/blob/main/docs/visualstudiocode/gettingstarted.md#getting-started-with-github-copilot-in-visual-studio-code)\n\n- [JetBrains](https://github.com/github/copilot-docs/blob/main/docs/jetbrains/gettingstarted.md#getting-started-with-github-copilot-in-jetbrains)\n\n- [Neovim](https://github.com/github/copilot.vim#getting-started)\n\nè¿™è¾¹ç›®å‰æ˜¯ä½¿ç”¨VSCodeè¿›è¡Œæµ‹è¯•ï¼ŒVSCode YYDS!\n\nå…·ä½“æ“ä½œå°±æ˜¯æ‰“å¼€VSCodeï¼Œä¸‹è½½Github Copilotæ’ä»¶ï¼Œä¼šè·³è½¬Githubç½‘é¡µè¿›è¡Œæˆæƒï¼Œä¹‹åä¼šæç¤ºä¸€ä¸ªè®¸å¯åè®®ï¼ŒåŒæ„ä¹‹åå³ä¸‹è§’ä¼šå‡ºç°ä¸ªcopilotçš„logoï¼Œç‚¹å‡»å¯é€‰æ‹©æ˜¯å¦æ¿€æ´»ã€‚\n\n:::warning\nå»ºè®®åœ¨ä¸é‡è¦çš„æœ¬åœ°é¡¹ç›®ä¸­è¿›è¡Œæµ‹è¯•ï¼Œç›®å‰copilotè¿˜ä¸æ”¯æŒç¦»çº¿å·¥ä½œã€‚\n:::\n\n## æµ‹è¯•\n\nä¸‹è½½å®Œä¹‹åå½“ç„¶æ˜¯è¿›è¡Œæµ‹è¯•äº†ï¼Œé¦–å…ˆæµ‹è¯•äº†é€šè¿‡æ³¨é‡Šç”Ÿæˆä»£ç ï¼Œè¿™é‡Œè¯•äº†ä¸‹è·å–æœ€å¤§å…¬çº¦æ•°ï¼Œæ•ˆæœå¦‚ä¸‹å›¾ï¼š\n\n![20220326203427.png](https://cdn.jsdelivr.net/gh/alightyoung/static@main/img/20220326203427.png)\n\näº‹å®ä¸Šæˆ‘åœ¨è¾“å…¥get greastestæ³¨é‡Šæ—¶ï¼Œcopilotå°±å·²ç»ç»™æˆ‘è¡¥å…¨åˆ°common divisor.\n\né™¤äº†è‹±æ–‡æ³¨é‡Šä¹‹å¤–ï¼Œ\n\n![20220326205604.png](https://cdn.jsdelivr.net/gh/alightyoung/static@main/img/20220326205604.png)\n\nå­—éƒ½æ²¡æ‰“å®Œå°±è”æƒ³å®Œäº†ã€‚ã€‚ã€‚\n\nä»¥ä¸‹æ˜¯ä¸­æ–‡æ³¨é‡Šè”æƒ³çš„ç»“æœ\n\n![20220326205749.png](https://cdn.jsdelivr.net/gh/alightyoung/static@main/img/20220326205749.png)\n\n~~å¸¸è§çš„å‡½æ•°è”æƒ³ï¼Œè¿˜æ˜¯ååˆ†æœ‰æ•ˆçš„ã€‚å”¯ä¸€çš„é—®é¢˜æ˜¯ä¸­æ–‡è¾“å…¥æ—¶ï¼Œtabè¡¥å…¨~~\n\n![20220326205942.png](https://cdn.jsdelivr.net/gh/alightyoung/static@main/img/20220326205942.png)\n\n~~å®é™…ä¸Šä¸æ˜¯ä¸­æ–‡çš„é—®é¢˜ï¼Œåˆ‡æ¢åˆ°è‹±æ–‡è¾“å…¥æ³•tabåŒæ ·æ— æ•ˆï¼Œå¯èƒ½æ˜¯markdownæ–‡ä»¶ä¸­ä¸è¡Œå§ï¼Œéœ€è¦hoveråˆ°è¡¥å…¨å†…å®¹ä¸Šç‚¹acceptæ‰è¡Œã€‚~~\n\nåŸºæœ¬å¯ä»¥ç¡®å®šæ˜¯å’Œmarkdown all in oneæ’ä»¶å†²çªï¼Œå¯¼è‡´copilot tabæ— æ³•è¡¥å…¨ã€‚\n\nå‚è€ƒï¼š[https://github.com/microsoft/vscode/issues/131953](https://github.com/microsoft/vscode/issues/131953)\n\nåŒæ—¶ï¼Œä¸Šå›¾çš„4ä¸ªå¿«æ·é”®ä¹Ÿååˆ†æœ‰ç”¨ï¼Œå»ºè®®ç†Ÿè®°ã€‚å¦å¤–è¡¥å……ä¸€ä¸ªå¿«æ·é”®ï¼Œ`alt + \\`ï¼Œæ‰‹åŠ¨è§¦å‘copilotçš„è”æƒ³ã€‚\n\nå…¶ä¸­`alt + [`ï¼Œ `alt + ]`æ˜¯åˆ‡æ¢å»ºè®®ï¼Œ`ctrl enter`æ˜¯å¼€ä¸€ä¸ªtabæŸ¥çœ‹æ›´å¤šå»ºè®®ã€‚\n\n## æœ€å\n\nåŸºæœ¬çš„å°è¯•ä¹‹åï¼Œè§‰å¾—copilotçš„è”æƒ³åŠŸèƒ½è¿˜æ˜¯ä¸é”™çš„ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ï¼Œæ–‡å­—è¾ƒå¤šçš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°ç†è§£åå·®ï¼Œéšä¾¿æµ‹è¯•äº†åˆ°ezé¢˜ï¼Œä½†æ˜¯æ–‡å­—æè¿°è¾ƒä¸ºå¤æ‚ï¼Œç„¶åä¸å‡ºæ„æ–™åœ°waäº†ï¼ˆæ¥½\n\nè¿˜æœ‰å°±æ˜¯æ•°æ®å®‰å…¨çš„é—®é¢˜äº†ï¼Œå¦‚æœä»¥åèƒ½æœ‰ç¦»çº¿çš„çš„ç‰ˆæœ¬å¯èƒ½ä¼šè®©å¤§å®¶æ›´æ”¾å¿ƒäº›ã€‚\n\næ­¤å¤–ï¼Œå› ä¸ºç›®å‰åªæ˜¯åœ¨æµ‹è¯•é˜¶æ®µï¼Œä»¥åå¯èƒ½ä¼šæ˜¯ä¸ªç±»ä¼¼tabnineä¹‹ç±»çš„å•†ä¸šé¡¹ç›®ï¼Œä¸”ç”¨ä¸”çæƒœã€‚\n\nä½†æ˜¯ä»¥ä¸Šè¿™äº›é—®é¢˜ä»æ—§ç‘•ä¸æ©ç‘œï¼Œcopilotä¾æ—§æ˜¯ä¸€ä¸ªååˆ†ä¼˜ç§€çš„æ’ä»¶ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œå®˜ç½‘ç”³è¯·æµ‹è¯•å°å°é²œã€‚\n\n\n","post/2022/20220526/":"\r\n## Preface\r\nwrite this to log some useful (probably) Java tips when I face some confusing 'bugs'.\r\n\r\n1. toLowerCase / toUpperCase do not change the original string.","post/2022/20220601/":"\n## Docker Base Command\n\n``` sh\n\n# pull a image from docker hub or another private registry\ndocker pull redis:4.0\n\n# -d: detached mode\n# -p: binding host and docker container port\n# --name: setting the name of container\n# run an image, it will create a container as the environment\ndocker run -d -p 6379:6379 --name redis40 redis:4.0\n\n# -a: show all container process info(including the container ID, name, etc.), even if the container already exited\ndocker ps -a\n\n# go to container inner with an interactive terminal\ndocker exec -it \u003CcontainerID> /bin/bash\n\n# get container logs\n# -f: follow mode\ndocker logs -f \u003CcontainerID>\n\n# start / stop / restart a comtainer with containerID or name\ndocker start / stop / restart \u003CcontainerID | container name>\n\n# remove container\n# -v also remove the volumn of container\ndocker rm \u003CcontainerID>\n\n# show images info\ndocker images\n\n# remove images\ndocker image rm \u003CimageID>\n```\n\n## Volume\n\n``` sh\n\n# create a volume\ndocker volume create \u003Cvolume name>\n\n# ls: show all volumes\n# -f: equals to --filter\n# -f \"dangling=true\" filter all volumes that are not used by at least one container\ndocker volume ls\n\n# inspect a volume\ndocker volume inspect \u003CvolumeID or name>\n\n# start a container with volume, you can also use in docker run command\ndocker run -d --name nginx -v myvol:/app nginx\n\n# remove a volume\ndocker volumn rm \u003Cvolume ID or name>\n\n# remove all volumes which are not binding to container (can binding more than one container)\ndocker volumn prune\n\n```\n\nview details: [docker volume](https://docs.docker.com/engine/reference/commandline/volume/)\n\n## Network\n\n``` sh\n\n# show all network\ndocker network ls\n\n# there are three default network (1. bridge 2. host 3. none)\n# by default, docker container will use the bridge network\n\n# to inspect network status\ndocker network inspect bridge\n\n# to find the container ip address, you can use\n# in windows, change the grep to findstr\ndocker inpect \u003CcontainerID> | grep -i \"ipaddress\"\n# or\ndocker network inspect \u003Cthe network your container in>\n\n# create network\n# driver : 1. bridge 2. host 3. none\ndocker network create --driver bridge \u003Cnetwork name>\n\n# now you can run some image with --network to specify the network, etc.\ndocker run -d --name redis --network \u003Cnetwork name> -p 6379:6379 redis\n\n# delete network\ndocker network rm \u003Cnetwork name>\n```\n\nview details: [docker network](https://docs.docker.com/engine/reference/commandline/network/)\n\n## Docker Compose\n\nFor running mutiple docker containers.\n\n``` sh\ndocker-compose -f \u003Cconfig file path> \u003Cup or down> -d\n# you also can use compose in docker CLI like below if your docker version is recently released\ndocker compose -f \u003Cconfig file path> \u003Cup or down> -d\n```\nNormally, you also need a configuration file to tell docker-compose which action you want to do.\n\nNote the configuration file type is yaml.\n\nFor example.\n\n```yaml\nversion: \"2.6.1\"\nservices:\n  redis:\n    image: \"redis\"\n    container_name: \"redis\"\n    ports:\n      - \"6379:6379\"\n    volumes:\n      - redis:/data\n  mysql:\n    image: \"mysql\"\n    container_name: \"mysql\"\n    ports:\n      - \"3306:3306\"\n    volumes:\n      - mysql:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: password\n\nvolumes:\n  mysql:\n  redis:\n\n# volumes:\n#   mysql:\n#     external: true\n#   redis:\n#     external:\n#       name: \"\"\n#   postgre:\n#     driver: local\n```\n\n:::tip\ndocker compose will create a network with bridge driver by default, and all services(containers) will running in the same network.\n:::\n\nview details: [docker compose](https://docs.docker.com/engine/reference/commandline/compose/)\n\n## Docker Build Own Image & Push to Repository\n\n### Build from Dockerfile\n\ndockerfile example\n```\nFROM nginx\n\nCOPY ./index.html /usr/share/nginx/html\n```\n\nthen `docker build -t alightyoung/mynginx:1.0 .`\n\nuse `docker image ls` to show image.\n\nand test with `docker run -d -p 8080:80 alightyoung/mynginx:1.0`\n\n:::warning\nTo push an image to Docker Hub, you must first name your local image using your Docker Hub username and the repository name that you created through Docker Hub on the web.\n:::\n\n```sh\n# build\ndocker build -t \u003Chub-user>/\u003Crepo-name>[:\u003Ctag>]\n# re-tagging\ndocker tag \u003Cexisting-image> \u003Chub-user>/\u003Crepo-name>[:\u003Ctag>]\n# commit changes\ndocker commit \u003Cexisting-container> \u003Chub-user>/\u003Crepo-name>[:\u003Ctag>]\n```\n\nview details: [docker build](https://docs.docker.com/engine/reference/commandline/build/)\n\n### Push to Docker Hub Repository\n\nFirst, you need to register an account of docker hub and create a repository.\n\n\n:::warning\nnote the repo name must be the same as the name of the image you have just built.\n:::\n\nthen use `docker login` to verify your account.\n\nby using `docker push alightyoung/mynginx:1.0` to push local image to docker hub.\n\nif your image is public then anyone can pull your image using `docker pull alightyoung/mynginx:1.0`\n\nview details:\n- [docker login](https://docs.docker.com/engine/reference/commandline/login/)\n- [docker push](https://docs.docker.com/engine/reference/commandline/push/)\n- [repositories](https://docs.docker.com/docker-hub/repos/)\n\n## Build new image from existed image\n\n- run existed image by `docker run -it --rm \u003Cimage_id>`\n- copy or exec in container by `docker cp /local/data containerId:/root/data/` or `docker exec -it \u003Ccontainer_id> bash`\n- commit a new image from the container by `docker commit \u003Ccontainer_id> imagename:tagname`\n\n:::warning\nYou can not exit the container started by docker run before commit successful.\n:::\n\n\n\n\n\n","post/2022/20220810/":"\n:::tip\nWorking on 1.3.524\n\nTheme Foler: `${wox}/app-version/Themes`\n:::\n\n### BlurBlackRadius.xaml\n\n```xml\n\u003CResourceDictionary xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n                    xmlns:system=\"clr-namespace:System;assembly=mscorlib\">\n    \u003CResourceDictionary.MergedDictionaries>\n        \u003CResourceDictionary Source=\"Base.xaml\" />\n    \u003C/ResourceDictionary.MergedDictionaries>\n\n    \u003Csystem:Boolean x:Key=\"ThemeBlurEnabled\">True\u003C/system:Boolean>\n\n    \u003CStyle x:Key=\"QueryBoxStyle\" BasedOn=\"{StaticResource BaseQueryBoxStyle}\" TargetType=\"{x:Type TextBox}\">\n        \u003CSetter Property=\"Foreground\" Value=\"#FFFFFFFF\" />\n        \u003CSetter Property=\"Background\" Value=\"#01000001\" />\n    \u003C/Style>\n\n    \u003CStyle x:Key=\"WindowBorderStyle\" BasedOn=\"{StaticResource BaseWindowBorderStyle}\" TargetType=\"{x:Type Border}\">\n        \u003CSetter Property=\"Background\">\n            \u003CSetter.Value>\n                \u003CSolidColorBrush Color=\"Black\" Opacity=\"0.3\"/>\n            \u003C/Setter.Value>\n        \u003C/Setter>\n        \u003CSetter Property=\"CornerRadius\" Value=\"10\"/>\n        \u003C!-- \u003CSetter Property=\"Margin\" Value=\"10\"/> -->\n        \u003C!-- \u003CSetter Property=\"Window.Effect\">\n            \u003CSetter.Value>\n                \u003CDropShadowEffect Color=\"black\"\n                                  ShadowDepth=\"0\"\n                                  BlurRadius=\"10\"/>\n            \u003C/Setter.Value>\n        \u003C/Setter> -->\n    \u003C/Style>\n\n    \u003CStyle x:Key=\"WindowStyle\" BasedOn=\"{StaticResource BaseWindowStyle}\" TargetType=\"{x:Type Window}\">\n        \u003CSetter Property=\"Background\">\n            \u003CSetter.Value>\n                \u003CSolidColorBrush Color=\"white\" Opacity=\"0\"/>\n            \u003C/Setter.Value>\n        \u003C/Setter>\n        \u003C!-- \u003CSetter Property=\"Background\" Value=\"Transparent\"/> -->\n    \u003C/Style>\n\n    \u003CStyle x:Key=\"PendingLineStyle\" BasedOn=\"{StaticResource BasePendingLineStyle}\" TargetType=\"{x:Type Line}\">\n    \u003C/Style>\n\n    \u003C!-- Item Style -->\n    \u003CStyle x:Key=\"ItemTitleStyle\"  BasedOn=\"{StaticResource BaseItemTitleStyle}\" TargetType=\"{x:Type TextBlock}\">\n        \u003CSetter Property=\"Margin\" Value=\"0, -10\"/>\n        \u003CSetter Property=\"Foreground\" Value=\"#FFFFFFFF\"/>\n    \u003C/Style>\n    \u003CStyle x:Key=\"ItemSubTitleStyle\" BasedOn=\"{StaticResource BaseItemSubTitleStyle}\" TargetType=\"{x:Type TextBlock}\" >\n        \u003CSetter Property=\"Foreground\" Value=\"#FFFFFFFF\"/>\n    \u003C/Style>\n    \u003CStyle x:Key=\"ItemTitleSelectedStyle\" BasedOn=\"{StaticResource BaseItemTitleSelectedStyle}\"  TargetType=\"{x:Type TextBlock}\" >\n        \u003CSetter Property=\"Margin\" Value=\"0, -10\"/>\n        \u003CSetter Property=\"Foreground\" Value=\"#FFFFFFFF\"/>\n    \u003C/Style>\n    \u003CStyle x:Key=\"ItemSubTitleSelectedStyle\" BasedOn=\"{StaticResource BaseItemSubTitleSelectedStyle}\" TargetType=\"{x:Type TextBlock}\" >\n        \u003CSetter Property=\"Foreground\" Value=\"#FFFFFFFF\"/>\n    \u003C/Style>\n    \u003CSolidColorBrush x:Key=\"ItemSelectedBackgroundColor\">#356ef3\u003C/SolidColorBrush>\n\n    \u003C!-- button style in the middle of the scrollbar -->\n    \u003CStyle x:Key=\"ThumbStyle\" BasedOn=\"{StaticResource BaseThumbStyle}\" TargetType=\"{x:Type Thumb}\">\n    \u003C/Style>\n\n    \u003CStyle x:Key=\"ScrollBarStyle\" BasedOn=\"{StaticResource BaseScrollBarStyle}\" TargetType=\"{x:Type ScrollBar}\">\n        \u003CSetter Property=\"Background\" Value=\"#a0a0a0\"/>\n    \u003C/Style>\n\u003C/ResourceDictionary>\n```\n\n### BlueWhiteRadius.xaml\n\n```xml\n\u003CResourceDictionary xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\" xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\" xmlns:system=\"clr-namespace:System;assembly=mscorlib\">\n    \u003CResourceDictionary.MergedDictionaries>\n        \u003CResourceDictionary Source=\"Base.xaml\" />\n    \u003C/ResourceDictionary.MergedDictionaries>\n\n    \u003Csystem:Boolean x:Key=\"ThemeBlurEnabled\">True\u003C/system:Boolean>\n\n    \u003CStyle x:Key=\"QueryBoxStyle\" BasedOn=\"{StaticResource BaseQueryBoxStyle}\" TargetType=\"{x:Type TextBox}\">\n        \u003CSetter Property=\"Foreground\" Value=\"#FF000000\" />\n        \u003CSetter Property=\"Background\" Value=\"#01FFFFFF\" />\n    \u003C/Style>\n\n    \u003CStyle x:Key=\"WindowBorderStyle\" BasedOn=\"{StaticResource BaseWindowBorderStyle}\" TargetType=\"{x:Type Border}\">\n        \u003CSetter Property=\"Background\">\n            \u003CSetter.Value>\n                \u003CSolidColorBrush Color=\"white\" Opacity=\"0.3\" />\n            \u003C/Setter.Value>\n        \u003C/Setter>\n        \u003CSetter Property=\"CornerRadius\" Value=\"10\" />\n    \u003C/Style>\n\n    \u003CStyle x:Key=\"WindowStyle\" BasedOn=\"{StaticResource BaseWindowStyle}\" TargetType=\"{x:Type Window}\">\n        \u003CSetter Property=\"Background\">\n            \u003CSetter.Value>\n                \u003CSolidColorBrush Color=\"White\" Opacity=\"0\" />\n            \u003C/Setter.Value>\n        \u003C/Setter>\n    \u003C/Style>\n\n    \u003CStyle x:Key=\"PendingLineStyle\" BasedOn=\"{StaticResource BasePendingLineStyle}\" TargetType=\"{x:Type Line}\">\u003C/Style>\n\n    \u003C!-- Item Style -->\n    \u003CStyle x:Key=\"ItemTitleStyle\" BasedOn=\"{StaticResource BaseItemTitleStyle}\" TargetType=\"{x:Type TextBlock}\">\n        \u003CSetter Property=\"Margin\" Value=\"0, -10\" />\n        \u003CSetter Property=\"Foreground\" Value=\"#FF000000\" />\n    \u003C/Style>\n    \u003CStyle x:Key=\"ItemSubTitleStyle\" BasedOn=\"{StaticResource BaseItemSubTitleStyle}\" TargetType=\"{x:Type TextBlock}\">\n        \u003CSetter Property=\"Foreground\" Value=\"#FF000000\" />\n    \u003C/Style>\n    \u003CStyle x:Key=\"ItemTitleSelectedStyle\" BasedOn=\"{StaticResource BaseItemTitleSelectedStyle}\" TargetType=\"{x:Type TextBlock}\">\n        \u003CSetter Property=\"Margin\" Value=\"0, -10\" />\n        \u003CSetter Property=\"Foreground\" Value=\"#FFFFFFFF\" />\n    \u003C/Style>\n    \u003CStyle x:Key=\"ItemSubTitleSelectedStyle\" BasedOn=\"{StaticResource BaseItemSubTitleSelectedStyle}\" TargetType=\"{x:Type TextBlock}\">\n        \u003CSetter Property=\"Foreground\" Value=\"#FFFFFFFF\" />\n    \u003C/Style>\n    \u003CSolidColorBrush x:Key=\"ItemSelectedBackgroundColor\">#356ef3\u003C/SolidColorBrush>\n\n    \u003C!-- button style in the middle of the scrollbar -->\n    \u003CStyle x:Key=\"ThumbStyle\" BasedOn=\"{StaticResource BaseThumbStyle}\" TargetType=\"{x:Type Thumb}\">\u003C/Style>\n\n    \u003CStyle x:Key=\"ScrollBarStyle\" BasedOn=\"{StaticResource BaseScrollBarStyle}\" TargetType=\"{x:Type ScrollBar}\">\n        \u003CSetter Property=\"Background\" Value=\"#a0a0a0\" />\n    \u003C/Style>\n\u003C/ResourceDictionary>\n\n```\n","post/2022/20220829/":"\n### Download ISO\n\nThe first thing you need to do is download Debian image file, which can be found here, [Downloading Debian CD/DVD images via HTTP/FTP](https://www.debian.org/CD/http-ftp/).\n\n### Create Bootable USB Driver\n\n**BURN Tools**: to create bootable USB drivers.\n\n**Live USB Driver**: supports live driver, which means it can set persistence partition.\n\n1. [Rufus](https://rufus.ie/zh/) (Support Live USB Driver)\n\n2. [balenaEtcher](https://www.balena.io/etcher/)\n\n3. [UNetbootin](https://unetbootin.github.io/) (Support Live USB Driver)\n\n\n### Free a Patition or Disk\n\nIn Windows11, right click the windows menu, and select disk management. and then refer to [Overview of Disk Management | Microsoft Docs](https://docs.microsoft.com/en-us/windows-server/storage/disk-management/overview-of-disk-management)\n\nYou will need this space to store Debian OS and mounting file system.\n\n### Change Bios Settings\n\nAfter burning the Debian image, you should go to the bios settings (looking for help from your vendor website) to set the priority of the computer boot item and make sure the USB driver is in the top order.\n\n### Finsh Setup Guide\n\nJust follow the setup guide to finish the installation process. Be careful to mount the file system on disk or partition right, otherwise, you will never get those data back.\n\n### Setting Mirror Site\n\nJust edit /etc/apt/sources.list file, you'd better backup it first.\n\nrefer to [Debian Tsinghua Open Source Mirror](https://mirrors.tuna.tsinghua.edu.cn/help/debian/)\n\n### Set Environment Variables\n\nJust edit `~/.bashrc` or `~/zshrc` and append the following commands.\n\nFor Example, add JDK to PATH.\n\n```bash\nexport JAVA_HOME=\"path/to/yourJDK\"\nexport PATH=\"PATH:$JAVA_HOME/bin/\"\n```\n\n### Questions & Answers\n\n1 failed to load firmware rtl...(-2).\n\n:::tip\nThis question occurred while I using the Rufus to burn the image, it was disappeared when I used balenaEtcher.\n\n**more references:**\n\n[unable to load firmware rtl_nic in Debian 11 | pacesettergraam](https://pacesettergraam.wordpress.com/2021/09/25/unable-to-load-firmware-rtl_nic-in-debian-11/)\n:::\n\n\n2 failed to detect external monitor.\n\n:::tip\nThis is because the dual graphics card is not properly driven, there are two solutions.\n\n- only use the discrete graphics card in bios settings if your computer vendor supports it.\n- refer to [NVIDIA Optimus](https://wiki.debian.org/NVIDIA%20Optimus)\n\n**more references:**\n\n[NvidiaGraphicsDrivers](https://wiki.debian.org/NvidiaGraphicsDrivers)\n:::\n\n3 Restart failed after installing nvidia-driver package.\n\n:::tip\nThis can be solved by entering recovery mode (advance boot Debian with recovery mode).\n\nfirst, you need to enable the network, you can check your network interface name by `ip link`, and up the interface by `ip link set eno1 up`, note modify the eno1 to yourself interface name that checked before this step. finally, use `dhclient eno1` to get ip address so that make network works.\n\nthe next thing you should do is run `apt purge nvidia-*` and `apt install linux-headers-amd64 nvidia-driver firmware-misc-nonfree`, these two commands can help you reinstall the nvidia driver.\n:::\n","post/2022/20221009/":"\n## èµ·å› \n\nå› ä¸ºå¹³æ—¶çš„ä¸»åŠ›ç³»ç»Ÿè¿˜æ˜¯åœ¨ä½¿ç”¨ Windowsï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«å¼ºçƒˆçš„éœ€æ±‚éå¾—ä½¿ç”¨ Linuxï¼Œæ‰€ä»¥ä½¿ç”¨é»˜è®¤çš„ Windows Powershell 5 ä¼¼ä¹æ˜¯ä¸€ä»¶é¡ºç†æˆç« çš„äº‹æƒ…ï¼Œç„¶è€Œåœ¨ä¸€æ¬¡ VSCode çš„ Terminal Shell Integration çš„åŠŸèƒ½ä¸­ï¼Œçªç„¶å‘ç° Windows Powershell 5 å±…ç„¶ä¸æ”¯æŒï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿ç§»çš„æƒ³æ³•ã€‚\n\nç„¶è€Œäº‹å®ä¸Šæ ¹æœ¬ä¸éœ€è¦è¿ç§»ï¼Œå› ä¸º Powershell 7 ä¸ Windows Powershell 5 æ˜¯å…±å­˜çš„ï¼Œä¸è¿‡è¿˜æ˜¯æ‰“ç®—å†™ä¸‹è¿™ç¯‡æ—¥å¿—ç”¨äºè®°å½•åˆ‡æ¢åˆ° Powerhsell 7 çš„è¿‡ç¨‹ã€‚\n\n## Powershell 7\n\nPowershell 7 ä¸ Windows Poershell 5 æœ€å¤§çš„åŒºåˆ«æ˜¯ Powershell 7 æ˜¯å…¨å¹³å°æ”¯æŒï¼Œå¹¶ä¸”è¢«å®£ç§°ä¸ºä¸“é—¨ä¸ºäº‘ç¯å¢ƒè®¾è®¡ï¼Œè¿™è®©å¾ˆå¤šä½¿ç”¨ Windows Powershell çš„äººå¯ä»¥åœ¨è¿œç¨‹ Linux æ—¶ä¹Ÿèƒ½ä½¿ç”¨è‡ªå·±ç†Ÿæ‚‰çš„ Shell ç¯å¢ƒã€‚ï¼ˆè™½ç„¶å¤§éƒ¨åˆ†äººå¯èƒ½è¿˜æ˜¯ä¼šé€‰æ‹© ZSH å§ï¼‰ï¼Œä¸è¿‡è¿™ç§æ”¯æŒç¡®å®èƒ½ç»™ç”¨æˆ·å¾ˆå¤§çš„è¯±æƒ‘åŠ›ã€‚\n\nå…³äº Powershell 7 çš„ç‰¹æ€§ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œç›´æ¥å¼•ç”¨å®˜æ–¹åŸè¯å§ã€‚\n\n> Powershell 7 Features\n>\n> Designed for cloud, on-premises, and hybrid environments, PowerShell 7 is packed with enhancements and new features.\n>\n> - Installs and runs side-by-side with Windows PowerShell\n> - Improved compatibility with existing Windows PowerShell modules\n> - New language features, like ternary operators and ForEach-Object -Parallel\n> - Improved performance\n> - SSH-based remoting\n> - Cross-platform interoperability\n> - Support for Docker containers\n>\n> æ¥è‡ª [Migrating from Windows PowerShell 5.1 to PowerShell 7](https://learn.microsoft.com/en-us/powershell/scripting/whats-new/migrating-from-windows-powershell-51-to-powershell-7?view=powershell-7.2)\n\n## è¿ç§»\n\n1 å®‰è£… Powershell 7ï¼Œ[Windows ä¼ é€é—¨](https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-windows?view=powershell-7.2) ï¼Œå…¶ä»–ç³»ç»Ÿä¾‹å¦‚ Linuxï¼ŒmacOSï¼ŒArmï¼ŒDocker å¯ç›´æ¥åœ¨ä¾§æ åˆ‡æ¢å³å¯ã€‚\n\n\n2 Windows Terminal é…ç½®ï¼Œä¼šè‡ªåŠ¨æ·»åŠ é…ç½®é¡¹ï¼Œåªéœ€è¦åˆ‡æ¢é»˜è®¤é…ç½®æ–‡ä»¶ä¸º Powershell 7 å³å¯ã€‚\n\n\n3 é»˜è®¤çš„å®‰è£…ä½ç½®ï¼š\n    - Windows PowerShell 5.1: `$env:WINDIR\\System32\\WindowsPowerShell\\v1.0`\n    - PowerShell 6.x: `$env:ProgramFiles\\PowerShell\\6`\n    - PowerShell 7: `$env:ProgramFiles\\PowerShell\\7`\n\n\n4 Powershell æ¨¡å—è·¯å¾„ä¸ Windows Powershell æ˜¯éš”ç¦»çš„ï¼Œä½†æ˜¯ Powershell çš„é»˜è®¤æ¨¡å—è·¯å¾„æ—¶åŒ…æ‹¬ Windows Powershell çš„æ¨¡å—è·¯å¾„çš„ï¼Œä¸”è¿™äº›æ¨¡å—å¤§æ¦‚ç‡æ˜¯å…¼å®¹ Powershell 7 çš„ï¼Œè¿™æ„å‘³ç€ä½ ä¸ç”¨é‡æ–°ä¸‹è½½æ¨¡å—ï¼Œåªéœ€è¦æ‹·è´ä¸€ä»½åŸæ¥çš„é…ç½®æ–‡ä»¶å³å¯ã€‚æƒ³æŸ¥çœ‹å…·ä½“è·¯å¾„å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š`$Env:PSModulePath -split (';')`ã€‚ä»¥ä¸‹æ˜¯ä¸åŒèŒƒå›´çš„æ¨¡å—è·¯å¾„è¯´æ˜ã€‚\n\n| Install Scope                    | Windows PowerShell 5.1                                | PowerShell 7.0                         |\n| :------------------------------- | :---------------------------------------------------- | :------------------------------------- |\n| PowerShell modules               | `$env:WINDIR\\system32\\WindowsPowerShell\\v1.0\\Modules` | `$PSHOME\\Modules`                      |\n| User installed AllUsers scope    | `$env:ProgramFiles\\WindowsPowerShell\\Modules`         | `$env:ProgramFiles\\PowerShell\\Modules` |\n| User installed CurrentUser scope | `$HOME\\Documents\\WindowsPowerShell\\Modules`           | `$HOME\\Documents\\PowerShell\\Modules`   |\n\n5 å¤åˆ¶ä¸€ä»½åŸæ¥çš„é…ç½®æ–‡ä»¶åˆ°æ–°çš„è·¯å¾„ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™æ–°å»ºã€‚Windows Powershell çš„è·¯å¾„æ˜¯ `$HOME\\Documents\\WindowsPowerShell`ï¼Œè€Œ Powershell çš„è·¯å¾„ä¸º `$HOME\\Documents\\PowerShell`. é™¤äº†ç”¨æˆ·çº§åˆ«çš„é…ç½®æ–‡ä»¶ä¹‹å¤–ï¼Œè¿˜æœ‰å…¨å±€çš„é…ç½®æ–‡ä»¶ï¼Œä¸”é…ç½®æ–‡ä»¶çš„åå­—ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œå…·ä½“å‚è€ƒä»¥ä¸‹å‘½ä»¤è¾“å‡ºç»“æœã€‚\n\n```powershell\nPS> $PROFILE | Select-Object *Host* | Format-List\n\nAllUsersAllHosts       : C:\\Program Files\\PowerShell\\7\\profile.ps1\nAllUsersCurrentHost    : C:\\Program Files\\PowerShell\\7\\Microsoft.PowerShell_profile.ps1\nCurrentUserAllHosts    : C:\\Users\\\u003Cuser>\\Documents\\PowerShell\\profile.ps1\nCurrentUserCurrentHost : C:\\Users\\\u003Cuser>\\Documents\\PowerShell\\Microsoft.PowerShell_profile.ps1\n```\n\néœ€è¦äº†è§£æ›´å¤šçš„é…ç½®é¡¹å¯ä»¥å‚è€ƒ [about_Profiles](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles)ã€‚\n\n6 æœ€åå†æŠŠ VSCode çš„ç»ˆç«¯é»˜è®¤ä½¿ç”¨ Powershell 7 å³å¯ã€‚æ­¥éª¤ï¼Œæ‰“å¼€å‘½ä»¤é¢æ¿ `Ctrl Shift P`ï¼Œ`Terminal: Select Default Profile`ï¼Œç„¶åé€‰æ‹© Powershell 7 çš„é‚£ä¸ªé…ç½®å°±è¡Œäº†ã€‚éšåå°±å¯ä»¥ä½“éªŒåˆ°å¢å¼ºçš„ç»ˆç«¯åŠŸèƒ½äº†ï¼Œæ¯”å¦‚æ‰§è¡Œå‘½ä»¤å¤±è´¥ä¼šåœ¨å‘½ä»¤çš„å·¦è¾¹æœ‰ä¸ªçº¢è‰²æ–­ç‚¹ï¼ŒæˆåŠŸä¸ºè“è‰²ï¼ŒåŒæ—¶å³ä¾§è¿›åº¦æ¡ä¹Ÿä¼šæœ‰æé†’ï¼Œæ–¹ä¾¿å¿«é€Ÿå®šä½å‘½ä»¤ï¼ŒåŒæ—¶å·¦ä¾§æ–­ç‚¹å¯ä»¥ç›´æ¥é‡æ–°æ‰§è¡Œå‘½ä»¤ï¼Œå¤åˆ¶å‘½ä»¤è¾“å‡ºä¸ºåŸºç¡€æ ¼å¼ï¼ŒHTMLæ ¼å¼ç­‰ï¼Œæ›´å¤šåŠŸèƒ½å¯ä»¥æŸ¥çœ‹ [Terminal Shell Integration](https://code.visualstudio.com/docs/terminal/shell-integration)\n\n## é…ç½®æ–‡ä»¶å¤‡ä»½\n\n```powershell\n# oh my posh\noh-my-posh --init --shell pwsh --config ~/scoop/apps/oh-my-posh/current/themes/zash.omp.json | Invoke-Expression\n# posh-git\nImport-Module posh-git\n```\n\n## ç»“æŸ\n\nè‡³æ­¤ï¼Œè¿ç§»åˆ° Powershell 7 çš„å·¥ä½œåŸºæœ¬ç»“æŸï¼Œæƒ³äº†è§£ Powershell çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è¿œç¨‹æ”¯æŒï¼Œç»„ç­–ç•¥ç›¸å…³å¯ä»¥æŸ¥çœ‹[å®˜æ–¹æ–‡æ¡£](https://learn.microsoft.com/en-us/powershell/scripting/whats-new/migrating-from-windows-powershell-51-to-powershell-7?view=powershell-7.2)ååŠéƒ¨åˆ†ã€‚\n","post/2022/20221031/":"\r\n## Hello World\r\n\r\n```kotlin\r\nfun main() {\r\n    println(\"Hello world\")\r\n}\r\n```\r\n\r\n## Define/Declare Keyword\r\n\r\n- `val`: define a variable that cannot be modified\r\n- `var`: define a variable that can be modified\r\n\r\n## Basic Data Type\r\n\r\n### Numbers\r\n\r\n#### Integer types\r\n\r\n- `Byte`: 8 bits\r\n- `Short`: 16 bits\r\n- `Int`: 32 bits\r\n- `Long`: 64 bits\r\n\r\n```kotlin\r\nfun main() {\r\n    var a: Byte = 8\r\n    var b: Short = 16\r\n    var c = 32\r\n    var d: Long = 64\r\n    println(a::class.simpleName) // Byte\r\n    println(b::class.java.typeName) // short\r\n    println(c::class.simpleName) // Int\r\n    println(d::class.java.typeName) // long\r\n}\r\n```\r\n\r\n#### Floating-point types\r\n\r\n- `Float`: 32 bits\r\n- `Double`: 64 bits\r\n\r\n```kotlin\r\nfun main() {\r\n    var a = 32f\r\n    var b = 64.0\r\n    println(a::class.simpleName) // Float\r\n    println(b::class.simpleName) // Double\r\n}\r\n```\r\n\r\n#### Literal constants\r\n\r\n```kotlin\r\nfun main() {\r\n    var a = 0xff // hexadecimal == 255\r\n    var b = 0b11 // binary == 3\r\n    var c = 1e9 // 1 * 10 ^ 9 ==> 1000000000\r\n    var d = 1_000_000_000 // 1000000000\r\n    // Octal literals are not supported in Kotlin.\r\n}\r\n```\r\n\r\n#### Unsigned Types\r\n\r\n- `UByte`\r\n- `UShort`\r\n- `UInt`\r\n- `ULong`\r\n- ...\r\n\r\n[https://kotlinlang.org/docs/unsigned-integer-types.html](https://kotlinlang.org/docs/unsigned-integer-types.html)\r\n\r\n### Array\r\n\r\n## Null Safety\r\n\r\n### `?` nullable types\r\n\r\nBy default, Kotlin data type is non-null types, unless you declare it as nullable types with `?`.\r\n\r\n```kotlin\r\nfun main() {\r\n    var a: Int = 1 // cannot be null\r\n    var b: Int? = null // can be null\r\n}\r\n```\r\n\r\n### Safe Calls\r\n\r\n```kotlin\r\nval a = \"Kotlin\"\r\nval b: String? = null\r\nprintln(b?.length)\r\nprintln(a?.length) // Unnecessary safe call\r\n\r\n// check null\r\nval a: String? = null\r\nprintln(if (a?.length == null) \"a is null\" else \"a not null\")\r\nprintln(a?.length == null)\r\na?.length?.dec()?.inc() // call in chain, return null instead of throw NPE\r\n\r\n// let: pass null in safe call\r\nval listWithNulls: List\u003CString?> = listOf(\"Kotlin\", null)\r\nfor (item in listWithNulls) {\r\n    item?.let { println(it) } // prints Kotlin and ignores null\r\n}\r\n\r\n// safe call on left side of assignment\r\n// If either `person` or `person.department` is null, the function is not called:\r\n// person?.department?.head = managersPool.getManager()\r\n```\r\n\r\n### Elvis Operator\r\n\r\n- `${nullable variable} ?: ${otherwise value}`:\r\n\r\ni.e. \r\n\r\n `val l = b?.length ?: -1`\r\n\r\nit equals to:\r\n\r\n`val l: Int = if (b != null) b.length else -1` \r\n\r\nSince `throw` and `return` are expressions in Kotlin, they can also be used on the **right-hand** side of the Elvis operator.\r\n\r\n```kotlin\r\nfun foo(node: Node): String? {\r\n    val parent = node.getParent() ?: return null\r\n    val name = node.getName() ?: throw IllegalArgumentException(\"name expected\")\r\n    // ...\r\n}\r\n```\r\n\r\n### Not Null Assertion Operator !!\r\n\r\n- `!!`: Convert any value to non-null type, and will throw NPE if the reference is null.\r\n\r\ni.e. `val l = b!!.length`\r\n\r\n### Safe Cast\r\n\r\n`val aInt: Int? = a as? Int`: Return null instead of throwing `ClassCastException` when casting objects fail.\r\n\r\n### Collections of a nullable type\r\n\r\n```kotlin\r\nval nullableList: List\u003CInt?> = listOf(1, 2, null, 4)\r\nval intList: List\u003CInt> = nullableList.filterNotNull()\r\n```\r\n\r\n\r\n\r\nnull-safety detail: [https://kotlinlang.org/docs/null-safety.html](https://kotlinlang.org/docs/null-safety.html)\r\n\r\n\r\n\r\n## Collections\r\n\r\ntodo...\r\n","post/2022/20221209/":"\n## å‰è¨€\n\næœ€è¿‘ç½‘ä¸Šå¤§çƒ­çš„ chatGPT å¯è°“æ˜¯å‡ºå°½äº† AI çš„é£å¤´ã€‚åœ¨å„å¤§ç½‘å‹çš„åˆ†äº«å›¾ä¸­éƒ½å¯ä»¥å‘ç° chatGPT ä¸ä»…ä»…åªæ˜¯ä¸€ä¸ªå¯¹è¯èƒ½åŠ›å“è¶Šçš„ AIï¼Œå…¶â€œå†™â€ä»£ç çš„èƒ½åŠ›ä¹Ÿæ˜¯ååˆ†æƒŠè‰³ã€‚ç»è¿‡äº†æ•°å°æ—¶çš„ä½“éªŒï¼Œæˆ‘å‘ç° chatGPT çš„ä»£ç åˆ†æç¼–å†™èƒ½åŠ›å¹¶ä¸æ¯” Copilot å·®ï¼Œå¹¶ä¸”å¼ºå¤§çš„å¯¹è¯åˆ†æèƒ½åŠ›è®©å…¶ä½“éªŒè¦æ¯” Copilot æ›´åŠ å®Œæ•´ï¼ˆCopilot æ›´å€¾å‘ç¼–ç åˆ†æï¼‰ã€‚ä½ ç”šè‡³å¯ä»¥ç”¨å…¶æ›¿ä»£ Google æ¥è§£å†³ä½ æ—¥å¸¸å¼€å‘çš„å¤§éƒ¨åˆ†é—®é¢˜ã€‚\n\n## ä½“éªŒ\n\nåœ¨å†™æœ¬æ–‡æ—¶ï¼Œå‘ç°æœ¬åœ°å·²ç»æ²¡æœ‰ PicGo ç¯å¢ƒäº†ï¼Œäºæ˜¯åœ¨ VSCode æ‰¾åˆ°äº† PicGo æ’ä»¶ï¼Œç„¶è€Œå‘ç°ä¸çŸ¥é“æ€ä¹ˆé…ç½®ä¸Šä¼ åˆ° Githubï¼Œäºæ˜¯æœ‰äº†ä»¥ä¸‹ä¸€å¹•ï¼š\n\n![20221209212432](https://cdn.jsdelivr.net/gh/alightyoung/static/img/20221209212432.png)\n\nå¯ä»¥è¯´ï¼Œè¿™å¾ˆå¤§ç¨‹åº¦ä¸Šå‡å°‘äº†æœç´ ç®€å•é—®é¢˜çš„æ—¶é—´ï¼Œå¯¹äºä¸€äº›å¸¸è§çš„é—®é¢˜ï¼ŒCharGPT æ€»æ˜¯èƒ½å¤Ÿå¾ˆå¿«ç»™å‡ºç­”æ¡ˆã€‚\n\næ­¤æ—¶ï¼Œå¦‚æœä½ å¿˜äº†å¦‚ä½•æ±‚æœ€å¤§å…¬å› æ•°ï¼Œä½ å¯ä»¥ï¼š\n\n![20221209213937](https://cdn.jsdelivr.net/gh/alightyoung/static/img/20221209213937.png)\n\nä»£ç å¤ªå¤æ‚ï¼Ÿ\n\n![20221209214032](https://cdn.jsdelivr.net/gh/alightyoung/static/img/20221209214032.png)\n\nä»£ç å¤ªé•¿ï¼Ÿ\n\n![20221209214100](https://cdn.jsdelivr.net/gh/alightyoung/static/img/20221209214100.png)\n\nä¸å¾—ä¸è¯´ï¼Œä¸Šä¸‹æ–‡åˆ†æçš„èƒ½åŠ›è¿˜ä¸é”™ï¼Œç»™å‡ºçš„ä»£ç ä¹Ÿèƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„å¤åˆ¶ç²˜è´´ã€‚\n\n## æ³¨å†Œ\n\nç»è¿‡ä¸Šè¿°å†…å®¹ï¼Œæˆ‘æƒ³ä½ å·²ç»è¿«ä¸åŠå¾…æƒ³è¦å°è¯•ä½“éªŒè¿™ä¸ªç¥å¥‡çš„ chatGPT äº†ï¼Œç„¶è€Œï¼ŒchatGPT ç›®å‰ä¸æ”¯æŒä¸­å›½å·ç æ³¨å†Œï¼Œè¿™å¹¶ä¸èƒ½é˜»æ­¢ä½ ï¼Œå› ä¸ºè¿™ä¸ªä¸–ç•Œä¸Šè¿˜æœ‰éªŒè¯ç å¹³å°ã€‚å¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥æŸ¥çœ‹æ¥ä¸‹æ¥çš„æ³¨å†Œè¿‡ç¨‹ã€‚\n\næ³¨å†Œ Open AI çš„åœ°å€ï¼š[æ³¨å†Œ OpenAI](https://auth0.openai.com/u/signup/identifier)\n\nåœ¨æ³¨å†Œçš„è¿‡ç¨‹ä¸­ï¼Œä½ éœ€è¦äº¿ç‚¹ç‚¹é­”æ³•ä¿è¯ä½ çš„ç½‘ç»œï¼ˆåœ°åŒºï¼‰èƒ½å¤Ÿæ­£å¸¸æ³¨å†Œ OpenAI ï¼Œéšååœ¨éœ€è¦æ‰‹æœºå·çš„æ—¶å€™ï¼Œè®¿é—®æ¥ç å¹³å°ï¼š[sms-activate.org](https://sms-activate.org/en/)\n\nè¿™ä¸ªå¹³å°çš„éªŒè¯ç ä¸æ˜¯å…è´¹çš„ï¼Œä¸è¿‡ç†è®ºä¸Šä½ é€‰æ‹©æœ€ä¾¿å®œçš„åœ°åŒºåªéœ€è¦ 1 RMBã€‚æ¥ç å¹³å°åŒæ ·éœ€è¦ç®€å•çš„æ³¨å†Œï¼Œç½‘é¡µæ”¯æŒä¸­æ–‡ï¼Œå……å€¼æ”¯æŒæ”¯ä»˜å®ï¼Œå……å€¼ç»“æŸå·¦ä¾§æœç´ æ æœç´¢ `openai` å³å¯ã€‚\n\nå…³äºåœ°åŒºé€‰æ‹©ï¼Œç›®å‰å°åº¦åŒºæ‰‹æœºå·æ˜¯æ”¯æŒçš„ï¼Œä¸”æ¥ç å¹³å°å°åº¦å·ä¹Ÿå¾ˆä¾¿å®œï¼ˆ1 RMB å·¦å³ï¼‰ã€‚\n\né€‰æ‹©ç»“æŸåï¼Œå³ä¾§ä¼šå‡ºç°ä¸€ä¸ªå·ç ï¼Œæœ‰æ•ˆæœŸæ˜¯ 20 åˆ†é’Ÿå†…ï¼Œè¿™ 20 åˆ†é’Ÿè¶³å¤Ÿä½ å» OpenAI è¾“å…¥æ‰‹æœºå·å¹¶å®Œæˆæ¥ç ï¼ŒéªŒè¯ç ä¼šåœ¨ä¸€ä¼šæ˜¾ç¤ºåœ¨æ¥ç å¹³å°çš„æ‰‹æœºå·å³ä¾§ã€‚\n\nåˆ°æ­¤æ³¨å†ŒæˆåŠŸï¼Œå°±å¯ä»¥å¼€å§‹ç›´æ¥ä½¿ç”¨æ³¨å†Œçš„ OpenAI è´¦å·è®¿é—® [chatGPT](https://chat.openai.com/chat) ç½‘ç«™äº†ã€‚\n\n:::warning\nä¸€èˆ¬åˆšæ³¨å†Œç»“æŸç«‹é©¬ç™»å½•å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼Œå»ºè®®ç­‰å¾…ä¸€ä¼šå†å°è¯•ï¼Œä¸€èˆ¬å¯ä»¥æ¶ˆé™¤è¯¥é—®é¢˜ã€‚\n:::\n\n## æœ€å\n\nå®é™…ä¸Šï¼ŒchatGPT çš„åŠŸèƒ½é™¤äº†æŸ¥æ‰¾ä»£ç ï¼Œå¸®ä½  debug ä¹‹å¤–ï¼Œä¹Ÿèƒ½å¤Ÿå¸®ä½ å†™æ•…äº‹ï¼ˆç›®å‰ Github ä¸Šå·²ç»æœ‰äº† chatGPT åœ°ç‰¢ï¼‰ç­‰ã€‚\n\nå¦å¤–æ„Ÿå¹ä¸€ä¸‹æœºå™¨å­¦ä¹ çš„å‘å±•å®åœ¨æ˜¯æ—¥æ–°æœˆå¼‚ï¼Œæ®å®˜ç½‘æè¿°ï¼Œè¯¥æ¨¡å‹ä¼¼ä¹æ˜¯ä¸€ä¸ªå¼ºåŒ–ç›‘ç£å­¦ä¹ çš„æ¨¡å‹ï¼Œä¸è¿‡æ­¤æ¨¡å‹ç®—æ³•å³ä½¿å…¬å¼€ç»å¤§éƒ¨åˆ†äººä¹Ÿæ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®é›†èƒ½å¤Ÿè®­ç»ƒåˆ°è¿™ä¸ªç¨‹åº¦ï¼Œå¯¹äºæ™®é€šäºº/å…¬å¸è€Œè¨€ï¼Œå¯ä»¥è¶æ­¤æ—¶æœºå…è´¹å°å°é²œã€‚\n\néœ€è¦æ³¨æ„æ­¤æ—¶æµ‹è¯•é˜¶æ®µè™½ç„¶å…è´¹ï¼Œä½†æ˜¯ä½ ä»¬**è¾“å…¥çš„æ•°æ®ä¹Ÿéƒ½ä¼šè¢«è®°å½•ä¸‹**çš„ï¼Œå› æ­¤éœ€è¦æ³¨æ„ä¸è¦è¾“å…¥ä¸€äº›ä¿å¯†ä¿¡æ¯ã€‚æ¯•ç«Ÿå…¬å¼€æµ‹è¯•çš„å¦ä¸€ç›®çš„ä¹Ÿæ˜¯æ”¶é›†ä¸€äº›è¾“å…¥æ•°æ®ã€‚\n\nä¼°è®¡æ­¤æ¬¡æµ‹è¯•ç»“æŸï¼ŒchatGPT ä¹Ÿå¾ˆå¿«å°±å’Œ Copilot ä¸€æ ·ï¼Œæ­£å¼è¿›å…¥å•†ä¸šåŒ–é˜¶æ®µäº†ï¼Œæƒ³å°é²œçš„æœ€è¿‘å¯ä»¥ä½“éªŒä¸€ç•ªã€‚\n","post/2023/20230312/":"\n## å‰è¨€\n\nä¹‹å‰ä¸€ç›´æœ‰æƒ³æ³•æ­å»ºä¸€ä¸ªç§æœï¼Œå½“æ—¶ä¸»è¦çœ‹åˆ°æ™®éé‡‡å–çš„è§£å†³æ–¹æ¡ˆæ˜¯ Gitlabï¼Œç„¶è€Œå¯åŠ¨è¯¥é¡¹ç›®éœ€è¦è‡³å°‘ 4G çš„å†…å­˜ï¼Œè¿™å¯¹äºæœåŠ¡å™¨èµ„æºæœ‰é™çš„äººæ¥è¯´ï¼Œååˆ†ä¸å‹å¥½ï¼Œå¹¶ä¸” Gitlab çš„ç®¡ç†åŠŸèƒ½åŸºæœ¬æ˜¯é’ˆå¯¹å›¢é˜Ÿåœºæ™¯å¼€å‘çš„ï¼Œå¯¹äºä¸ªäººè€Œè¨€æœ‰äº›æ€é¸¡ç‰›åˆ€äº†ã€‚\n\näºæ˜¯ï¼Œä¾¿æ‰¾åˆ°äº†å¦å¤–ä¸€ä¸ªæ–¹æ¡ˆï¼Œç›´æ¥é€šè¿‡ Git åˆ›å»ºè£¸ä»“åº“ï¼ˆbare repoï¼‰ã€‚ç„¶åé€šè¿‡ SSH çš„æ–¹å¼è¿›è¡Œä»£ç ä¼ è¾“ã€‚è¯¥æ–¹æ¡ˆè™½ç„¶ç®€å•ï¼Œä½†æ˜¯å¯¹äºä¸ªäººç”¨æˆ·çš„å°å‹æœåŠ¡å™¨ååˆ†å‹å¥½ã€‚\n\n## å‰æ\n\n- æœåŠ¡å™¨ä¸€å°\n\n## æ­¥éª¤\n\n1 é¦–å…ˆæ˜¯åœ¨æœåŠ¡å™¨å®‰è£… Gitã€‚ä¸»æµ Linux å‘è¡Œç‰ˆåŸºæœ¬éƒ½å¯ä»¥é€šè¿‡åŸç”Ÿçš„åŒ…ç®¡ç†å™¨è·å–ï¼Œè¿™é‡Œä¸è¿‡å¤šä»‹ç»ï¼Œä¸‹è½½å®‰è£…ä¹‹åé€šè¿‡ `git --version` æ£€æŸ¥æ˜¯å¦æˆåŠŸå®‰è£…å³å¯ã€‚\n\n2 éšååˆ›å»ºä¸€ä¸ªé sudo ç»„çš„æ–°ç”¨æˆ·ä¸“é—¨ç”¨äºå­˜å‚¨ Git è¿œç¨‹ä»“åº“ã€‚è¿™æ ·ä¼šæ¯”è¾ƒå®‰å…¨ï¼Œå³ä½¿ä½ åªæ˜¯ä¸€ä¸ªäººä½¿ç”¨ï¼Œä½†ä¸‡ä¸€å‘¢ï¼Œå¦‚æœä½ å®åœ¨ä¸æƒ³åˆ›å»ºï¼Œåˆ™å¯ä»¥ç›´æ¥åˆ°æ­¥éª¤ 3ã€‚\n\n```shell\n# åˆ›å»º git ç”¨æˆ·\nsudo useradd git\n# ç»™ git ç”¨æˆ·è®¾ç½®ä¸€ä¸ªå¯†ç \nsudo passwd git\n```\n\n3 åˆ›å»ºæœåŠ¡ç«¯çš„ Git bare repoã€‚\n\n```shell\n# åˆ‡æ¢åˆ° git ç”¨æˆ·\nsu git\n# è¿›å…¥åˆ° git çš„ home ç›®å½•\ncd ~\n# åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨åšä»“åº“\nmkdir repo_name.git\n# è¿›å…¥åˆ°è¯¥ä»“åº“\ncd repo_name.git\n# åˆå§‹åŒ–ä¸ºè£¸ä»“åº“ï¼ˆåªåŒ…å«.gitä¸‹çš„å†…å®¹ï¼‰\ngit init --bare\n```\n\n:::tip\nå¦‚æœä½ éœ€è¦å°† bare repo çš„é»˜è®¤åˆ†æ”¯åˆ‡æ¢ä¸º mainï¼Œå¯ä»¥ä½¿ç”¨ `git symbolic-ref HEAD refs/heads/main`ã€‚æ™®é€šä»“åº“ç±»å‹è®¾ç½®é»˜è®¤åˆ†æ”¯æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æˆ–è€…å‚è€ƒä»¥ä¸‹é“¾æ¥ã€‚\n\nå‚è€ƒé“¾æ¥ï¼š[Stack Overflow - How can I create a Git repository with the default branch name other than \"master\"?](https://stackoverflow.com/questions/42871542/how-can-i-create-a-git-repository-with-the-default-branch-name-other-than-maste)\n:::\n\n4 é€šè¿‡ä»¥ä¸Šå‘½ä»¤ï¼Œä½ å·²ç»æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼ç°åœ¨ä½ éœ€è¦è®©ç”¨æˆ·èƒ½å¤Ÿ SSH åˆ°è¯¥ç”¨æˆ·ï¼Œä½ éœ€è¦å®Œæˆä»¥ä¸‹æ“ä½œï¼š\n\n```shell\n# æœ¬åœ°åˆ›å»º SSH å¯†é’¥ï¼Œå¦‚æœæœ‰å¯ä»¥è·³è¿‡\nssh-keygen\n# æ‹·è´æœ¬åœ°çš„å…¬é’¥ï¼Œé€šå¸¸æ˜¯åœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„ .ssh/id_rsa.pub\n\n# å¤åˆ¶è¯¥å…¬é’¥åˆ°æœåŠ¡å™¨çš„ git ç”¨æˆ·çš„å®¶ç›®å½•ä¸‹çš„ .ssh/authorized_keys ä¸­\n# é€šå¸¸æƒ…å†µè¿™ä¸ªæ–‡ä»¶å¤¹ï¼ˆ.sshï¼‰å’Œæ–‡ä»¶ï¼ˆauthorized_keysï¼‰æ˜¯ä¸å­˜åœ¨çš„ï¼Œéœ€è¦ä½ è‡ªå·±åˆ›å»º\n```\n\n5 åœ¨å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œä½ å°±å·²ç»å®Œæˆäº†å…¨éƒ¨ç»å¤§éƒ¨åˆ†å·¥ä½œäº†ï¼ç°åœ¨åˆ†ä¸ºä¸¤ç§æƒ…å†µã€‚\n\n    - 5.1 ç¬¬ä¸€ç§ä¸ºä½ å·²ç»æœ‰ä¸€ä¸ªæœ¬åœ°ä»“åº“äº†ï¼Œä½ åªæƒ³ push æœ¬åœ°ä»“åº“åˆ°è¿™ä¸ªè¿œç¨‹ä»“åº“ï¼Œé‚£ä¹ˆä½ åªéœ€è¦ç»‘å®šè¿œç¨‹ä»“åº“å³å¯ï¼Œä¾‹å¦‚ `git remote add origin git@ip:repo_name.git`ã€‚\n    - 5.2 ç¬¬äºŒç§æƒ…å†µå°±æ˜¯ä½ æ²¡æœ‰æœ¬åœ°ä»“åº“ï¼Œé‚£ä¹ˆä½ ä»…ä»…åªéœ€è¦é€šè¿‡ `git clone git@ip:repo_name.git` å³å¯æ‹·è´ç©ºé¡¹ç›®è‡³æœ¬åœ°å¹¶å»ºç«‹æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“çš„å…³è”äº†ã€‚\n\n\n:::tip\nç”±äºä¹‹å‰æˆ‘ä»¬æ˜¯ç›´æ¥å°†é¡¹ç›®æ”¾åœ¨ git ç”¨æˆ·çš„å®¶ç›®å½•ä¸‹ï¼Œå› æ­¤è¿™é‡Œæ²¡æœ‰æ¶‰åŠåˆ°ç›¸å¯¹è·¯å¾„ï¼Œå¦‚æœä½ çš„é¡¹ç›®æ˜¯åœ¨ git ç”¨æˆ·ç›®å½•ä¸‹çš„å­ç›®å½•ä¸­ï¼Œé‚£ä¹ˆåˆ™å¯ä»¥æ”¹ä¸º git ç›®å½•ä¸‹çš„ç›¸å¯¹è·¯å¾„ã€‚ä¾‹å¦‚ä»“åº“ä¿å­˜è‡³æœåŠ¡ç«¯çš„ `/home/git/repo/repo_name.git`ï¼Œé‚£ä¹ˆä¸Šè¿°çš„ clone æˆ–è€… remote ä¹‹åçš„è·¯å¾„å°±æ˜¯ `repo/repo_name.git`\n:::\n\n## æœ€å\n\nç¨å¾®è§£é‡Šä»¥ä¸‹ bare repoã€‚å…¶å®å°±æ˜¯åœ¨æ™®é€šä»“åº“ä¸‹çš„ .git ç›®å½•å·²ç»åŒ…å«äº† git éœ€è¦çš„å…¨éƒ¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä»£ç ã€‚è¿™äº›ä¿¡æ¯ä¼šè¢«å‹ç¼©æ‰“åŒ…ä¿å­˜ .git ç›®å½•ä¸­ï¼Œåªä¸è¿‡æ²¡æœ‰é¡¹ç›®ç»“æ„é‚£ä¹ˆç›´è§‚ã€‚\n\nå› æ­¤å¯¹äºæœåŠ¡ç«¯è€Œè¨€ï¼Œä¿å­˜ä¸º bare repoï¼Œç„¶åæ¯æ¬¡ push è‡³è¯¥ä»“åº“éƒ½åªæ˜¯é‡æ–°ç”Ÿäº§ .git ç›®å½•ä¸‹çš„æ–‡ä»¶å¹¶ä¸Šä¼ è‡³æœåŠ¡ç«¯çš„ repo_name.git ç›®å½•ä¸­ã€‚\n\nEnjoy the Gitã€‚\n","post/2023/20230805/":"\n## CommonMark\n\n### header\n\n```markdown\n# header1\n\n## header2\n\n### header3\n\n#### header4\n\n###### header5\n\n###### header6\n\n### header with `inline code` is not recommended (but it was supported for now)\n```\n\n> # header1\n>\n> ## header2\n>\n> ### header3\n>\n> #### header4\n>\n> ###### header5\n>\n> ###### header6\n>\n> ### header with `inline code` is not recommended (but it was supported for now)\n\n:::tip\n\n-   Header1 is not recommended as it was used in the title of the page header\n-   Only header2 - header3 (header1 also) will add to post navigation\n    :::\n\n### font-related\n\n```markdown\nParagraph with `inline code`, **strong**, _emphasis_, **_emphasis strong_**ã€[Link](https://github.com)\n\n**[Strong link](https://github.com)**\n```\n\nParagraph with `inline code`, **strong**, _emphasis_, **_emphasis strong_**ã€[Link](https://github.com)\n\n**[Strong link](https://github.com)**\n\n:::warn\nIf you want to show \"`\" (one backtick, the markdown inline code default start symbol) in inline code block, you need to wrap this code with two backticks.\n\nFor example:\n\n```markdown\n`` `inline code` ``\n```\n\n`` `inline code` ``\n:::\n\n### image\n\n```markdown\n![picsum](https://picsum.photos/800/600)\n```\n\n![picsum](https://picsum.photos/800/600)\n\n### blockquote\n\n```markdown\n> The blockquote can contains `inline code`, **strong**, _emphasis_, **_emphasis strong_**\n> and so on...\n>\n> even itself\n>\n> > inner blockquote\n> > `inner code`, [Google](https://google.com) > > ![picsum](https://picsum.photos/800/600)\n```\n\n> The blockquote can contains `inline code`, **strong**, _emphasis_, **_emphasis strong_**\n> and so on...\n>\n> even itself\n>\n> > inner blockquote\n> > `inner code`, [Google](https://google.com) > > ![picsum](https://picsum.photos/800/600)\n\n### unordered list\n\n```markdown\n-   item1\n-   item2\n-   item3\n```\n\n-   item1\n-   item2\n-   item3\n\n### ordered list\n\n```markdown\n1. item1\n2. item1\n3. item1\n```\n\n1. item1\n2. item1\n3. item1\n\n### nested list\n\n```markdown\n1. First level item\n    1. Nested item 1\n    2. Nested item 2\n2. Another first level item\n    1. Nested item 3\n        1. Sub-nested item A\n        2. Sub-nested item B\n    2. Nested item 4\n\n-   item1\n    -   item2\n        -   item3\n```\n\n1. First level item\n    1. Nested item 1\n    2. Nested item 2\n2. Another first level item\n    1. Nested item 3\n        1. Sub-nested item A\n        2. Sub-nested item B\n    2. Nested item 4\n\n-   item1\n    -   item2\n        -   item3\n\n### code block\n\nSyntax highlight with highlight.js common language.\n\n````markdown\n```c\n#include \u003Cstdio>\n\nint main() {\n  printf(\"hello world\");\n}\n```\n````\n\n```c\n#include \u003Cstdio>\n\nint main() {\n  printf(\"hello world\");\n}\n```\n\n:::warn\nIf you want to show \"```\" (three backticks, the markdown code block default start symbol) in code block, you need to wrap this code with **four** backticks.\n:::\n\n### horizontal rule\n\n```markdown\n---\n```\n\n---\n\n## Github Flavored Markdown\n\n### table\n\n```markdown\n| foo | bar | foo |\n| :-- | :-: | --: |\n| baz | qux | xyz |\n```\n\n| foo | bar | foo |\n| :-- | :-: | --: |\n| baz | qux | xyz |\n\n### auto link\n\n```markdown\nWriting some text like a URL like https://github.com will automatically be converted to a link.\n```\n\nWriting some text like a URL like https://github.com will automatically be converted to a link.\n\n### task list\n\n```markdown\n-   [x] foo\n    -   [ ] bar\n        -   [ ] abc\n    -   [x] baz\n-   [ ] bim\n```\n\n-   [x] foo\n    -   [ ] bar\n        -   [ ] abc\n    -   [x] baz\n-   [ ] bim\n\n### strikethrough\n\n```markdown\nthis is ~~strikethrough~~\n```\n\nthis is ~~strikethrough~~\n\n## Math\n\nMath render currently only support latex syntax (partial) which is support by mathjax.\n\n### inline math\n\n\n\n```markdown\n1 / 2 => $\\frac{1}{2}$\n```\n\n1 / 2 => $\\frac{1}{2}$\n\n### display math\n\n```markdown\n$$\nx = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}\n$$\n```\n\n$$\nx = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}\n$$\n\n\n## Directive\n\n### details\n\n```markdown\n:::details{text=\"unfold\"}\nthis is some text\n:::\n\n:::details\nthis is some text\n:::\n```\n\n:::details{text=\"unfold\"}\nthis is some text\n:::\n\n:::details\nthis is some text\n:::\n\n### tip\n\n```markdown\n:::tip{text=\"Tips\"}\nthis is some text\n:::\n\n:::tip\nthis is some text\n:::\n```\n\n:::tip{text=\"Tips\"}\nthis is some text\n:::\n\n:::tip\nthis is some text\n:::\n\n### warning\n\n```markdown\n:::warning{text=\"warn\"}\nthis is some text\n:::\n\n:::warn\nthis is some text\n:::\n```\n\n:::warning{text=\"warn\"}\nthis is some text\n:::\n\n:::warn\nthis is some text\n:::\n\n### error\n\n```markdown\n:::error{text=\"danger\"}\nthis is some text\n:::\n\n:::danger\nthis is some text\n:::\n```\n\n:::error{text=\"danger\"}\nthis is some text\n:::\n\n:::danger\nthis is some text\n:::\n\n## MDX\n\nYou can create custom components with MDX.\n\nYou won't be able to use some characters like `\u003C`, `>` in any position of your markdown content. But you can wrap these content with inline code or inline math.\n\nWrite HTML (include style and script) is also invalid.\n\nSo if you don't want to create custom components, just disable MDX plugin.\n\nIf you still need this, just create a svelte compoennt in the `src/components/mdx`. You can see the `Badge` component in it. The project use tailwindcss and daisyUI as CSS library, so you can write svelte compoennt with amount of pre-defiend css.\n\n### Badge\n\n```markdown\n\u003CBadge type=\"tip\" text=\"tip\"/>\n\u003CBadge type=\"warning\" text=\"warning\"/>\n\u003CBadge type=\"warn\" text=\"warn\"/>\n\u003CBadge type=\"error\" text=\"error\"/>\n\u003CBadge type=\"danger\" text=\"danger\"/>\n```\n\n\u003CBadge type=\"tip\" text=\"tip\"/>\n\u003CBadge type=\"warning\" text=\"warning\"/>\n\u003CBadge type=\"warn\" text=\"warn\"/>\n\u003CBadge type=\"error\" text=\"error\"/>\n\u003CBadge type=\"danger\" text=\"danger\"/>\n\n","post/2024/20240225/":"\r\n\r\n## preface\r\n\r\nIn the Linux environment, most of people choose vim as a text editor, even as an IDE (Integrated Development Environment). But except vim, there are still so many text editors like vi, nano, etc...\r\n\r\nSo in this post, I'll try to list below text editors' common usage to improve your development.\r\n\r\n- vi\r\n- vim\r\n- nano\r\n\r\n## Vi\r\n\r\n### Opening a File\r\n\r\nUsing `vi {path2file}` to edit file with vi.\r\n\r\n### modes\r\n\r\nvi has different modes:\r\n\r\n- Normal Mode: Used for navigation and executing commands.\r\n- Insert Mode: Used for inserting or editing text.\r\n- Command-Line Mode: Used for saving changes, quitting, and other commands.\r\n\r\nTo switch from Normal Mode to Insert Mode, press `i`.\r\nTo switch from Insert Mode to Normal Mode, press `Esc`.\r\n\r\n### Navigation in Normal Mode\r\n\r\nUse arrow keys to move the cursor.\r\n\r\n`h` for left, `l` for right, `j` for down, and `k` for up.\r\n\r\n`w` to move the cursor to the beginning of the next word. `b` to move the cursor to the beginning of the previous word.\r\n\r\n`0` (zero) to move to the beginning of the current line. `$` to move to the end of the current line.\r\n\r\n`gg` to move to the beginning of the file. `G` to move to the end of the file.\r\n\r\n\r\n### Editing in Normal Mode:\r\n\r\n`x` to delete the character under the cursor.\r\n\r\n`dd` to delete the current line.\r\n\r\n`yy` to yank (copy) the current line.\r\n\r\n`p` to paste the yanked or deleted text after the cursor.\r\n\r\n### Saving and Quitting\r\n\r\nIn Normal Mode, type `:w` to save changes.\r\nType `:q` to quit.\r\nType `:wq` to save and quit.\r\nType `:q!` to quit without saving.\r\n\r\n:::tip\r\nusing `:w !sudo tee > /dev/null %` to save when you forget using sudo to edit unprivileged file.\r\n:::\r\n\r\n### Searching:\r\n\r\nIn Normal Mode, type `/` followed by the search term and press `Enter`.\r\n\r\nUse `n` to find the next occurrence.\r\n\r\n### undo/redo\r\n\r\n`u` to undo the last change.\r\n`Ctrl + r` to redo a change.\r\n\r\n\r\n## Vim\r\n\r\nThe above vi commands can all be used in vim, so only the content that is only valid in Vim is shown here.\r\n\r\n### Visual Mode:\r\n\r\n`v`: Enter Visual Mode to select characters.\r\n`V`: Enter Visual Line Mode to select whole lines.\r\n`Ctrl + v`: Enter Visual Block Mode to select a block of text.\r\n\r\n`d`: Delete the selected text in Visual Mode.\r\n`x`: Cut the selected text in Visual Mode.\r\n\r\n### Search and Replace:\r\n\r\n`:s/old/new/g`: Substitute all occurrences of 'old' with 'new' in the current line.\r\n`:%s/old/new/g`: Substitute all occurrences of 'old' with 'new' in the entire file.\r\n`:s/old/new/gc`: Substitute with confirmation.\r\n\r\n## Nano\r\n\r\n### Opening a File\r\n\r\nUsing `nano {path2file}` to edit file with vi.\r\n\r\n### Basic Navigation\r\n\r\nUse arrow keys to move the cursor.\r\n\r\n`Ctrl + F`: Move forward one page.\r\n`Ctrl + B`: Move backward one page.\r\n`Ctrl + â†‘`: Move to the previous line.\r\n`Ctrl + â†“`: Move to the next line.\r\n\r\n### Editing\r\n\r\nSince Nano is a user-friendly editor, you can edit it like a common GUI text editor. for example, append by type character, delete by `backspace`.\r\n\r\nAnd there also has some commands for advanced usage. \r\n\r\n`Ctrl + K`: Cut (delete) the current line.\r\n`Ctrl + U`: Uncut (paste) the previously cut text.\r\n`Ctrl + O`: Write the current contents to a file.\r\n`Ctrl + X`: Exit nano. If changes are made, you will be prompted to save.\r\n\r\n### Searching\r\n\r\n`Ctrl + W`: Search for a specific term. Press `Enter` to search and `Ctrl + W` again to find the next occurrence.\r\n\r\n## to be continued...","post/2024/20240310/":"\r\n## Environment\r\n\r\nOpenSSL 3.0 version in Ubuntu 22.04 LTS\r\n\r\n## Steps to Create Self-signed Certificate\r\n\r\n### create your CA (certificate authority)\r\n\r\n1. generate CA key\r\n\r\n```sh\r\nopenssl genrsa -out ca.key 4096\r\n```\r\n\r\n2. create CA cert file\r\n\r\n```sh\r\nopenssl req -x509 -days 3650 -new -nodes -sha256 -key ca.key -out ca.crt\r\n```\r\n\r\n### create server key and csr\r\n\r\n1. generate server.key\r\n\r\n```sh\r\nopenssl genrsa -out server.key 2048\r\n```\r\n\r\n2. generate csr file from server.key\r\n\r\n```sh\r\nopenssl req -new -nodes -key server.key -out server.csr\r\n```\r\n\r\n> You can also use below approach to combine step 1 and 2.\r\n\r\n\r\n```sh\r\nopenssl req -new -nodes -keyout server.key -out server.csr\r\n```\r\n\r\n### sign the csr by CA and output a server cert\r\n\r\n:::tip\r\nIf you need sign the csr with SAN (subject alternative name), you need create a file names *server_v3.ext*\r\n\r\n```ext\r\nauthorityKeyIdentifier = keyid,issuer\r\nbasicConstraints = CA:FALSE\r\nkeyUsage = nonRepudiation, digitalSignature, keyEncipherment\r\n\r\nsubjectAltName = @alt_names\r\n\r\n[alt_names]\r\nDNS.1 = your.domain1.com\r\nDNS.2 = your.domain2.com\r\nIP.1 = 127.0.0.1\r\nIP.2 = 192.168.0.1\r\n```\r\n\r\nIf the top3 settings not suit for you, just find a sample in openssl default configuration file (normally it locate in `/etc/ssl/openssl.cnf`).\r\n:::\r\n\r\n1. CA sign the csr\r\n\r\n> If you don't want to set SAN, just ignore the `-extfile server_v3.ext` in below command.\r\n\r\n```sh\r\nopenssl x509 -req -days 3650 -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out server_signed.crt -extfile server_v3.ext\r\n```\r\n\r\n## Convert Certificate to PKCS12-Formatted Keystore\r\n\r\nNormally, we maybe want to use a PKCS12-formatted key store, so we can do this.\r\n\r\n```sh\r\nopenssl pkcs12 -export -out server.p12 -inkey server.key -in server_signed.crt\r\n```","post/2024/20240311/":"\r\n## Redis in SpringBoot\r\n\r\nThe post assume you are use `spring-boot-starter-data-redis` to use Redis in SpringBoot Application.\r\n\r\nThere has two lib to implements redis in SpringBoot, which are Lettuce (default) and Jedis.\r\n\r\nThe first thing you need to do is set `spring.redis.ssl` to `true` in *application.yaml*. (or properties).\r\n\r\n:::warn\r\n\r\nYou also need set custom keystore path and password if you want to fully follow the below lib configuration in next section.\r\n\r\nThe post will use PKCS12-formatted keystore, JKS-formatted keystore also can work fine.\r\n\r\n```\r\nspring.redis.keyStore = \"classpath:server.p12\"\r\nspring.redis.keyStorePass = \"password of pkcs12\"\r\nspring.redis.keyStorePass = \"PKCS12\"\r\n```\r\n:::\r\n\r\nThen follow the right section to see how to config SSL in 3rd party library.\r\n\r\n\r\n## Lettuce\r\n\r\n*RedisConfig.java*\r\n\r\n```java\r\n@Configuration\r\npublic class RedisConfig {\r\n\r\n    @Value(\"${spring.redis.host}\")\r\n    private String host;\r\n    @Value(\"${spring.redis.port}\")\r\n    private int port;\r\n    @Value(\"${spring.redis.ssl}\")\r\n    private boolean ssl;\r\n    @Value(\"${spring.redis.password}\")\r\n    private String password;\r\n    @Value(\"${spring.redis.database}\")\r\n    private int database;\r\n    @Value(\"${spring.redis.timeout}\")\r\n    private int timeout;\r\n    @Value(\"${spring.redis.keyStore}\")\r\n    private String keyStorePath;\r\n    @Value(\"${spring.redis.keyStorePass}\")\r\n    private String keyStorePass;\r\n\r\n    @Resource\r\n    private ResourceLoader resourceLoader;\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() throws IOException, KeyStoreException, CertificateException, NoSuchAlgorithmException, UnrecoverableKeyException, KeyManagementException {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n        redisStandaloneConfiguration.setHostName(host);\r\n        redisStandaloneConfiguration.setPort(port);\r\n        redisStandaloneConfiguration.setPassword(password);\r\n        redisStandaloneConfiguration.setDatabase(database);\r\n        LettuceClientConfiguration.LettuceClientConfigurationBuilder lettuceClientConfigurationBuilder = LettuceClientConfiguration.builder();\r\n        if (ssl) {\r\n            File keyStore = resourceLoader.getResource(keyStorePath).getFile();\r\n            SslOptions sslOptions = SslOptions.builder()\r\n                    .jdkSslProvider()\r\n                    .keystore(keyStore, keyStorePass.toCharArray())\r\n                    .truststore(keyStore, keyStorePass)\r\n                    .build();\r\n            ClientOptions clientOptions = ClientOptions\r\n                    .builder()\r\n                    .sslOptions(sslOptions)\r\n                    .protocolVersion(ProtocolVersion.RESP3)\r\n                    .build();\r\n            lettuceClientConfigurationBuilder\r\n                    .clientOptions(clientOptions)`\r\n                    .useSsl()\r\n                    .disablePeerVerification(); // if you don't set SAN, you need this\r\n        }\r\n        LettuceClientConfiguration lettuceClientConfiguration = lettuceClientConfigurationBuilder.build();\r\n        return new LettuceConnectionFactory(redisStandaloneConfiguration, lettuceClientConfiguration);\r\n    }\r\n```\r\n\r\n\r\n## Jedis\r\n\r\nIf you don't want to use default Lettuce implementation, you can update POM to use Jedis.\r\n\r\n*pom.xml*\r\n\r\n```xml\r\n\u003Cdependency>\r\n    \u003CgroupId>org.springframework.boot\u003C/groupId>\r\n    \u003CartifactId>spring-boot-starter-data-redis\u003C/artifactId>\r\n    \u003Cexclusions>\r\n        \u003Cexclusion>\r\n            \u003CgroupId>io.lettuce\u003C/groupId>\r\n            \u003CartifactId>lettuce-core\u003C/artifactId>\r\n        \u003C/exclusion>\r\n    \u003C/exclusions>\r\n\u003C/dependency>\r\n\r\n\u003Cdependency>\r\n    \u003CgroupId>redis.clients\u003C/groupId>\r\n    \u003CartifactId>jedis\u003C/artifactId>\r\n    \u003Cversion>5.0.0\u003C/version>\r\n\u003C/dependency>\r\n```\r\n\r\n\r\n*RedisConfig.java*\r\n```java\r\n@Configuration\r\npublic class RedisConfig {\r\n\r\n    @Value(\"${spring.redis.host}\")\r\n    private String host;\r\n    @Value(\"${spring.redis.port}\")\r\n    private int port;\r\n    @Value(\"${spring.redis.ssl}\")\r\n    private boolean ssl;\r\n    @Value(\"${spring.redis.password}\")\r\n    private String password;\r\n    @Value(\"${spring.redis.database}\")\r\n    private int database;\r\n    @Value(\"${spring.redis.timeout}\")\r\n    private int timeout;\r\n    @Value(\"${spring.redis.keyStore}\")\r\n    private String keyStorePath;\r\n    @Value(\"${spring.redis.keyStorePass}\")\r\n    private String keyStorePass;\r\n    @Value(\"${spring.redis.keyStoreType}\")\r\n    private String keyStoreType;\r\n\r\n    // @Value(\"${spring.redis.jedis.pool.max-idle}\")\r\n    // private int maxIdle;\r\n    // @Value(\"${spring.redis.jedis.pool.min-idle}\")\r\n    // private int minIdle;\r\n    // @Value(\"${spring.redis.jedis.pool.max-wait}\")\r\n    // private int maxWait;\r\n    // @Value(\"${spring.redis.jedis.pool.max-active}\")\r\n    // private int maxActive;\r\n\r\n    @Resource\r\n    private ResourceLoader resourceLoader;\r\n\r\n\r\n    @Bean\r\n    public JedisConnectionFactory redisConnectionFactory() throws KeyStoreException, IOException, NoSuchAlgorithmException, CertificateException, UnrecoverableKeyException, KeyManagementException {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n        redisStandaloneConfiguration.setHostName(host);\r\n        redisStandaloneConfiguration.setPort(port);\r\n        redisStandaloneConfiguration.setPassword(password);\r\n        redisStandaloneConfiguration.setDatabase(database);\r\n\r\n        JedisClientConfiguration.JedisClientConfigurationBuilder jedisClientConfigurationBuilder = JedisClientConfiguration.builder();\r\n        if (ssl) {\r\n            KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n            File keyStoreFile = resourceLoader.getResource(keyStorePath).getFile();\r\n            keyStore.load(new FileInputStream(keyStoreFile), keyStorePass.toCharArray());\r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            keyManagerFactory.init(keyStore, keyStorePass.toCharArray());\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            trustManagerFactory.init(keyStore);\r\n            SSLContext sslContext = SSLContext.getInstance(\"TLS\");\r\n            sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\r\n            jedisClientConfigurationBuilder\r\n                    .connectTimeout(Duration.ofMillis(timeout))\r\n                    .useSsl()\r\n                    .sslSocketFactory(sslContext.getSocketFactory());\r\n        }\r\n        JedisClientConfiguration jedisClientConfiguration = jedisClientConfigurationBuilder.build();\r\n        return new JedisConnectionFactory(redisStandaloneConfiguration, jedisClientConfiguration);\r\n    }\r\n\r\n//     @Bean\r\n//     public GenericObjectPoolConfig genericObjectPoolConfig() {\r\n//         GenericObjectPoolConfig\u003CObject> genericObjectPoolConfig = new GenericObjectPoolConfig\u003C>();\r\n//         genericObjectPoolConfig.setMaxIdle(maxIdle);\r\n//         genericObjectPoolConfig.setMinIdle(minIdle);\r\n//         genericObjectPoolConfig.setMaxWaitMillis(maxWait);\r\n// //        genericObjectPoolConfig.setMaxTotal(maxActive);\r\n//         return genericObjectPoolConfig;\r\n//     }\r\n}\r\n```\r\n"},link2PostMeta:{"post/2019/20190922/":{title:"Hexoå…¥é—¨æŒ‡åŒ—",date:new Date(1569171948000),categories:["Guide"],tags:["Hexo"],link:"post/2019/20190922/"},"post/2019/20190923/":{title:"Windows10ä¸‹å®‰è£…UbuntuåŒç³»ç»Ÿ",date:new Date(1569242427000),categories:["Guide"],tags:["Ubuntu"],link:"post/2019/20190923/"},"post/2019/20191001/":{title:"Java13æ¦‚è§ˆ",date:new Date(1569953554000),categories:["Java"],tags:["JDK"],link:"post/2019/20191001/"},"post/2019/20191011/":{title:"Apache Shiroçš„åŸºç¡€åº”ç”¨",date:new Date(1570800694000),categories:["Java"],tags:["Shiro"],link:"post/2019/20191011/"},"post/2019/20191015/":{title:"Maven",date:new Date(1571146294000),categories:["Java"],tags:["Maven"],link:"post/2019/20191015/"},"post/2019/20191021/":{title:"Git",date:new Date(1571655183000),categories:["Git"],tags:["Git"],link:"post/2019/20191021/"},"post/2019/20191024/":{title:"Javaå¹¶å‘ç›¸å…³æ¦‚å¿µ",date:new Date(1571927223000),categories:["Java"],tags:["Synchronization"],link:"post/2019/20191024/"},"post/2019/20191028/":{title:"Javaå¹¶å‘å®¹å™¨",date:new Date(1572270900000),categories:["Java"],tags:["SyncContainer"],link:"post/2019/20191028/"},"post/2019/20191103/":{title:"LeetCode 2 - ä¸¤æ•°ç›¸åŠ ",date:new Date(1572813262000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2019/20191103/"},"post/2019/20191106/":{title:"Javaå¹¶å‘ä¹‹çº¿ç¨‹æ± ",date:new Date(1573045676000),categories:["Java"],tags:["ThreadPool"],link:"post/2019/20191106/"},"post/2019/20191110/":{title:"JVM",date:new Date(1573391729000),categories:["Java"],tags:["JVM"],link:"post/2019/20191110/"},"post/2019/20191112/":{title:"Javaå¼€å‘æ‰‹å†Œ",date:new Date(1573595589000),categories:["Java"],tags:["Handbook"],link:"post/2019/20191112/"},"post/2019/20191116/":{title:"Javaç½‘ç»œç¼–ç¨‹",date:new Date(1573906986000),categories:["Java"],tags:["Socket"],link:"post/2019/20191116/"},"post/2019/20191120/":{title:"Netty",date:new Date(1574255143000),categories:["Java"],tags:["Netty"],link:"post/2019/20191120/"},"post/2019/20191121/":{title:"LeetCode 1 - ä¸¤æ•°ä¹‹å’Œ",date:new Date(1574357602000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2019/20191121/"},"post/2019/20191123/":{title:"LeetCode 3 - æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²",date:new Date(1574535942000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2019/20191123/"},"post/2019/20191127/":{title:"SSO(å•ç‚¹ç™»å½•)",date:new Date(1574871862000),categories:["Java"],tags:["SSO"],link:"post/2019/20191127/"},"post/2019/20191128/":{title:"SpringBoot",date:new Date(1574958262000),categories:["Java"],tags:["Spring"],link:"post/2019/20191128/"},"post/2019/20191129/":{title:"ActiveMQ 5åŸºæœ¬ä½¿ç”¨",date:new Date(1575044662000),categories:["Java"],tags:["MQ"],link:"post/2019/20191129/"},"post/2019/20191202/":{title:"è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼",date:new Date(1575316954000),categories:["Java"],tags:["Design pattern"],link:"post/2019/20191202/"},"post/2019/20191206/":{title:"Githubä¸‰æ–¹ç™»å½•çš„å®ç°",date:new Date(1575649462000),categories:["Java"],tags:["OAuth 2.0"],link:"post/2019/20191206/"},"post/2019/20191210/":{title:"Nginxçš„ä¸€äº›å¸¸è§ç”¨æ³•",date:new Date(1575977016000),categories:["WebServer"],tags:["Nginx"],link:"post/2019/20191210/"},"post/2019/20191215/":{title:"Swagger & Knife4j",date:new Date(1576404216000),categories:["Java"],tags:["OpenAPI"],link:"post/2019/20191215/"},"post/2019/20191220/":{title:"Gitlabç§æœç¯å¢ƒæ­å»º",date:new Date(1576839261000),categories:["Git"],tags:["Gitlab"],link:"post/2019/20191220/"},"post/2019/20191228/":{title:"Java Webåˆ†é¡µçš„å®ç°",date:new Date(1577521295000),categories:["Java"],tags:["Pagination"],link:"post/2019/20191228/"},"post/2020/20200101/":{title:"Spring Security 5",date:new Date(1577911929000),categories:["Java"],tags:["Spring"],link:"post/2020/20200101/"},"post/2020/20200108/":{title:"Mybatis Generator",date:new Date(1578516729000),categories:["Java"],tags:["Mybatis"],link:"post/2020/20200108/"},"post/2020/20200115/":{title:"Centos 7 & Ubuntu 20.04 MySQLçš„å®‰è£…é…ç½®",date:new Date(1579107260000),categories:["Database"],tags:["Mysql"],link:"post/2020/20200115/"},"post/2020/20200122/":{title:"åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ-Apollo",date:new Date(1579705760000),categories:["Java"],tags:["Apollo"],link:"post/2020/20200122/"},"post/2020/20200130/":{title:"Centos7ä¸‹JDKçš„å®‰è£…",date:new Date(1580397560000),categories:["Java"],tags:["JDK"],link:"post/2020/20200130/"},"post/2020/20200605/":{title:"MySQLæŸ¥è¯¢è¡¨å­—æ®µæ³¨é‡Š",date:new Date(1591370360000),categories:["Database"],tags:["MySQL"],link:"post/2020/20200605/"},"post/2020/20200606/":{title:"Javaå¸¸ç”¨æ—¶é—´å¤„ç†",date:new Date(1591456760000),categories:["Java"],tags:["JavaAPI"],link:"post/2020/20200606/"},"post/2020/20200607/":{title:"Javaä¸­é›†åˆçš„æ’åº",date:new Date(1591543160000),categories:["Java"],tags:["JavaAPI"],link:"post/2020/20200607/"},"post/2020/20200608/":{title:"Node.jsåŸºç¡€",date:new Date(1591574400000),categories:["WebFrontend"],tags:["Node.js"],link:"post/2020/20200608/"},"post/2020/20200609/":{title:"ECMAScript6.0",date:new Date(1591660800000),categories:["WebFrontend"],tags:["ES6"],link:"post/2020/20200609/"},"post/2020/20200610/":{title:"VueåŸºç¡€è¯­æ³•",date:new Date(1591747200000),categories:["WebFrontend"],tags:["Vue"],link:"post/2020/20200610/"},"post/2020/20200611/":{title:"VueRouterå…¥é—¨",date:new Date(1591833600000),categories:["WebFrontend"],tags:["Vue"],link:"post/2020/20200611/"},"post/2020/20200612/":{title:"Vuexå…¥é—¨",date:new Date(1591920000000),categories:["WebFrontend"],tags:["Vuex"],link:"post/2020/20200612/"},"post/2020/20200625/":{title:"CSSåˆ¶ä½œæ¯›ç»ç’ƒç‰¹æ•ˆ",date:new Date(1593043200000),categories:["WebFrontend"],tags:["CSS"],link:"post/2020/20200625/"},"post/2020/20200628/":{title:"Sass",date:new Date(1593302400000),categories:["WebFrontend"],tags:["Sass"],link:"post/2020/20200628/"},"post/2020/20200713/":{title:"picgo-å›¾åºŠå·¥å…·",date:new Date(1594598400000),categories:["Guide"],tags:["Picgo"],link:"post/2020/20200713/"},"post/2020/20200725/":{title:"æ•°æ®ç»“æ„åŸºç¡€",date:new Date(1595635200000),categories:["DataStructure"],tags:["DataStructure"],link:"post/2020/20200725/"},"post/2020/20200731/":{title:"ç®—æ³•åŸºç¡€",date:new Date(1596153600000),categories:["Algorithm"],tags:["Algorithm"],link:"post/2020/20200731/"},"post/2020/20200810/":{title:"é»‘è‹¹æœå‚è€ƒè®°å½•",date:new Date(1597017600000),categories:["Guide"],tags:["Hackintosh"],link:"post/2020/20200810/"},"post/2020/20201028/":{title:"CSSåˆ¶ä½œæµå…‰æŒ‰é’®",date:new Date(1603843200000),categories:["WebFrontend"],tags:["CSS"],link:"post/2020/20201028/"},"post/2020/20201029/":{title:"CSSèšå…‰ç¯æ•ˆæœ",date:new Date(1603929600000),categories:["WebFrontend"],tags:["CSS"],link:"post/2020/20201029/"},"post/2020/20201107/":{title:"Windowsé…ç½®cè¯­è¨€ç¯å¢ƒ(vscode+mingw64+clang)",date:new Date(1604759148000),categories:["Guide"],tags:["Mingw-w64"],link:"post/2020/20201107/"},"post/2020/20201122/":{title:"å†…ç½‘è§†é¢‘åˆ†äº«",date:new Date(1606055148000),categories:["WebFrontend"],tags:["Video.js"],link:"post/2020/20201122/"},"post/2021/20210321/":{title:"Ubuntuä¸‹ç¼–è¯‘OpenJDK 16",date:new Date(1616340401000),categories:["Java"],tags:["OpenJDK"],link:"post/2021/20210321/"},"post/2021/20210326/":{title:"Mybatis Plusï¼šåŸºç¡€ä½¿ç”¨",date:new Date(1616800537000),categories:["Java"],tags:["Mybatis"],link:"post/2021/20210326/"},"post/2021/20210330/":{title:"Java 8çš„å¸¸ç”¨ç‰¹æ€§ã€API",date:new Date(1617135806000),categories:["Java"],tags:["JavaAPI"],link:"post/2021/20210330/"},"post/2021/20210408/":{title:"ä½ çœŸçš„äº†è§£RESTfulå˜›ï¼Ÿ",date:new Date(1617917603000),categories:["Web"],tags:["REST"],link:"post/2021/20210408/"},"post/2021/20210419/":{title:"ä½¿ç”¨VuePresséƒ¨ç½²ä½ çš„ä¸ªäººåšå®¢",date:new Date(1618790400000),categories:["Guide"],tags:["Vue"],sticky:1,publish:true,link:"post/2021/20210419/"},"post/2021/20210425/":{title:"Github Actionå¿«é€Ÿæ‰«ç›²",date:new Date(1619386951000),categories:["Guide"],tags:["Github"],link:"post/2021/20210425/"},"post/2021/20210508/":{title:"Webpackå…¥é—¨",date:new Date(1620505409000),categories:["WebFrontend"],tags:["Webpack"],link:"post/2021/20210508/"},"post/2021/20210510/":{title:"Babelå…¥é—¨æŒ‡åŒ—",date:new Date(1620681971000),categories:["WebFrontend"],tags:["Babel"],link:"post/2021/20210510/"},"post/2021/20210518/":{title:"Druid Integration With SpringBoot",date:new Date(1621371713000),categories:["Java"],tags:["Druid"],link:"post/2021/20210518/"},"post/2021/20210629/":{title:"Echarts",date:new Date(1624993368000),categories:["WebFrontend"],tags:["Echarts"],link:"post/2021/20210629/"},"post/2021/20210630/":{title:"Mockjs",date:new Date(1625081544000),categories:["WebFrontend"],tags:["Mockjs"],link:"post/2021/20210630/"},"post/2021/20210706/":{title:"Spring Cloud Alibaba",date:new Date(1625576431000),categories:["Java"],tags:["SpringCloud Alibaba"],link:"post/2021/20210706/"},"post/2021/20210709/":{title:"LeetCode 1893 - æ£€æŸ¥æ˜¯å¦åŒºåŸŸå†…æ‰€æœ‰æ•´æ•°éƒ½è¢«è¦†ç›–",date:new Date(1625824738000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210709/"},"post/2021/20210710/":{title:"LeetCode 1736 - æ›¿æ¢éšè—æ•°å­—å¾—åˆ°çš„æœ€æ™šæ—¶é—´",date:new Date(1625911709000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210710/"},"post/2021/20210711/":{title:"LeetCode 1743 - ä»ç›¸é‚»å…ƒç´ å¯¹è¿˜åŸæ•°ç»„",date:new Date(1625998364000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210711/"},"post/2021/20210720/":{title:"LeetCode 671 - äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹",date:new Date(1626800147000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210720/"},"post/2021/20210725/":{title:"LeetCode 863 - äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹",date:new Date(1627209545000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210725/"},"post/2021/20210728/":{title:"LeetCode 171 - Excel è¡¨åˆ—åºå·",date:new Date(1627480600000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210728/"},"post/2021/20210731/":{title:"LeetCode 987 - äºŒå‰æ ‘çš„å‚åºéå†",date:new Date(1627740489000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210731/"},"post/2021/20210801/":{title:"LeetCode 1337 - çŸ©é˜µä¸­æˆ˜æ–—åŠ›æœ€å¼±çš„ K è¡Œ",date:new Date(1627811394000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210801/"},"post/2021/20210802/":{title:"LeetCode 5830 - ä¸‰é™¤æ•°",date:new Date(1627897863000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210802/"},"post/2021/20210803/":{title:"LeetCode 743 - ç½‘ç»œå»¶è¿Ÿæ—¶é—´",date:new Date(1628008756000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210803/"},"post/2021/20210804/":{title:"MySQL - æ±‡æ€»ç¯‡",date:new Date(1628074344000),categories:["Database"],tags:["MySQL"],link:"post/2021/20210804/"},"post/2021/20210812/":{title:"LeetCode 509 - æ–æ³¢é‚£å¥‘æ•°",date:new Date(1628784987000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210812/"},"post/2021/20210813/":{title:"LeetCode 233 - æ•°å­— 1 çš„ä¸ªæ•°",date:new Date(1628849807000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210813/"},"post/2021/20210816/":{title:"LeetCode å‘¨èµ› 254",date:new Date(1629114573000),categories:["Algorithm"],tags:["LeetCode"],link:"post/2021/20210816/"},"post/2021/20211118/":{title:"æœ‰ä¸€å°æœåŠ¡å™¨èƒ½å¹²ä»€ä¹ˆï¼Ÿ",date:new Date(1637224644000),categories:["Server"],tags:["Ubuntu"],link:"post/2021/20211118/"},"post/2021/20211119/":{title:"åå¤§å¸¸è§æ’åºç®—æ³•",date:new Date(1637311177000),categories:["Algorithm"],tags:["Sort"],link:"post/2021/20211119/"},"post/2022/20220223/":{title:"VS Codeå‚æ•°æç¤º & å¸¸ç”¨å¿«æ·é”®ï¼ˆJavaç¯‡ï¼‰",date:new Date(1645651441000),categories:["Guide"],tags:["VS Code"],link:"post/2022/20220223/"},"post/2022/20220326/":{title:"Copilotåˆä½“éªŒ",date:new Date(1648325890000),categories:["Guide"],tags:["Copilot"],link:"post/2022/20220326/"},"post/2022/20220526/":{title:"Java Tips",date:new Date(1653561923000),categories:["Java"],tags:["Java Tips"],link:"post/2022/20220526/"},"post/2022/20220601/":{title:"Docker Tutorial for Beginner",date:new Date(1654085884000),categories:["Containerization"],tags:["Docker"],link:"post/2022/20220601/"},"post/2022/20220810/":{title:"Wox Theme Backup",date:new Date(1660489502000),categories:["Backup"],tags:["Wox"],link:"post/2022/20220810/"},"post/2022/20220829/":{title:"Notes of Dual Boot Debian 11 and Windows 11",date:new Date(1661806986000),categories:["Guide"],tags:["Debian","Linux"],link:"post/2022/20220829/"},"post/2022/20221009/":{title:"ä» Windows Powershell 5 è¿ç§»åˆ° PowerShll 7",date:new Date(1665356495000),categories:["Shell"],tags:["powershell"],link:"post/2022/20221009/"},"post/2022/20221031/":{title:"Kotlin Basics",date:new Date(1667241341000),categories:["Kotlin"],tags:["Kotlin"],link:"post/2022/20221031/"},"post/2022/20221209/":{title:"ChatGPT åˆä½“éªŒ",date:new Date(1670611263000),categories:["Guide"],tags:["chatGPT"],link:"post/2022/20221209/"},"post/2023/20230312/":{title:"Gitç§æœçš„æ­å»ºè®°å½•",date:new Date(1678637454000),categories:["Git"],tags:["git"],link:"post/2023/20230312/"},"post/2023/20230805/":{title:"Markdown in Svelte-Blog",categories:["Guide"],tags:["CommonMark","GFM","MDX"],date:new Date(1691193600000),link:"post/2023/20230805/"},"post/2024/20240225/":{title:"Linux Common Editor Usage",date:new Date(1708892391000),categories:["Linux"],tags:["vi","vim","nano"],link:"post/2024/20240225/"},"post/2024/20240310/":{title:"Use OpenSSL to Create a Self-signed Certificate",date:new Date(1710112965000),categories:["OpenSSL"],tags:["OpenSSL"],link:"post/2024/20240310/"},"post/2024/20240311/":{title:"Make Redis to use SSL in SpringBoot",date:new Date(1710114088000),categories:["Java"],tags:["SpringBoot"],link:"post/2024/20240311/"}}},"uses":{},"slash":"always"},{"type":"data","data":{mdAstObj:{type:"root",children:[{type:"heading",depth:2,children:[{type:"text",value:"åºè¨€",position:{start:{line:2,column:4,offset:4},end:{line:2,column:6,offset:6}}}],position:{start:{line:2,column:1,offset:1},end:{line:2,column:6,offset:6}}},{type:"paragraph",children:[{type:"text",value:"Github Actionæ˜¯Githubè‡ª2018å¹´10æœˆæ¨å‡ºçš„ä¸€æ¬¾æœåŠ¡ï¼Œä¸»è¦ç”¨äºCI/CD",position:{start:{line:4,column:1,offset:8},end:{line:4,column:47,offset:54}}}],position:{start:{line:4,column:1,offset:8},end:{line:4,column:47,offset:54}}},{type:"containerDirective",name:"tip",attributes:{},children:[{type:"paragraph",children:[{type:"text",value:"CI / CD (",position:{start:{line:7,column:1,offset:63},end:{line:7,column:10,offset:72}}},{type:"strong",children:[{type:"text",value:"C",position:{start:{line:7,column:12,offset:74},end:{line:7,column:13,offset:75}}}],position:{start:{line:7,column:10,offset:72},end:{line:7,column:15,offset:77}}},{type:"text",value:"ontinuous ",position:{start:{line:7,column:15,offset:77},end:{line:7,column:25,offset:87}}},{type:"strong",children:[{type:"text",value:"I",position:{start:{line:7,column:27,offset:89},end:{line:7,column:28,offset:90}}}],position:{start:{line:7,column:25,offset:87},end:{line:7,column:30,offset:92}}},{type:"text",value:"ntegration / ",position:{start:{line:7,column:30,offset:92},end:{line:7,column:43,offset:105}}},{type:"strong",children:[{type:"text",value:"C",position:{start:{line:7,column:45,offset:107},end:{line:7,column:46,offset:108}}}],position:{start:{line:7,column:43,offset:105},end:{line:7,column:48,offset:110}}},{type:"text",value:"ontinuous ",position:{start:{line:7,column:48,offset:110},end:{line:7,column:58,offset:120}}},{type:"strong",children:[{type:"text",value:"D",position:{start:{line:7,column:60,offset:122},end:{line:7,column:61,offset:123}}}],position:{start:{line:7,column:58,offset:120},end:{line:7,column:63,offset:125}}},{type:"text",value:"elivery or ",position:{start:{line:7,column:63,offset:125},end:{line:7,column:74,offset:136}}},{type:"strong",children:[{type:"text",value:"D",position:{start:{line:7,column:76,offset:138},end:{line:7,column:77,offset:139}}}],position:{start:{line:7,column:74,offset:136},end:{line:7,column:79,offset:141}}},{type:"text",value:"eployment)",position:{start:{line:7,column:79,offset:141},end:{line:7,column:89,offset:151}}}],position:{start:{line:7,column:1,offset:63},end:{line:7,column:89,offset:151}}},{type:"paragraph",children:[{type:"text",value:"æŒç»­é›†æˆ & æŒç»­äº¤ä»˜/æŒç»­éƒ¨ç½²",position:{start:{line:9,column:1,offset:153},end:{line:9,column:17,offset:169}}}],position:{start:{line:9,column:1,offset:153},end:{line:9,column:17,offset:169}}}],position:{start:{line:6,column:1,offset:56},end:{line:10,column:4,offset:173}}},{type:"heading",depth:2,children:[{type:"text",value:"å¯ä»¥åšäº›ä»€ä¹ˆ",position:{start:{line:12,column:4,offset:178},end:{line:12,column:10,offset:184}}}],position:{start:{line:12,column:1,offset:175},end:{line:12,column:10,offset:184}}},{type:"list",ordered:true,start:1,spread:false,children:[{type:"listItem",spread:false,checked:null,children:[{type:"paragraph",children:[{type:"text",value:"è‡ªåŠ¨éƒ¨ç½²ä½ çš„é¡¹ç›®åˆ°Github Pages",position:{start:{line:14,column:4,offset:189},end:{line:14,column:25,offset:210}}}],position:{start:{line:14,column:4,offset:189},end:{line:14,column:25,offset:210}}}],position:{start:{line:14,column:1,offset:186},end:{line:14,column:25,offset:210}}},{type:"listItem",spread:false,checked:null,children:[{type:"paragraph",children:[{type:"text",value:"ç¼–è¯‘OpenWRTå›ºä»¶",position:{start:{line:15,column:4,offset:214},end:{line:15,column:15,offset:225}}}],position:{start:{line:15,column:4,offset:214},end:{line:15,column:15,offset:225}}}],position:{start:{line:15,column:1,offset:211},end:{line:15,column:15,offset:225}}},{type:"listItem",spread:false,checked:null,children:[{type:"paragraph",children:[{type:"text",value:"ä»£ç è´¨é‡æ£€æŸ¥",position:{start:{line:16,column:4,offset:229},end:{line:16,column:10,offset:235}}}],position:{start:{line:16,column:4,offset:229},end:{line:16,column:10,offset:235}}}],position:{start:{line:16,column:1,offset:226},end:{line:16,column:10,offset:235}}},{type:"listItem",spread:false,checked:null,children:[{type:"paragraph",children:[{type:"text",value:"...",position:{start:{line:17,column:4,offset:239},end:{line:17,column:7,offset:242}}}],position:{start:{line:17,column:4,offset:239},end:{line:17,column:7,offset:242}}}],position:{start:{line:17,column:1,offset:236},end:{line:17,column:7,offset:242}}}],position:{start:{line:14,column:1,offset:186},end:{line:17,column:7,offset:242}}},{type:"paragraph",children:[{type:"text",value:"Github Actionçš„ç©æ³•éå¸¸å¤šï¼Œåœ¨å®˜æ–¹çš„",position:{start:{line:19,column:1,offset:244},end:{line:19,column:25,offset:268}}},{type:"link",title:null,url:"https://github.com/marketplace?type=actions",children:[{type:"text",value:"Marketplace",position:{start:{line:19,column:26,offset:269},end:{line:19,column:37,offset:280}}}],position:{start:{line:19,column:25,offset:268},end:{line:19,column:83,offset:326}}},{type:"text",value:"ä¸­ï¼Œä½ å¯ä»¥æœç´¢åˆ°å¤§é‡åˆ«äººå·²ç»å†™å¥½çš„Actionï¼Œå‚è€ƒå¯¹åº”æ–‡æ¡£å³å¯è½»æ¾å®ç°ä¸€äº›å¼ºå¤§çš„åŠŸèƒ½ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æƒ³è‡ªå®šä¹‰ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå‰ææ˜¯ä½ è¶³å¤Ÿäº†è§£å®ƒã€‚",position:{start:{line:19,column:83,offset:326},end:{line:19,column:155,offset:398}}}],position:{start:{line:19,column:1,offset:244},end:{line:19,column:155,offset:398}}},{type:"heading",depth:2,children:[{type:"text",value:"ä¸€äº›æ¦‚å¿µ",position:{start:{line:21,column:4,offset:403},end:{line:21,column:8,offset:407}}}],position:{start:{line:21,column:1,offset:400},end:{line:21,column:8,offset:407}}},{type:"paragraph",children:[{type:"text",value:"åœ¨Github Actionä¸­ï¼Œé€šå¸¸ç”±ä¸€ä¸ªyamlé…ç½®æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå·¥ä½œæµã€‚è¿™ä¸ªyamlæ–‡ä»¶çš„å‘½åå¯ä»¥éšæ„ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨",position:{start:{line:23,column:1,offset:409},end:{line:23,column:60,offset:468}}},{type:"inlineCode",value:"/.github/workflows/",position:{start:{line:23,column:60,offset:468},end:{line:23,column:81,offset:489}}},{type:"text",value:"ç›®å½•ä¸‹ã€‚",position:{start:{line:23,column:81,offset:489},end:{line:23,column:85,offset:493}}}],position:{start:{line:23,column:1,offset:409},end:{line:23,column:85,offset:493}}},{type:"paragraph",children:[{type:"text",value:"åœ¨è¿™ä¸ªyamlæ–‡ä»¶ä¸‹ï¼Œä½ éœ€è¦è¿›è¡Œå¤§é‡çš„é…ç½®ã€‚",position:{start:{line:25,column:1,offset:495},end:{line:25,column:23,offset:517}}}],position:{start:{line:25,column:1,offset:495},end:{line:25,column:23,offset:517}}},{type:"paragraph",children:[{type:"text",value:"ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯¦ç»†ä»‹ç»ä¸€ä¸‹",position:{start:{line:27,column:1,offset:519},end:{line:27,column:19,offset:537}}}],position:{start:{line:27,column:1,offset:519},end:{line:27,column:19,offset:537}}},{type:"paragraph",children:[{type:"emphasis",children:[{type:"text",value:"github-actions-demo.yml",position:{start:{line:29,column:2,offset:540},end:{line:29,column:25,offset:563}}}],position:{start:{line:29,column:1,offset:539},end:{line:29,column:26,offset:564}}}],position:{start:{line:29,column:1,offset:539},end:{line:29,column:26,offset:564}}},{type:"code",lang:"yaml",meta:null,value:"# å±•ç¤ºçš„åç§° é»˜è®¤ä¸ºæ–‡ä»¶å\nname: GitHub Actions Demo\n# è§¦å‘çš„æ¡ä»¶ï¼Œè¯¦ç»†å‚è€ƒï¼šhttps://docs.github.com/en/actions/reference/events-that-trigger-workflows\non: [push]\n# å·¥ä½œ\njobs:\n   # è‡ªå®šä¹‰çš„å·¥ä½œ\n  Explore-GitHub-Actions:\n    # è¿è¡Œç¯å¢ƒï¼Œè¯¦ç»†å‚è€ƒï¼šhttps://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners\n    runs-on: ubuntu-latest\n    #æ­¥éª¤\n    steps:\n      - run: echo \"ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event.\"\n      - run: echo \"ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!\"\n      - run: echo \"ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}.\"\n      - name: Check out repository code\n        uses: actions/checkout@v2\n      - run: echo \"ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner.\"\n      - run: echo \"ğŸ–¥ï¸ The workflow is now ready to test your code on the runner.\"\n      - name: List files in the repository\n        run: |\n          ls ${{ github.workspace }}\n      - run: echo \"ğŸ This job's status is ${{ job.status }}.\"",position:{start:{line:30,column:1,offset:565},end:{line:54,column:4,offset:1635}}},{type:"paragraph",children:[{type:"text",value:"ä»¥ä¸Šæ˜¯ä¸€ä¸ªè¾ƒä¸ºç®€å•çš„æ¨¡æ¿ã€‚å…·ä½“ä¼šå› éœ€æ±‚çš„å¢åŠ å¯¼è‡´å‚æ•°ä¹Ÿä¼šå¢åŠ ï¼Œä¾‹å¦‚envï¼Œé€šå¸¸æ˜¯ä¸€äº›ä¸ªäººçš„é…ç½®å‚æ•°ã€‚æˆ–è€…secretsï¼Œä¸€èˆ¬æ˜¯ç”¨æ¥è·å–Githubçš„Access Tokenä¹‹ç±»çš„åŠ å¯†å‚æ•°ã€‚æ€»ä¹‹ï¼Œå¤§éƒ¨åˆ†é…ç½®éƒ½æ˜¯ç±»ä¼¼ç»“æ„ã€‚",position:{start:{line:56,column:1,offset:1637},end:{line:56,column:110,offset:1746}}}],position:{start:{line:56,column:1,offset:1637},end:{line:56,column:110,offset:1746}}},{type:"heading",depth:2,children:[{type:"text",value:"ä¸€ä¸ªæ —å­",position:{start:{line:58,column:4,offset:1751},end:{line:58,column:8,offset:1755}}}],position:{start:{line:58,column:1,offset:1748},end:{line:58,column:8,offset:1755}}},{type:"paragraph",children:[{type:"text",value:"å› ä¸ºæœ¬åšå®¢å°±æ˜¯åˆ©ç”¨äº†Github Actionå®Œæˆçš„æŒç»­éƒ¨ç½²ã€‚æ‰€ä»¥è¿™é‡Œç®€å•è¯´æ˜ä¸€ä¸‹è¯¥Actionçš„ä½¿ç”¨æ–¹å¼ã€‚",position:{start:{line:60,column:1,offset:1757},end:{line:60,column:55,offset:1811}}}],position:{start:{line:60,column:1,offset:1757},end:{line:60,column:55,offset:1811}}},{type:"paragraph",children:[{type:"text",value:"é¦–å…ˆåœ¨å¸‚åœºæœç´¢VuePressï¼Œå‘ç°äº†ä¸€ä¸ªstaræ•°æœ€é«˜çš„",position:{start:{line:62,column:1,offset:1813},end:{line:62,column:30,offset:1842}}},{type:"link",title:null,url:"https://github.com/marketplace/actions/vuepress-deploy",children:[{type:"text",value:"VuePress Deploy",position:{start:{line:62,column:31,offset:1843},end:{line:62,column:46,offset:1858}}}],position:{start:{line:62,column:30,offset:1842},end:{line:62,column:103,offset:1915}}}],position:{start:{line:62,column:1,offset:1813},end:{line:62,column:103,offset:1915}}},{type:"paragraph",children:[{type:"text",value:"ä½¿ç”¨æ–¹æ³•åœ¨å‘å¸ƒé¡µæè¿°çš„ååˆ†æ¸…æ¥šï¼Œå¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥é„¹",position:{start:{line:64,column:1,offset:1917},end:{line:64,column:27,offset:1943}}}],position:{start:{line:64,column:1,offset:1917},end:{line:64,column:27,offset:1943}}},{type:"list",ordered:true,start:1,spread:false,children:[{type:"listItem",spread:false,checked:null,children:[{type:"paragraph",children:[{type:"text",value:"åœ¨ä½ çš„VuePressé¡¹ç›®çš„æ ¹ç›®å½•æ–°å»º",position:{start:{line:66,column:4,offset:1948},end:{line:66,column:23,offset:1967}}},{type:"inlineCode",value:".github/workflows",position:{start:{line:66,column:23,offset:1967},end:{line:66,column:42,offset:1986}}},{type:"text",value:"ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­æ–°å»ºä¸€ä¸ª",position:{start:{line:66,column:42,offset:1986},end:{line:66,column:53,offset:1997}}},{type:"inlineCode",value:"vuepress-deploy.yml",position:{start:{line:66,column:53,offset:1997},end:{line:66,column:74,offset:2018}}},{type:"text",value:"æ–‡ä»¶ï¼Œå¤åˆ¶ä»¥ä¸‹å†…å®¹ã€‚",position:{start:{line:66,column:74,offset:2018},end:{line:66,column:84,offset:2028}}}],position:{start:{line:66,column:4,offset:1948},end:{line:66,column:84,offset:2028}}}],position:{start:{line:66,column:1,offset:1945},end:{line:66,column:84,offset:2028}}}],position:{start:{line:66,column:1,offset:1945},end:{line:66,column:84,offset:2028}}},{type:"code",lang:"yaml",meta:null,value:"name: Build and Deploy\non: [push]\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n    - name: Checkout\n      uses: actions/checkout@master\n\n    - name: vuepress-deploy\n      uses: jenkey2011/vuepress-deploy@master\n      env:\n        ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}\n        TARGET_REPO: username/repo\n        TARGET_BRANCH: master\n        BUILD_SCRIPT: yarn && yarn build\n        BUILD_DIR: blog/.vuepress/dist/",position:{start:{line:68,column:1,offset:2030},end:{line:86,column:4,offset:2478}}},{type:"paragraph",children:[{type:"text",value:"å…¶ä¸­",position:{start:{line:88,column:1,offset:2480},end:{line:88,column:3,offset:2482}}},{type:"inlineCode",value:"TARGET_REPO",position:{start:{line:88,column:3,offset:2482},end:{line:88,column:16,offset:2495}}},{type:"text",value:"æ˜¯Githubçš„ç”¨æˆ·ååŠä½ æƒ³å­˜æ”¾VuePressçš„ä»“åº“ï¼Œ",position:{start:{line:88,column:16,offset:2495},end:{line:88,column:44,offset:2523}}},{type:"inlineCode",value:"TARGET_BRANCH",position:{start:{line:88,column:44,offset:2523},end:{line:88,column:59,offset:2538}}},{type:"text",value:"æ˜¯ä½ æƒ³è¦æ¨é€ä»“åº“çš„åˆ†æ”¯ï¼Œ",position:{start:{line:88,column:59,offset:2538},end:{line:88,column:71,offset:2550}}},{type:"inlineCode",value:"BUILD_SCRIPT",position:{start:{line:88,column:71,offset:2550},end:{line:88,column:85,offset:2564}}},{type:"text",value:"æ˜¯ä½ çš„æ„å»ºè„šæœ¬ï¼Œ",position:{start:{line:88,column:85,offset:2564},end:{line:88,column:93,offset:2572}}},{type:"inlineCode",value:"BUILD_DIR",position:{start:{line:88,column:93,offset:2572},end:{line:88,column:104,offset:2583}}},{type:"text",value:"æ˜¯ä½ æ„å»ºä¹‹åç”Ÿæˆçš„æ–‡ä»¶ç›®å½•ã€‚æ ¹æ®è‡ªå·±æœ¬åœ°çš„æƒ…å†µç›¸åº”é…ç½®å³å¯ã€‚",position:{start:{line:88,column:104,offset:2583},end:{line:88,column:134,offset:2613}}}],position:{start:{line:88,column:1,offset:2480},end:{line:88,column:134,offset:2613}}},{type:"list",ordered:true,start:2,spread:true,children:[{type:"listItem",spread:true,checked:null,children:[{type:"paragraph",children:[{type:"text",value:"Github tokençš„ç”Ÿæˆå’Œä»“åº“secretsçš„æ·»åŠ ",position:{start:{line:90,column:4,offset:2618},end:{line:90,column:32,offset:2646}}}],position:{start:{line:90,column:4,offset:2618},end:{line:90,column:32,offset:2646}}},{type:"paragraph",children:[{type:"text",value:"Tokençš„ç”Ÿæˆï¼šç‚¹å‡»ä½ çš„å¤´åƒ > Settings > Developer settings > Personal access tokens > Generate new token. æƒé™è‡³å°‘è¦å‹¾é€‰repo\nsecretsçš„æ·»åŠ ï¼šGithubçš„ä»“åº“ä¸‹ > Settings > Secretsï¼Œ åˆ›å»ºACCESS_TOKENï¼Œ å€¼å°±å¡«å†™ä½ åˆšæ‰åˆ›å»ºçš„tokenï¼Œç¡®å®šã€‚",position:{start:{line:92,column:5,offset:2652},end:{line:93,column:84,offset:2842}}}],position:{start:{line:92,column:5,offset:2652},end:{line:93,column:84,offset:2842}}}],position:{start:{line:90,column:1,offset:2615},end:{line:93,column:84,offset:2842}}},{type:"listItem",spread:false,checked:null,children:[{type:"paragraph",children:[{type:"text",value:"æ¨é€ä½ çš„æœ¬åœ°ä»“åº“åˆ°Githubï¼Œè§¦å‘Pushäº‹ä»¶ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¼€å§‹ã€‚åœ¨ä»“åº“çš„Actioné¡µé¢ä¸‹å³å¯æŸ¥çœ‹å…·ä½“è¿‡ç¨‹çš„æƒ…å†µã€‚",position:{start:{line:95,column:4,offset:2847},end:{line:95,column:62,offset:2905}}}],position:{start:{line:95,column:4,offset:2847},end:{line:95,column:62,offset:2905}}}],position:{start:{line:95,column:1,offset:2844},end:{line:95,column:62,offset:2905}}}],position:{start:{line:90,column:1,offset:2615},end:{line:95,column:62,offset:2905}}},{type:"heading",depth:2,children:[{type:"text",value:"æœ€å",position:{start:{line:97,column:4,offset:2910},end:{line:97,column:6,offset:2912}}}],position:{start:{line:97,column:1,offset:2907},end:{line:97,column:6,offset:2912}}},{type:"paragraph",children:[{type:"text",value:"è‡ªæ­¤ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹Github Actionæœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚ç°åœ¨ï¼Œä½ å·²ç»å¯ä»¥å¼€å§‹å°è¯•é€šè¿‡",position:{start:{line:99,column:1,offset:2914},end:{line:99,column:47,offset:2960}}},{type:"link",title:null,url:"https://github.com/marketplace?type=actions",children:[{type:"text",value:"Marketplace",position:{start:{line:99,column:48,offset:2961},end:{line:99,column:59,offset:2972}}}],position:{start:{line:99,column:47,offset:2960},end:{line:99,column:105,offset:3018}}},{type:"text",value:"æœç´¢ä½ æ„Ÿå…´è¶£çš„Actionå¹¶ä½¿ç”¨ï¼Œæˆ–è€…å‚è€ƒ",position:{start:{line:99,column:105,offset:3018},end:{line:99,column:126,offset:3039}}},{type:"link",title:null,url:"https://docs.github.com/en/actions",children:[{type:"text",value:"å®˜æ–¹æ–‡æ¡£",position:{start:{line:99,column:127,offset:3040},end:{line:99,column:131,offset:3044}}}],position:{start:{line:99,column:126,offset:3039},end:{line:99,column:168,offset:3081}}},{type:"text",value:"è‡ªè¡Œç¼–å†™ä¸€ä¸ªActionäº†ã€‚",position:{start:{line:99,column:168,offset:3081},end:{line:99,column:182,offset:3095}}}],position:{start:{line:99,column:1,offset:2914},end:{line:99,column:182,offset:3095}}}],position:{start:{line:1,column:1,offset:0},end:{line:100,column:1,offset:3096}}},postMeta:{title:"Github Actionå¿«é€Ÿæ‰«ç›²",date:new Date(1619386951000),categories:["Guide"],tags:["Github"],link:"post/2021/20210425/"}},"uses":{"params":["slug"],"parent":1}}],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
</body>

</html>